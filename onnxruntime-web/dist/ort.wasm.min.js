/*!
* ONNX Runtime Web v1.15.0
* Copyright (c) Microsoft Corporation. All rights reserved.
* Licensed under the MIT License.
*/
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ort=t():e.ort=t()}(self,(()=>(()=>{var e={453:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InferenceSession:()=>d,Tensor:()=>f,env:()=>i,registerBackend:()=>o});const r={},a=[],o=(e,t,n)=>{if(!t||"function"!=typeof t.init||"function"!=typeof t.createSessionHandler)throw new TypeError("not a valid backend");{const o=r[e];if(void 0===o)r[e]={backend:t,priority:n};else{if(o.priority>n)return;if(o.priority===n&&o.backend!==t)throw new Error(`cannot register backend "${e}" using priority ${n}`)}if(n>=0){const t=a.indexOf(e);-1!==t&&a.splice(t,1);for(let t=0;t<a.length;t++)if(r[a[t]].priority<=n)return void a.splice(t,0,e);a.push(e)}}},i=new class{constructor(){this.wasm={},this.webgl={},this.webgpu={},this.logLevelInternal="warning"}set logLevel(e){if(void 0!==e){if("string"!=typeof e||-1===["verbose","info","warning","error","fatal"].indexOf(e))throw new Error(`Unsupported logging level: ${e}`);this.logLevelInternal=e}}get logLevel(){return this.logLevelInternal}},s=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),u=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);let c=!1;class l{constructor(e,t,n){let r,a,o;if((()=>{if(!c){c=!0;const e="undefined"!=typeof BigInt64Array&&"function"==typeof BigInt64Array.from,t="undefined"!=typeof BigUint64Array&&"function"==typeof BigUint64Array.from;e&&(s.set("int64",BigInt64Array),u.set(BigInt64Array,"int64")),t&&(s.set("uint64",BigUint64Array),u.set(BigUint64Array,"uint64"))}})(),"string"==typeof e)if(r=e,o=n,"string"===e){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");a=t}else{const n=s.get(e);if(void 0===n)throw new TypeError(`Unsupported tensor type: ${e}.`);if(Array.isArray(t))a=n.from(t);else{if(!(t instanceof n))throw new TypeError(`A ${r} tensor's data must be type of ${n}`);a=t}}else if(o=t,Array.isArray(e)){if(0===e.length)throw new TypeError("Tensor type cannot be inferred from an empty array.");const t=typeof e[0];if("string"===t)r="string",a=e;else{if("boolean"!==t)throw new TypeError(`Invalid element type of data array: ${t}.`);r="bool",a=Uint8Array.from(e)}}else{const t=u.get(e.constructor);if(void 0===t)throw new TypeError(`Unsupported type for tensor data: ${e.constructor}.`);r=t,a=e}if(void 0===o)o=[a.length];else if(!Array.isArray(o))throw new TypeError("A tensor's dims must be a number array");const i=(e=>{let t=1;for(let n=0;n<e.length;n++){const r=e[n];if("number"!=typeof r||!Number.isSafeInteger(r))throw new TypeError(`dims[${n}] must be an integer, got: ${r}`);if(r<0)throw new RangeError(`dims[${n}] must be a non-negative integer, got: ${r}`);t*=r}return t})(o);if(i!==a.length)throw new Error(`Tensor's size(${i}) does not match data length(${a.length}).`);this.dims=o,this.type=r,this.data=a,this.size=i}static bufferToTensor(e,t){if(void 0===e)throw new Error("Image buffer must be defined");if(void 0===t.height||void 0===t.width)throw new Error("Image height and width must be defined");const{height:n,width:r}=t,a=t.norm;let o,i;o=void 0===a||void 0===a.mean?255:a.mean,i=void 0===a||void 0===a.bias?0:a.bias;const s=void 0!==t.bitmapFormat?t.bitmapFormat:"RGBA",u=void 0!==t.tensorFormat&&void 0!==t.tensorFormat?t.tensorFormat:"RGB",c=n*r,f="RGBA"===u?new Float32Array(4*c):new Float32Array(3*c);let p=4,d=0,h=1,g=2,m=3,y=0,v=c,b=2*c,w=-1;"RGB"===s&&(p=3,d=0,h=1,g=2,m=-1),"RGBA"===u?w=3*c:"RBG"===u?(y=0,b=c,v=2*c):"BGR"===u&&(b=0,v=c,y=2*c);for(let t=0;t<c;t++,d+=p,g+=p,h+=p,m+=p)f[y++]=(e[d]+i)/o,f[v++]=(e[h]+i)/o,f[b++]=(e[g]+i)/o,-1!==w&&-1!==m&&(f[w++]=(e[m]+i)/o);return new l("float32",f,"RGBA"===u?[1,4,n,r]:[1,3,n,r])}static async fromImage(e,t){const n="undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement,r="undefined"!=typeof ImageData&&e instanceof ImageData,a="undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap,o="undefined"!=typeof String&&(e instanceof String||"string"==typeof e);let i,s={};if(n){const n=document.createElement("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");if(null==r)throw new Error("Can not access image data");{let n=e.height,a=e.width;if(void 0!==t&&void 0!==t.resizedHeight&&void 0!==t.resizedWidth&&(n=t.resizedHeight,a=t.resizedWidth),void 0!==t){if(s=t,void 0!==t.tensorFormat)throw new Error("Image input config format must be RGBA for HTMLImageElement");if(s.tensorFormat="RGBA",void 0!==t.height&&t.height!==n)throw new Error("Image input config height doesn't match HTMLImageElement height");if(s.height=n,void 0!==t.width&&t.width!==a)throw new Error("Image input config width doesn't match HTMLImageElement width");s.width=a}else s.tensorFormat="RGBA",s.height=n,s.width=a;r.drawImage(e,0,0),i=r.getImageData(0,0,a,n).data}}else{if(!r){if(a){if(void 0===t)throw new Error("Please provide image config with format for Imagebitmap");if(void 0!==t.bitmapFormat)throw new Error("Image input config format must be defined for ImageBitmap");const n=document.createElement("canvas").getContext("2d");if(null!=n){const r=e.height,a=e.width;if(n.drawImage(e,0,0,a,r),i=n.getImageData(0,0,a,r).data,void 0!==t){if(void 0!==t.height&&t.height!==r)throw new Error("Image input config height doesn't match ImageBitmap height");if(s.height=r,void 0!==t.width&&t.width!==a)throw new Error("Image input config width doesn't match ImageBitmap width");s.width=a}else s.height=r,s.width=a;return l.bufferToTensor(i,s)}throw new Error("Can not access image data")}if(o)return new Promise(((n,r)=>{const a=document.createElement("canvas"),o=a.getContext("2d");if(!e||!o)return r();const i=new Image;i.crossOrigin="Anonymous",i.src=e,i.onload=()=>{a.width=i.width,a.height=i.height,o.drawImage(i,0,0,a.width,a.height);const e=o.getImageData(0,0,a.width,a.height);if(void 0!==t){if(void 0!==t.height&&t.height!==a.height)throw new Error("Image input config height doesn't match ImageBitmap height");if(s.height=a.height,void 0!==t.width&&t.width!==a.width)throw new Error("Image input config width doesn't match ImageBitmap width");s.width=a.width}else s.height=a.height,s.width=a.width;n(l.bufferToTensor(e.data,s))}}));throw new Error("Input data provided is not supported - aborted tensor creation")}{const n="RGBA";let r,a;if(void 0!==t&&void 0!==t.resizedWidth&&void 0!==t.resizedHeight?(r=t.resizedHeight,a=t.resizedWidth):(r=e.height,a=e.width),void 0!==t){if(s=t,void 0!==t.bitmapFormat&&t.bitmapFormat!==n)throw new Error("Image input config format must be RGBA for ImageData");s.bitmapFormat="RGBA"}else s.bitmapFormat="RGBA";if(s.height=r,s.width=a,void 0!==t){const t=document.createElement("canvas");t.width=a,t.height=r;const n=t.getContext("2d");if(null==n)throw new Error("Can not access image data");n.putImageData(e,0,0),i=n.getImageData(0,0,a,r).data}else i=e.data}}if(void 0!==i)return l.bufferToTensor(i,s);throw new Error("Input data provided is not supported - aborted tensor creation")}toImageData(e){const t=document.createElement("canvas").getContext("2d");let n;if(null==t)throw new Error("Can not access image data");{const r=this.dims[3],a=this.dims[2],o=this.dims[1],i=void 0!==e&&void 0!==e.format?e.format:"RGB",s=void 0!==e&&void 0!==e.norm?.mean?e.norm.mean:255,u=void 0!==e&&void 0!==e.norm?.bias?e.norm.bias:0,c=a*r;if(void 0!==e){if(void 0!==e.height&&e.height!==a)throw new Error("Image output config height doesn't match tensor height");if(void 0!==e.width&&e.width!==r)throw new Error("Image output config width doesn't match tensor width");if(void 0!==e.format&&4===o&&"RGBA"!==e.format||3===o&&"RGB"!==e.format&&"BGR"!==e.format)throw new Error("Tensor format doesn't match input tensor dims")}const l=4;let f=0,p=1,d=2,h=3,g=0,m=c,y=2*c,v=-1;"RGBA"===i?(g=0,m=c,y=2*c,v=3*c):"RGB"===i?(g=0,m=c,y=2*c):"RBG"===i&&(g=0,y=c,m=2*c),n=t.createImageData(r,a);for(let e=0;e<a*r;f+=l,p+=l,d+=l,h+=l,e++)n.data[f]=(this.data[g++]-u)*s,n.data[p]=(this.data[m++]-u)*s,n.data[d]=(this.data[y++]-u)*s,n.data[h]=-1===v?255:(this.data[v++]-u)*s}return n}reshape(e){return new l(this.type,this.data,e)}}const f=l;class p{constructor(e){this.handler=e}async run(e,t,n){const r={};let a={};if("object"!=typeof e||null===e||e instanceof f||Array.isArray(e))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let o=!0;if("object"==typeof t){if(null===t)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof f)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(0===t.length)throw new TypeError("'fetches' cannot be an empty array.");o=!1;for(const e of t){if("string"!=typeof e)throw new TypeError("'fetches' must be a string array or an object.");if(-1===this.outputNames.indexOf(e))throw new RangeError(`'fetches' contains invalid output name: ${e}.`);r[e]=null}if("object"==typeof n&&null!==n)a=n;else if(void 0!==n)throw new TypeError("'options' must be an object.")}else{let e=!1;const i=Object.getOwnPropertyNames(t);for(const n of this.outputNames)if(-1!==i.indexOf(n)){const a=t[n];(null===a||a instanceof f)&&(e=!0,o=!1,r[n]=a)}if(e){if("object"==typeof n&&null!==n)a=n;else if(void 0!==n)throw new TypeError("'options' must be an object.")}else a=t}}else if(void 0!==t)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const t of this.inputNames)if(void 0===e[t])throw new Error(`input '${t}' is missing in 'feeds'.`);if(o)for(const e of this.outputNames)r[e]=null;const i=await this.handler.run(e,r,a),s={};for(const e in i)Object.hasOwnProperty.call(i,e)&&(s[e]=new f(i[e].type,i[e].data,i[e].dims));return s}static async create(e,t,n,o){let i,s={};if("string"==typeof e){if(i=e,"object"==typeof t&&null!==t)s=t;else if(void 0!==t)throw new TypeError("'options' must be an object.")}else if(e instanceof Uint8Array){if(i=e,"object"==typeof t&&null!==t)s=t;else if(void 0!==t)throw new TypeError("'options' must be an object.")}else{if(!(e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const r=e;let a=0,u=e.byteLength;if("object"==typeof t&&null!==t)s=t;else if("number"==typeof t){if(a=t,!Number.isSafeInteger(a))throw new RangeError("'byteOffset' must be an integer.");if(a<0||a>=r.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${r.byteLength}).`);if(u=e.byteLength-a,"number"==typeof n){if(u=n,!Number.isSafeInteger(u))throw new RangeError("'byteLength' must be an integer.");if(u<=0||a+u>r.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${r.byteLength-a}].`);if("object"==typeof o&&null!==o)s=o;else if(void 0!==o)throw new TypeError("'options' must be an object.")}else if(void 0!==n)throw new TypeError("'byteLength' must be a number.")}else if(void 0!==t)throw new TypeError("'options' must be an object.");i=new Uint8Array(r,a,u)}}const u=(s.executionProviders||[]).map((e=>"string"==typeof e?e:e.name)),c=await(async e=>{const t=0===e.length?a:e,n=[];for(const e of t){const t=r[e];if(t){if(t.initialized)return t.backend;if(t.aborted)continue;const r=!!t.initPromise;try{return r||(t.initPromise=t.backend.init()),await t.initPromise,t.initialized=!0,t.backend}catch(a){r||n.push({name:e,err:a}),t.aborted=!0}finally{delete t.initPromise}}}throw new Error(`no available backend found. ERR: ${n.map((e=>`[${e.name}] ${e.err}`)).join(", ")}`)})(u),l=await c.createSessionHandler(i,s);return new p(l)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}const d=p},818:(e,t,n)=>{"use strict";t.c8=t.rX=void 0;const r=n(453),a=n(381),o=n(544),i=n(640);t.rX=()=>{if(("number"!=typeof r.env.wasm.initTimeout||r.env.wasm.initTimeout<0)&&(r.env.wasm.initTimeout=0),"boolean"!=typeof r.env.wasm.simd&&(r.env.wasm.simd=!0),"boolean"!=typeof r.env.wasm.proxy&&(r.env.wasm.proxy=!1),"number"!=typeof r.env.wasm.numThreads||!Number.isInteger(r.env.wasm.numThreads)||r.env.wasm.numThreads<=0){const e="undefined"==typeof navigator?(0,a.cpus)().length:navigator.hardwareConcurrency;r.env.wasm.numThreads=Math.min(4,Math.ceil((e||1)/2))}},t.c8=new class{async init(){(0,t.rX)(),await(0,o.initWasm)()}async createSessionHandler(e,t){const n=new i.OnnxruntimeWebAssemblySessionHandler;return await n.loadModel(e,t),Promise.resolve(n)}}},57:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(453),t);const o=n(453);{const e=n(818).c8;(0,o.registerBackend)("webgpu",e,5),(0,o.registerBackend)("cpu",e,10),(0,o.registerBackend)("wasm",e,10),(0,o.registerBackend)("xnnpack",e,9),(0,o.registerBackend)("webnn",e,9)}},838:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGpuBackend=void 0;const r=n(453),a=n(955),o=n(771),i=n(510),s=n(305);t.WebGpuBackend=class{constructor(){this.currentKernelId=null,this.commandEncoder=null,this.computePassEncoder=null,this.pendingDispatchNumber=0,this.profilingEnabled=!1}get currentKernelCustomData(){if(null===this.currentKernelId)throw new Error("currentKernelCustomData(): currentKernelId is null. (should not happen)");let e=this.kernelCustomData.get(this.currentKernelId);return e||(e={},this.kernelCustomData.set(this.currentKernelId,e)),e}async initialize(){if(!navigator.gpu)throw new Error("WebGpuBackend: WebGPU is not available.");const e=await navigator.gpu.requestAdapter();if(!e)throw new Error("WebGpuBackend: Failed to get GPU adapter.");const t={requiredLimits:{maxComputeWorkgroupStorageSize:e.limits.maxComputeWorkgroupStorageSize,maxComputeWorkgroupsPerDimension:e.limits.maxComputeWorkgroupsPerDimension,maxStorageBufferBindingSize:e.limits.maxStorageBufferBindingSize}};e.features.has("timestamp-query-inside-passes")&&"default"===r.env.webgpu.profilingMode&&(this.profilingEnabled=!0,t.requiredFeatures=["timestamp-query-inside-passes"]),this.device=await e.requestDevice(t),this.gpuDataManager=(0,o.createGpuDataManager)(this),this.programManager=new s.ProgramManager(this),this.kernels=new Map,this.kernelPersistentData=new Map,this.kernelCustomData=new Map,this.device.onuncapturederror=e=>{e.error instanceof GPUValidationError&&console.error(`An uncaught WebGPU validation error was raised: ${e.error.message}`)},this.profilingEnabled&&(this.profilingQuerySet=this.device.createQuerySet({type:"timestamp",count:2}))}dispose(){}getCommandEncoder(){return this.commandEncoder||(this.commandEncoder=this.device.createCommandEncoder()),this.commandEncoder}getComputePassEncoder(){return this.computePassEncoder||(this.computePassEncoder=this.getCommandEncoder().beginComputePass()),this.computePassEncoder}endComputePass(){this.computePassEncoder&&(this.computePassEncoder.end(),this.computePassEncoder=null)}flush(){this.endComputePass(),this.device.queue.submit([this.getCommandEncoder().finish()]),this.gpuDataManager.refreshPendingBuffers(),this.commandEncoder=null,this.pendingDispatchNumber=0}run(e,t,n,r,o){if(t.length!==e.inputTypes.length)throw new Error(`Input size must be equal to ${e.inputTypes.length}.`);const i=[];for(let e=0;e<t.length;++e){const n=this.gpuDataManager.get(t[e].data);if(!n)throw new Error(`no GPU data for input: ${t[e].data}`);i[e]=n}const s=((e,t,n)=>{const r=t.map((e=>`${e.join(",")}`)).join("_"),a=n.join("_");let o=e.name;return e.cacheHint&&(o+="["+e.cacheHint+"]"),o+=":"+r+";"+a,o})(e,t.map((e=>e.dims)),i.map((e=>e.type)));let u=this.programManager.getArtifact(s);const c=u?u.programInfo:"function"==typeof e.get?e.get():e,l=0===n.length?c.outputs.map(((e,t)=>t)):n;if(l.length!==c.outputs.length)throw new Error(`Output size ${l.length} must be equal to ${c.outputs.length}.`);const f=[],p=[];for(let e=0;e<c.outputs.length;++e){if(!Number.isInteger(l[e])||l[e]<-2||l[e]>=c.outputs.length)throw new Error(`Invalid output index: ${l[e]}`);const t=-1===l[e],n=-2===l[e],a=t||n?o(c.outputs[e].dataType,c.outputs[e].dims):r(l[e],c.outputs[e].dataType,c.outputs[e].dims),i=this.gpuDataManager.get(a.data);if(!i)throw new Error(`no GPU data for output: ${a.data}`);if(t&&this.temporaryData.push(i),n){let e=this.kernelPersistentData.get(this.currentKernelId);e||(e=[],this.kernelPersistentData.set(this.currentKernelId,e)),e.push(i)}f.push(a),p.push(i)}const d=this.programManager.normalizeDispatchGroupSize(c.dispatchGroup(t));return u||(u=this.programManager.build(c,d),this.programManager.setArtifact(s,u)),(0,a.LOG_DEBUG)("info",(()=>`[ProgramManager] run "${c.name}" (key=${s}) with ${d[0]}x${d[1]}x${d[2]}`)),this.programManager.run(u,i,p,d),f}upload(e,t){this.gpuDataManager.upload(e,t)}memcpy(e,t){this.gpuDataManager.memcpy(e,t)}async download(e,t){const n=await this.gpuDataManager.download(e);t.set(new Uint8Array(n))}alloc(e){return this.gpuDataManager.create(e).id}free(e){return this.gpuDataManager.release(e)}createKernel(e,t,n){const r=i.WEBGPU_OP_RESOLVE_RULES.get(e);if(!r)throw new Error(`kernel not implemented: ${e}`);this.kernels.set(t,[e,r[0],[r[1],n]])}releaseKernel(e){const t=this.kernelPersistentData.get(e);if(t){for(const e of t)this.gpuDataManager.release(e.id);this.kernelPersistentData.delete(e)}this.kernelCustomData.delete(e),this.kernels.delete(e)}computeKernel(e,t){const n=this.kernels.get(e);if(!n)throw new Error(`kernel not created: ${e}`);const[r,o,i]=n;if(null!==this.currentKernelId)throw new Error(`kernel "${r}" is not allowed to be called recursively`);this.currentKernelId=e,i[0]&&(i[1]=i[0](i[1]),i[0]=void 0),(0,a.LOG_DEBUG)("info",(()=>`[WebGPU] Start to run kernel "${r}"...`)),this.temporaryData=[];try{return o(t,i[1]),0}catch(e){return(0,a.LOG_DEBUG)("warning",`[WebGPU] Kernel "${r}" failed. Error: ${e}`),1}finally{for(const e of this.temporaryData)this.gpuDataManager.release(e.id);this.temporaryData=[],this.currentKernelId=null}}}},675:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(917),a=n(838),o=n(955),i=n(952);class s{constructor(e,t,n,r){this.module=e,this.dataType=t,this.data=n,this.dims=r}getFloat32Array(){return new Float32Array(this.module.HEAP8.buffer,this.data,i.ShapeUtil.size(this.dims))}reshape(e){if(i.ShapeUtil.size(e)!==i.ShapeUtil.size(this.dims))throw new Error("Invalid new shape");return new s(this.module,this.dataType,this.data,e)}}class u{get customData(){return this.backend.currentKernelCustomData}constructor(e,t,n){this.module=e,this.backend=t;const r=e.HEAPU32;let a=n>>2;this.opKernelContext=r[a++];const o=r[a++],i=[];for(let t=0;t<o;t++){const t=r[a++],n=r[a++],o=r[a++],u=[];for(let e=0;e<o;e++)u.push(r[a++]);i.push(new s(e,t,n,u))}this.inputs=i}compute(e,t){var n,a,o;const u=null!==(a=null===(n=null==t?void 0:t.inputs)||void 0===n?void 0:n.map((e=>"number"==typeof e?this.inputs[e]:e)))&&void 0!==a?a:this.inputs,c=null!==(o=null==t?void 0:t.outputs)&&void 0!==o?o:[];return this.backend.run(e,u,c,((e,t,n)=>new s(this.module,t,this.output(e,n),n)),((e,t)=>{const n=(0,r.getTensorElementSize)(e);if(!n)throw new Error(`Unsupported data type: ${e}`);const a=n*i.ShapeUtil.size(t);return new s(this.module,e,this.backend.gpuDataManager.create(a).id,t)}))}output(e,t){const n=this.module.stackSave();try{const n=this.module.stackAlloc(4*(1+t.length));let r=n>>2;this.module.HEAPU32[r++]=t.length;for(let e=0;e<t.length;e++)this.module.HEAPU32[r++]=t[e];return this.module._JsepOutput(this.opKernelContext,e,n)}finally{this.module.stackRestore(n)}}}t.init=async e=>{const t=e.jsepInit;if(t&&navigator.gpu){const n=new a.WebGpuBackend;await n.initialize(),t({backend:n},(e=>n.alloc(e)),(e=>n.free(e)),((t,r,a,i=!1)=>{if(i)(0,o.LOG_DEBUG)("verbose",(()=>`[WebGPU] jsepCopyGpuToGpu: src=${t}, dst=${r}, size=${a}`)),n.memcpy(t,r);else{(0,o.LOG_DEBUG)("verbose",(()=>`[WebGPU] jsepCopyCpuToGpu: dataOffset=${t}, gpuDataId=${r}, size=${a}`));const i=e.HEAPU8.subarray(t,t+a);n.upload(r,i)}}),(async(t,r,a)=>{const i=e.HEAPU8.subarray(r,r+a);(0,o.LOG_DEBUG)("verbose",(()=>`[WebGPU] jsepCopyGpuToCpu: gpuDataId=${t}, dataOffset=${r}, size=${a}`)),await n.download(t,i)}),((e,t,r)=>n.createKernel(e,t,r)),(e=>n.releaseKernel(e)),((t,r)=>{(0,o.LOG_DEBUG)("verbose",(()=>`[WebGPU] jsepRun: kernel=${t}, contextDataOffset=${r}`));const a=new u(e,n,r);return n.computeKernel(t,a)}))}}},955:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOG_DEBUG=t.LOG=void 0;const r=n(453),a=n(917),o=["V","I","W","E","F"];t.LOG=(e,t)=>{const n=(0,a.logLevelStringToEnum)(e);var i,s;n>=(0,a.logLevelStringToEnum)(r.env.logLevel)&&(i=n,s="function"==typeof t?t():t,console.log(`[${o[i]},${(new Date).toISOString()}]${s}`))},t.LOG_DEBUG=(...e)=>{r.env.debug&&(0,t.LOG)(...e)}},952:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_CLIP=t.MIN_CLIP=t.GemmUtil=t.PoolConvUtil=t.ShapeUtil=t.BroadcastUtil=t.MatMulUtil=void 0;class n{static calcMatMulShape(e,t){return e[1]!==t[0]?void 0:[e[0],t[1]]}}t.MatMulUtil=n;class r{static calcShape(e,t,r=!1){const a=e.length,o=t.length;if(0===a)return t;if(0===o)return e;const i=Math.max(e.length,t.length),s=new Array(i);if(r){if(a<2||o<2)return;const r=n.calcMatMulShape([e[a-2],e[a-1]],[t[o-2],t[o-1]]);if(void 0===r)return;[s[i-2],s[i-1]]=r}for(let n=r?3:1;n<=i;n++){const r=a-n<0?1:e[a-n],u=o-n<0?1:t[o-n];if(r!==u&&r>1&&u>1)return;s[i-n]=Math.max(r,u)}return s}static isValidBroadcast(e,t){const n=e.length,r=t.length;if(n>r)return!1;for(let a=1;a<=n;a++)if(1!==e[n-a]&&e[n-a]!==t[r-a])return!1;return!0}}t.BroadcastUtil=r;class a{static size(e){return a.getSizeFromDimensionRange(e,0,e.length)}static sizeFromDimension(e,t){if(t<0||t>e.length)throw new Error(`invalid dimension of ${t} for sizeFromDimension as Tensor has ${e.length} dimensions.`);return a.getSizeFromDimensionRange(e,t,e.length)}static sizeToDimension(e,t){if(t<0||t>e.length)throw new Error(`invalid dimension of ${t} for sizeToDimension as Tensor has ${e.length} dimensions.`);return a.getSizeFromDimensionRange(e,0,t)}static getSizeFromDimensionRange(e,t,n){let r=1;for(let a=t;a<n;a++){if(e[a]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");r*=e[a]}return r}static computeStrides(e){const t=e.length;if(0===t)return[];if(1===t)return[1];const n=new Array(t);n[t-1]=1,n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}static normalizeAxis(e,t){if(e<-t&&e>=t)throw new Error("unsupported axis for this operation.");return e<0?e+t:e}static normalizeAxes(e,t){return e.map((n=>this.normalizeAxis(n,null!=t?t:e.length)))}static sortBasedOnPerm(e,t){return t?t.map((t=>e[t])):e.slice().reverse()}static padShape(e,t){const n=e.length;return e.map(((e,r)=>e+t[r]+t[r+n]))}static areEqual(e,t){return e.length===t.length&&e.every(((e,n)=>e===t[n]))}}t.ShapeUtil=a;class o{static adjustPoolAttributes(e,t,n,r,a,o){if(!e&&n.length!==t.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(e)for(let e=0;e<t.length-2;e++)e>=n.length?n.push(t[e+2]):n[e]=t[e+2];for(let e=0;e<n.length;e++)if(e<r.length){if(r[e]<0)throw new Error("strides should be greater than or equal to 1")}else r.push(1);for(let e=0;e<n.length;e++)if(e<a.length){if(a[e]<0)throw new Error("dilations should be greater than or equal to 1")}else a.push(1);for(let e=0;e<2*n.length;e++)if(e<o.length){if(o[e]<0)throw new Error("pad should be greater than or equal to 1")}else o.push(0);for(let e=0;e<n.length;e++){if(n[e]<=0)throw new Error("kernel shapes need to be greater than 0");if(o[e]>=n[e]||o[e+n.length]>=n[e])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(e,t,n,r,a,i,s){if(s){if(a.length!==2*(e.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(t.length!==e.length-2)throw new Error("length of strides should be the length of data dimensions");if(r.length!==e.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let u=0;u<e.length-2;u++)o.adjustPadAndReturnShape(e[u+(i?1:2)],t[u],n[u],r[u],a,u,u+e.length-2,s)}}static computePoolOutputShape(e,t,n,r,a,i,s){if(t.length<=0)throw new Error("input shape must be of size greater than 0");const u=[t[0],t[1]];return o.computeShapeHelper(e,t,u,n,r,a,i,s),u}static computeConvOutputShape(e,t,n,r,a,i,s){if(e.length<=0||t.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const u=[e[0],t[0]];return o.computeShapeHelper(!1,e,u,n,r,a,i,s),u}static computeShapeHelper(e,t,n,r,a,i,s,u){if(e)for(let e=0;e<t.length-2;e++)n.push(1);else for(let e=0;e<t.length-2;e++)n.push(o.adjustPadAndReturnShape(t[e+2],r[e],a[e],i[e],s,e,e+t.length-2,u))}static adjustPadAndReturnShape(e,t,n,r,a,o,i,s){const u=n*(r-1)+1;if(!s||"NOTSET"===s)return Math.floor((e+a[o]+a[i]-u)/t+1);switch(s){case"VALID":return a[o]=0,a[i]=0,Math.floor((e-u)/t+1);case"SAME_LOWER":case"SAME_UPPER":if(1!==n)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const n=((e+t-1)/t-1)*t+r-e;return a[o]="SAME_LOWER"===s?Math.floor((n+1)/2):Math.floor(n/2),a[i]=n-a[o],Math.floor((e+n-r)/t+1)}default:throw new Error("Unsupported AutoPad type")}}}t.PoolConvUtil=o,t.GemmUtil=class{static getShapeOfGemmResult(e,t,n,a,o){if(2!==e.length||2!==n.length)throw new Error("shape need to be of size 2");let i,s,u;t?(i=e[1],s=e[0]):(i=e[0],s=e[1]);let c=-1;if(a?(u=n[0],c=1):(u=n[1],c=0),n[c]!==s)throw new Error("dimension mismatch");if(i<=0||u<=0||s<=0)throw new Error("invalid shape specified");if(o&&!r.isValidBroadcast(o,[i,u]))throw new Error("gemm: invalid bias shape for broadcast");return[i,u,s]}},t.MIN_CLIP=-34028234663852886e22,t.MAX_CLIP=34028234663852886e22},387:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAttributeWithCacheKey=void 0;class n{constructor(e){Object.assign(this,e)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map((e=>`${this[e]}`)).join(";")),this._cacheKey}}t.createAttributeWithCacheKey=e=>new n(e)},771:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createGpuDataManager=void 0;const r=n(955),a=n(163),o=e=>16*Math.ceil(e/16);let i=0;class s{constructor(e){this.backend=e,this.storageCache=new Map,this.downloadCache=new Map,this.buffersForUploadingPending=[],this.buffersPending=[]}upload(e,t){const n=t.buffer,a=t.byteOffset,i=t.byteLength,s=o(i),u=this.storageCache.get(e);if(!u)throw new Error("gpu data for uploading does not exist");if(u.originalSize!==i)throw new Error(`inconsistent data size. gpu data size=${u.originalSize}, data size=${i}`);const c=this.backend.device.createBuffer({mappedAtCreation:!0,size:s,usage:GPUBufferUsage.MAP_WRITE|GPUBufferUsage.COPY_SRC}),l=c.getMappedRange();new Uint8Array(l).set(new Uint8Array(n,a,i)),c.unmap();const f=this.backend.getCommandEncoder();this.backend.endComputePass(),f.copyBufferToBuffer(c,0,u.gpuData.buffer,0,s),(0,r.LOG_DEBUG)("verbose",(()=>`[WebGPU] GpuDataManager.upload(id=${e})`)),this.buffersForUploadingPending.push(c)}memcpy(e,t){const n=this.storageCache.get(e);if(!n)throw new Error("source gpu data for memcpy does not exist");const r=this.storageCache.get(t);if(!r)throw new Error("destination gpu data for memcpy does not exist");if(n.originalSize!==r.originalSize)throw new Error("inconsistent source and destination gpu data size");const a=o(n.originalSize);this.backend.getCommandEncoder().copyBufferToBuffer(n.gpuData.buffer,0,r.gpuData.buffer,0,a)}create(e,t=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST){const n=o(e),s=this.backend.device.createBuffer({size:n,usage:t}),u={id:i++,type:a.GpuDataType.default,buffer:s};return this.storageCache.set(u.id,{gpuData:u,originalSize:e}),(0,r.LOG_DEBUG)("verbose",(()=>`[WebGPU] GpuDataManager.create(size=${e}) => id=${u.id}`)),u}get(e){var t;return null===(t=this.storageCache.get(e))||void 0===t?void 0:t.gpuData}release(e){const t=this.storageCache.get(e);if(!t)throw new Error("releasing data does not exist");return(0,r.LOG_DEBUG)("verbose",(()=>`[WebGPU] GpuDataManager.release(id=${e}), gpuDataId=${t.gpuData.id}`)),this.storageCache.delete(e),this.buffersPending.push(t.gpuData.buffer),this.downloadCache.get(e)&&this.downloadCache.delete(e),t.originalSize}async download(e){const t=this.downloadCache.get(e);if(t)return t.data;const n=this.storageCache.get(e);if(!n)throw new Error("data does not exist");const r=this.backend.getCommandEncoder();this.backend.endComputePass();const a=this.backend.device.createBuffer({size:n.originalSize,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});r.copyBufferToBuffer(n.gpuData.buffer,0,a,0,n.originalSize),this.backend.flush();const o=new Promise((e=>{a.mapAsync(GPUMapMode.READ).then((()=>{const t=a.getMappedRange().slice(0);a.destroy(),e(t)}))}));return this.downloadCache.set(e,{data:o}),o}refreshPendingBuffers(){for(const e of this.buffersForUploadingPending)e.destroy();for(const e of this.buffersPending)e.destroy()}}t.createGpuDataManager=(...e)=>new s(...e)},510:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WEBGPU_OP_RESOLVE_RULES=void 0;const i=o(n(504)),s=n(770),u=n(271),c=n(522),l=o(n(262)),f=n(625),p=o(n(302));t.WEBGPU_OP_RESOLVE_RULES=new Map([["Abs",[p.abs]],["Acos",[p.acos]],["Acosh",[p.acosh]],["Add",[i.add]],["Asin",[p.asin]],["Asinh",[p.asinh]],["Atan",[p.atan]],["Atanh",[p.atanh]],["AveragePool",[l.averagePool,l.parseAveragePoolAttributes]],["Ceil",[p.ceil]],["ClipV10",[p.clipV10]],["Clip",[p.clip]],["Conv",[s.conv,s.parseConvAttributes]],["Cos",[p.cos]],["Cosh",[p.cosh]],["Div",[i.div]],["Elu",[p.elu,p.parseEluAttributes]],["Erf",[p.erf]],["Floor",[p.floor]],["Gemm",[u.gemm,u.parseGemmAttributes]],["GlobalAveragePool",[l.globalAveragePool,l.parseGlobalAveragePoolAttributes]],["GlobalMaxPool",[l.globalMaxPool,l.parseGlobalMaxPoolAttributes]],["MatMul",[c.matMul]],["MaxPool",[l.maxPool,l.parseMaxPoolAttributes]],["Mul",[i.mul]],["Neg",[p.neg]],["Pow",[i.pow]],["Reciprocal",[p.reciprocal]],["Sigmoid",[p.sigmoid]],["Sin",[p.sin]],["Sinh",[p.sinh]],["Sqrt",[p.sqrt]],["Sub",[i.sub]],["Tan",[p.tan]],["Tanh",[p.tanh]],["Transpose",[f.transpose,f.parseTransposeAttributes]]])},427:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.biasActivationSnippet=t.activationFnSnippet=t.typeSnippet=void 0,t.typeSnippet=e=>{switch(e){case 1:return"f32";case 2:return"vec2<f32>";case 3:return"vec3<f32>";case 4:return"vec4<f32>";default:throw new Error(`${e}-component is not supported.`)}},t.activationFnSnippet=(e,t=!1,n=!1,r=3)=>"",t.biasActivationSnippet=(e,t)=>`\n      ${e?"value = value + getBiasByOutputCoords(coords);":""}\n      ${t?"value = activation(value, coords);":""}\n      `},456:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConv2DMatMulProgramInfo=void 0;const r=n(955),a=n(952),o=n(163),i=n(427),s=n(85),u=n(158);t.createConv2DMatMulProgramInfo=(e,t,n,c,l,f,p,d,h)=>{const g="NHWC"===n.format,m=g?e[0].dims[3]:e[0].dims[1],y=c[0],v=g?c[2]:c[3],b=g?c[1]:c[2],w=g?c[3]:c[1],_=((m%4==0||m%3==0)&&g||v%4==0&&!g)&&w%4==0,A=g?w:v*b,T=g?v*b:w,S=_?[8,8,1]:[A<=4?4:16,A>4&&T<=4?4:16,1],O=_?[4,4,1]:[A<=4?1:2,A>4&&T<=4?1:2,1],E=[Math.ceil(A/S[0]/O[0]),Math.ceil(T/S[1]/O[1]),Math.ceil(y/S[2]/O[1])];(0,r.LOG_DEBUG)("verbose",(()=>`[conv2d_mm_webgpu] dispatch = ${E}`));const P=_?g&&m%4!=0?3:4:O[0],C=S[1]*O[1],$=S[0]*O[0],M=Math.max(S[0]*P,S[1]),k=l%C==0,I=f%$==0,R=p%M==0,x=_?[P,4,4]:[1,1,1],D=[`@group(0) @binding(0) var<storage, read> x: array<${_&&4===P?"vec4<f32>":"f32"}>;`,`@group(0) @binding(1) var<storage, read> w: array<${_?"vec4<f32>":"f32"}>;`];let U=`\n      fn setOutputAtIndex(flatIndex : i32, value : ${_?"vec4<f32>":"f32"}) {\n        result[flatIndex] = ${_?"vec4<f32>":"f32"}(value);\n      }\n      fn setOutputAtCoords(d0 : i32, d1 : i32, d2 : i32, d3 : i32, value : ${_?"vec4<f32>":"f32"}) {\n        let flatIndex = getOutputIndexFromCoords(vec4<i32>(d0, d1, d2, d3));\n        setOutputAtIndex(flatIndex ${_?"/ 4":""}, value);\n      }`;return d&&(D.push(`@group(0) @binding(2) var<storage, read> bias: array<${_?"vec4<f32>":"f32"}>;`),U+=`\n        fn getBiasByOutputCoords(coords : vec4<i32>) -> ${_?"vec4<f32>":"f32"} {\n          return bias[coords.${g?"w":"y"}${_?"/ 4":""}];\n        }`),Object.assign(Object.assign({},t),{outputs:[{dims:c,dataType:e[0].dataType,gpuDataType:o.GpuDataType.default}],dispatchGroup:()=>({x:E[0],y:E[1],z:E[2]}),getShaderSource:()=>`\n        ${s.utilFunctions}\n        //struct Uniforms { xShape : vec4<i32>, wShape : vec4<i32>, outShape : vec4<i32>,\n        //  outShapeStrides: vec3<i32>, filterDims : vec2<i32>, pad : vec2<i32>, stride : vec2<i32>,\n        //  dilation : vec2<i32>, dimAOuter : i32, dimBOuter : i32, dimInner : i32 };\n        ${D.join("")}\n        @group(0) @binding(${D.length}) var<storage, read_write> result: array<${_?"vec4<f32>":"f32"}>;\n        //@group(0) @binding(${D.length+1}) var<uniform> uniforms: Uniforms;\n\n        const xShape : vec4<i32> = vec4<i32>(${e[0].dims.join(",")});\n        const wShape : vec4<i32> = vec4<i32>(${e[1].dims.join(",")});\n        const outShape : vec4<i32> = vec4<i32>(${c.join(",")});\n        const outShapeStrides : vec3<i32> = vec3<i32>(${a.ShapeUtil.computeStrides(c).slice(0,3).join(",")});\n        const filterDims : vec2<i32> = vec2<i32>(${n.kernelShape[0]}, ${n.kernelShape[1]});\n        const pad : vec2<i32> = vec2<i32>(${n.pads[0]}, ${n.pads[1]});\n        const stride : vec2<i32> = vec2<i32>(${n.strides[0]}, ${n.strides[1]});\n        const dilation : vec2<i32> = vec2<i32>(${n.dilations[0]}, ${n.dilations[1]});\n        const dimAOuter : i32 = ${l};\n        const dimBOuter : i32 = ${f};\n        const dimInner : i32 = ${p};\n        ${U}\n        ${((e,t,n,r,a=!1,o,s=!1,u=4,c=4,l=4)=>{const f=e?"\n    let coord = vec4<i32>(batch, xRow, xCol, xCh);\n    ":"\n    let coord = vec4<i32>(batch, xCh, xRow, xCol);\n    ",p=e?"\n    let coords = vec4<i32>(\n      batch,\n      row / outWidth,\n      row % outWidth,\n      col);\n    ":"\n    let coords = vec4<i32>(\n      batch,\n      row,\n      col / outWidth,\n      col % outWidth);\n    ",d=e?"xShape[1]":"xShape[2]",h=e?"xShape[2]":"xShape[3]",g=e?"row":"col",m=e?"col":"row",y=`\n    let inChannels = wShape[2];\n    let outWidth = ${e?"outShape[2]":"outShape[3]"};\n    let outRow = ${g} / outWidth;\n    let outCol = ${g} % outWidth;\n\n    let WRow = ${m} / (filterDims[1] * inChannels);\n    let WCol = ${m} / inChannels % filterDims[1];\n    let xRow = outRow * stride[0] + dilation[0] * WRow - pad[0];\n    let xCol = outCol * stride[1] + dilation[1] * WCol - pad[1];\n    let xCh = ${m} % inChannels;\n    var resData = ${(0,i.typeSnippet)(u)}(0.0);\n    // The bounds checking is always needed since we use it to pad zero for\n    // the 'same' padding type.\n    if (xRow >= 0 && xRow < ${d} && xCol >= 0 && xCol < ${h}) {\n      ${f}\n      let xIndex = getIndexFromCoords4D(coord, xShape);\n      ${(e=>{switch(e){case 1:return"resData = x[xIndex];";case 3:return"resData = vec3<f32>(x[xIndex], x[xIndex + 1], x[xIndex + 2]);";case 4:return"resData = x[xIndex / 4];";default:throw new Error(`innerElementSize ${e} is not supported.`)}})(u)}\n    }\n    return resData;`,v=e?t&&r?`\n    let col = colIn * ${u};\n    ${y}`:`\n    let col = colIn * ${u};\n    if (row < dimAOuter && col < dimInner) {\n      ${y}\n    }\n    return ${(0,i.typeSnippet)(u)}(0.0);`:r&&n?`\n    let col = colIn * ${u};\n    ${y}`:`\n    let col = colIn * ${u};\n    if (row < dimInner && col < dimBOuter) {\n      ${y}\n    }\n    return ${(0,i.typeSnippet)(u)}(0.0);`,b=`${(e=>{switch(e){case 1:return"return w[row * wShape[3] + colIn];";case 4:return"return w[row * wShape[3] / 4 + colIn];";default:throw new Error(`innerElementSize ${e} is not supported.`)}})(c)}`,w=(0,i.typeSnippet)(l),_=e?(0,i.typeSnippet)(u):(0,i.typeSnippet)(c),A=e?(0,i.typeSnippet)(c):(0,i.typeSnippet)(u);return`\n    ${(0,i.activationFnSnippet)(o,s,4===l,4)}\n    fn mm_readA(batch: i32, row : i32, colIn : i32) -> ${_} {\n      ${e?v:b}\n    }\n\n    fn mm_readB(batch: i32, row : i32, colIn : i32) -> ${A} {\n      ${e?b:v}\n    }\n\n    fn mm_write(batch: i32, row : i32, colIn : i32, valueIn : ${w}) {\n      let col = colIn * ${l};\n      if (row < dimAOuter && col < dimBOuter)\n      {\n      var value = valueIn;\n      let outWidth = ${e?"outShape[2]":"outShape[3]"};\n      ${p}\n      ${(0,i.biasActivationSnippet)(a,o)}\n      setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], value);\n      }\n    }`})(g,k,I,R,d,void 0,!1,x[0],x[1],x[2])}\n            ${_?(0,u.makeMatMulPackedVec4Source)(O,S,!g,M):(0,u.makeMatMulPackedSource)(O,S,!g,M,!1,void 0,h)}`})}},85:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utilFunctions=void 0,t.utilFunctions="\nfn getIndexFromCoords4D(coords : vec4<i32>, shape : vec4<i32>) -> i32 {\n  return dot(coords, vec4<i32>(\n      shape.y * shape.z * shape.w, shape.z * shape.w, shape.w, 1));\n}\nfn getOutputIndexFromCoords(coords : vec4<i32>) -> i32 {\n  return dot(coords, vec4<i32>(\n    outShapeStrides.x, outShapeStrides.y, outShapeStrides.z, 1));\n}\n"},158:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeMatMulPackedSource=t.makeMatMulPackedVec4Source=void 0,t.makeMatMulPackedVec4Source=(e,t,n=!1,r=32,a=!1,o=32,i=!1)=>{const s=t[1]*e[1],u=t[0]*e[0],c=n?s:r,l=n?r:s,f=c/t[0],p=r/t[1];if((!n||4!==f||4!==e[1])&&(n||3!==f&&4!==f)||c%t[0]!=0||r%t[1]!=0||4!==e[0])throw new Error(`If transposeA ${n} is true, innerElementSize ${f} and workPerThread[1] ${e[1]} must be 4.\n      Otherwise, innerElementSize ${f} must be 3 or 4.\n  tileAWidth ${c} must be divisible by workgroupSize[0]${t[0]}. tileInner ${r} must be divisible by workgroupSize[1] ${t[1]}. colPerThread ${e[0]} must be 4.`);return`\nvar<workgroup> mm_Asub : array<array<vec${f}<f32>, ${c/f}>, ${l}>;\nvar<workgroup> mm_Bsub : array<array<vec4<f32>, ${u/e[0]}>, ${r}>;\n\nconst rowPerThread = ${e[1]};\nconst colPerThread = ${e[0]};\nconst innerElementSize = ${f};\nconst tileInner = ${r};\n\n@compute @workgroup_size(${t[0]}, ${t[1]}, ${t[2]})\nfn main(@builtin(local_invocation_id) localId : vec3<u32>,\n        @builtin(global_invocation_id) globalId : vec3<u32>,\n        @builtin(workgroup_id) workgroupId : vec3<u32>) {\n  let localRow = i32(localId.y);\n  let tileRow = ${i?"0":"localRow * rowPerThread"};\n  let tileCol = i32(localId.x);\n\n  let globalRow = ${i?"0":"i32(globalId.y) * rowPerThread"};\n  let globalCol = i32(globalId.x);\n  let batch = ${a?"0":"i32(globalId.z)"};\n  let globalRowStart = i32(workgroupId.y) * ${s};\n\n  let numTiles = ${a?`${Math.ceil(o/r)}`:"(dimInner - 1) / tileInner + 1"};\n  var kStart = ${a?`i32(globalId.z) * ${o}`:"0"};\n\n  var acc: array<vec4<f32>, rowPerThread>;\n\n  // Loop over shared dimension.\n  let tileRowB = localRow * ${p};\n  for (var t = 0; t < numTiles; t = t + 1) {\n      // Load one tile of A into local memory.\n      for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n          let inputRow = tileRow + innerRow;\n          let inputCol = tileCol;\n          ${d=n,d?"\n        mm_Asub[inputRow][inputCol] = mm_readA(batch,\n          kStart + inputRow,\n          globalRowStart / innerElementSize + inputCol);\n        ":"\n        mm_Asub[inputRow][inputCol] = mm_readA(batch,\n          globalRow + innerRow,\n          kStart / innerElementSize + inputCol);\n        "}\n      }\n\n      // Load one tile of B into local memory.\n      for (var innerRow = 0; innerRow < ${p}; innerRow = innerRow + 1) {\n          let inputRow = tileRowB + innerRow;\n          let inputCol = tileCol;\n          mm_Bsub[inputRow][inputCol] = mm_readB(batch, kStart + inputRow, globalCol);\n      }\n      kStart = kStart + tileInner;\n      workgroupBarrier();\n\n      // Compute acc values for a single thread.\n      for (var k = 0; k < tileInner / innerElementSize; k = k + 1) {\n          let BCached0 = mm_Bsub[k * innerElementSize][tileCol];\n          let BCached1 = mm_Bsub[k * innerElementSize + 1][tileCol];\n          let BCached2 = mm_Bsub[k * innerElementSize + 2][tileCol];\n          ${3===f?"":"let BCached3 = mm_Bsub[k * innerElementSize + 3][tileCol];"}\n\n          ${((e,t)=>e?`\n        let ACached0 = mm_Asub[k * innerElementSize][localRow];\n        let ACached1 = mm_Asub[k * innerElementSize + 1][localRow];\n        let ACached2 = mm_Asub[k * innerElementSize + 2][localRow];\n        ${3===t?"":"let ACached3 = mm_Asub[k * innerElementSize + 3][localRow];"}\n        for (var i = 0; i < rowPerThread; i = i + 1) {\n          acc[i] = BCached0 * ACached0[i] + acc[i];\n          acc[i] = BCached1 * ACached1[i] + acc[i];\n          acc[i] = BCached2 * ACached2[i] + acc[i];\n          ${3===t?"":"acc[i] = BCached3 * ACached3[i] + acc[i];"}\n        }`:`\n        for (var i = 0; i < rowPerThread; i = i + 1) {\n          let ACached = mm_Asub[tileRow + i][k];\n          acc[i] = BCached0 * ACached.x + acc[i];\n          acc[i] = BCached1 * ACached.y + acc[i];\n          acc[i] = BCached2 * ACached.z + acc[i];\n          ${3===t?"":"acc[i] = BCached3 * ACached.w + acc[i];"}\n        }`)(n,f)}\n      }\n\n      workgroupBarrier();\n  }\n\n  for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n      mm_write(batch, globalRow + innerRow, globalCol, acc[innerRow]);\n  }\n}`;var d};const n=e=>e?"\n            mm_Asub[inputRow][inputCol] = mm_readA(batch,\n              kStart + inputRow,\n              globalRowStart + inputCol);\n            ":"\n            mm_Asub[inputRow][inputCol] = mm_readA(batch,\n              globalRowStart + inputRow,\n              kStart + inputCol);\n            ";t.makeMatMulPackedSource=(e,t,r=!1,a=32,o=!1,i=32,s=!1)=>{const u=e[1]*t[1],c=e[0]*t[0],l=r?u:a,f=r?a:u;if(f%t[1]!=0||l%t[0]!=0||a%t[1]!=0)throw new Error(`tileAHight ${f} must be divisible by workgroupSize[1]${t[1]}, tileAWidth ${l} must be divisible by workgroupSize[0]${t[0]}, tileInner ${a} must be divisible by workgroupSize[1]${t[1]}`);const p=f/t[1],d=l/t[0],h=a/t[1],g=s?`\n    let localRow = i32(localId.y);\n    let localCol = i32(localId.x);\n    let globalRowStart = i32(workgroupId.y) * ${u};\n    let globalColStart = i32(workgroupId.x) * ${c};\n\n    // Loop over shared dimension.\n    for (var t = 0; t < numTiles; t = t + 1) {\n      // Load one tile of A into local memory.\n      for (var inputRow = localRow; inputRow < ${f}; inputRow = inputRow + ${t[1]}) {\n        for (var inputCol = localCol; inputCol < ${l}; inputCol = inputCol + ${t[0]}) {\n          ${n(r)}\n        }\n      }\n      // Load one tile of B into local memory.\n      for (var inputRow = localRow; inputRow < ${a}; inputRow = inputRow + ${t[1]}) {\n            for (var inputCol = localCol; inputCol < ${c}; inputCol = inputCol + ${t[0]}) {\n          mm_Bsub[inputRow][inputCol] = mm_readB(batch,\n            kStart + inputRow,\n            globalColStart + inputCol);\n        }\n      }\n      kStart = kStart + tileInner;\n      workgroupBarrier();\n\n      // Compute acc values for a single thread.\n      var BCached : array<f32, colPerThread>;\n      for (var k = 0; k < tileInner; k = k + 1) {\n        for (var inner = 0; inner < colPerThread; inner = inner + 1) {\n          BCached[inner] = mm_Bsub[k][localCol + inner * ${t[0]}];\n        }\n        for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n          let ACached = ${r?`mm_Asub[k][localRow + innerRow * ${t[1]}];`:`mm_Asub[localRow + innerRow * ${t[1]}][k];`}\n          for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n            acc[innerRow][innerCol] = acc[innerRow][innerCol] +\n                ACached * BCached[innerCol];\n          }\n        }\n      }\n      workgroupBarrier();\n    }\n    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n      let gRow = globalRowStart + localRow + innerRow * ${t[1]};\n      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n        let gCol = globalColStart + localCol + innerCol * ${t[0]};\n        mm_write(batch, gRow, gCol, acc[innerRow][innerCol]);\n      }\n    }\n    `:`\nlet tileRow = i32(localId.y) * rowPerThread;\nlet tileCol = i32(localId.x) * colPerThread;\n\nlet globalRow = i32(globalId.y) * rowPerThread;\nlet globalCol = i32(globalId.x) * colPerThread;\nlet globalRowStart = i32(workgroupId.y) * ${u};\n\nlet tileRowA = i32(localId.y) * ${p};\nlet tileColA = i32(localId.x) * ${d};\nlet tileRowB = i32(localId.y) * ${h};\n// Loop over shared dimension.\nfor (var t = 0; t < numTiles; t = t + 1) {\n  // Load one tile of A into local memory.\n  for (var innerRow = 0; innerRow < ${p}; innerRow = innerRow + 1) {\n    for (var innerCol = 0; innerCol < ${d}; innerCol = innerCol + 1) {\n      let inputRow = tileRowA + innerRow;\n      let inputCol = tileColA + innerCol;\n      ${n(r)}\n    }\n  }\n\n  // Load one tile of B into local memory.\n  for (var innerRow = 0; innerRow < ${h}; innerRow = innerRow + 1) {\n    for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n      let inputRow = tileRowB + innerRow;\n      let inputCol = tileCol + innerCol;\n      mm_Bsub[inputRow][inputCol] = mm_readB(batch,\n        kStart + inputRow,\n        globalCol + innerCol);\n    }\n  }\n  kStart = kStart + tileInner;\n  workgroupBarrier();\n\n  // Compute acc values for a single thread.\n  var BCached : array<f32, colPerThread>;\n  for (var k = 0; k < tileInner; k = k + 1) {\n    for (var inner = 0; inner < colPerThread; inner = inner + 1) {\n      BCached[inner] = mm_Bsub[k][tileCol + inner];\n    }\n\n    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n      ${(e=>e?"let ACached = mm_Asub[k][tileRow + innerRow];":"let ACached = mm_Asub[tileRow + innerRow][k];")(r)}\n      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n        acc[innerRow][innerCol] = acc[innerRow][innerCol] + ACached * BCached[innerCol];\n      }\n    }\n  }\n\n  workgroupBarrier();\n}\n\nfor (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n  for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n    mm_write(batch, globalRow + innerRow, globalCol + innerCol,\n        acc[innerRow][innerCol]);\n  }\n}\n`;return`\n  var<workgroup> mm_Asub : array<array<f32, ${l}>, ${f}>;\n  var<workgroup> mm_Bsub : array<array<f32, ${c}>, ${a}>;\n  const rowPerThread = ${e[1]};\n  const colPerThread = ${e[0]};\n  const tileInner = ${a};\n\n@compute @workgroup_size(${t[0]}, ${t[1]}, ${t[2]})\nfn main(@builtin(local_invocation_id) localId : vec3<u32>,\n        @builtin(global_invocation_id) globalId : vec3<u32>,\n        @builtin(workgroup_id) workgroupId : vec3<u32>) {\n    let batch = ${o?"0":"i32(globalId.z)"};\n    let numTiles = ${o?`${Math.ceil(i/a)}`:"(dimInner - 1) / tileInner + 1"};\n    var kStart = ${o?`i32(globalId.z) * ${i}`:"0"};\n\n    var acc : array<array<f32, colPerThread>, rowPerThread>;\n\n    // Without this initialization strange values show up in acc.\n    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n        acc[innerRow][innerCol] = 0.0;\n      }\n    }\n    ${g}\n  }\n`}},504:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sub=t.pow=t.mul=t.div=t.add=void 0;const r=n(952),a=n(163),o=n(75),i=(e,t,n,i,s)=>{const u={name:t,inputTypes:[a.GpuDataType.default,a.GpuDataType.default],cacheHint:s};return Object.assign(Object.assign({},u),{get:()=>((e,t,n,i,s,u=t.dataType)=>{var c,l;const f=!r.ShapeUtil.areEqual(t.dims,n.dims);let p=t.dims,d=r.ShapeUtil.size(t.dims),h=!1;if(f){const e=r.BroadcastUtil.calcShape(t.dims,n.dims,!1);if(!e)throw new Error("Can't perform binary op on the given tensors");p=e,d=r.ShapeUtil.size(p);let a=1;for(let e=0;e<p.length;e++){const r=null!==(c=t.dims[t.dims.length-e])&&void 0!==c?c:1;if(r!==(null!==(l=n.dims[n.dims.length-e])&&void 0!==l?l:1))break;a*=r}a%4==0&&(h=!0)}else h=!0;return Object.assign(Object.assign({},e),{getShaderSource:e=>((e,t,n,a,i,s,u,c,l="f32",f="f32",p="f32")=>{const d=r.ShapeUtil.size(a),h=Math.ceil(d/4);let g,m;"string"==typeof u?g=m=(e,t)=>`${u}((${e}),(${t}))`:"function"==typeof u?g=m=u:(g=u.scalar,m=u.vector);let y="";const v=(0,o.createIndicesHelper)("output",a);if(s){const e=e=>{const t=r.ShapeUtil.computeStrides(e),n=[];for(let r=e.length-1;r>=0;r--){const o=0===a.length?"0u":1===a.length?"(*outputIndices)":`(*outputIndices)[${r+a.length-e.length}]`;n.push(`${t[r]}u * (${o} % ${e[r]}u)`)}return n.length>0?n.join("+"):"0u"};y=`\n  ${v.o2iImpl}\n\n  fn calcOffsetA(outputIndices: ptr<function, ${v.iType}>) -> u32 {\n    return ${e(t)};\n  }\n\n  fn calcOffsetB(outputIndices: ptr<function, ${v.iType}>) -> u32 {\n    return ${e(n)};\n  }\n  `}let b;if(i)b=s?`\n      ${v.indicesVariableDeclaration("outputIndices")}\n      ${v.o2iCall("global_idx * 4u","outputIndices")}\n      let offsetA = calcOffsetA(&outputIndices);\n      let offsetB = calcOffsetB(&outputIndices);\n      outputData[global_idx] = ${m("aData[offsetA / 4u]","bData[offsetB / 4u]")};`:`outputData[global_idx] = ${m("aData[global_idx]","bData[global_idx]")};`;else{if(!s)throw new Error("no necessary to use scalar implementation for element-wise binary op implementation.");const e=e=>{const t=`aData[indexA${e}][componentA${e}]`,n=`bData[indexB${e}][componentB${e}]`;return`\n      ${v.o2iCall(`global_idx * 4u + ${e}u`,"outputIndices")}\n      let offsetA${e} = calcOffsetA(&outputIndices);\n      let offsetB${e} = calcOffsetB(&outputIndices);\n      let indexA${e} = offsetA${e} / 4u;\n      let indexB${e} = offsetB${e} / 4u;\n      let componentA${e} = offsetA${e} % 4u;\n      let componentB${e} = offsetB${e} % 4u;\n      outputData[global_idx][${e}] = ${g(t,n)};`};b=`\n      ${v.indicesVariableDeclaration("outputIndices")}\n      ${e(0)}\n      ${e(1)}\n      ${e(2)}\n      ${e(3)}`}return`\n  @group(0) @binding(0) var<storage, read> aData : array<vec4<${l}>>;\n  @group(0) @binding(1) var<storage, read> bData : array<vec4<${f}>>;\n  @group(0) @binding(2) var<storage, read_write> outputData : array<vec4<${p}>>;\n\n  ${null!=c?c:""}\n  ${y}\n\n  ${e.mainStart()}\n    ${e.guardAgainstOutOfBoundsWorkgroupSizes(h)}\n    ${b}\n  }`})(e,t.dims,n.dims,p,h,f,i,s),outputs:[{dims:p,dataType:u,gpuDataType:a.GpuDataType.default}],dispatchGroup:()=>({x:Math.ceil(d/64/(h?4:1))})})})(u,e[0],e[1],n,i)})};t.add=e=>{e.compute(i(e.inputs,"Add",((e,t)=>`${e}+${t}`)))},t.div=e=>{e.compute(i(e.inputs,"Div",((e,t)=>`${e}/${t}`)))},t.mul=e=>{e.compute(i(e.inputs,"Mul",((e,t)=>`${e}*${t}`)))},t.pow=e=>{e.compute(i(e.inputs,"Pow",{scalar:(e,t)=>`pow_f32(${e},${t})`,vector:(e,t)=>`pow_vf32(${e},${t})`},"\n    fn pow_f32(a : f32, b : f32) -> f32 {\n      if (b == 0.0) {\n        return 1.0;\n      } else if (a < 0.0 && b != floor(b)) {\n        return pow(a, b); // NaN\n      }\n      return select(sign(a), 1.0, round(abs(b) % 2.0) != 1.0) * pow(abs(a), b);\n    }\n    fn pow_vf32(a : vec4<f32>, b : vec4<f32>) -> vec4<f32> {\n      // TODO: implement vectorized pow\n      return vec4<f32>(pow_f32(a.x, b.x), pow_f32(a.y, b.y), pow_f32(a.z, b.z), pow_f32(a.w, b.w));\n    }\n      "))},t.sub=e=>{e.compute(i(e.inputs,"Sub",((e,t)=>`${e}-${t}`)))}},75:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createShaderHelper=t.createIndicesHelper=t.WORKGROUP_SIZE=void 0;const r=n(952);t.WORKGROUP_SIZE=64,t.createIndicesHelper=(e,t)=>{const n=t.length<2?"u32":`array<u32, ${t.length}>`,a=r.ShapeUtil.computeStrides(t);let o="";for(let e=0;e<t.length-1;e++)o+=`\n    let dim${e} = current / ${a[e]}u;\n    let rest${e} = current % ${a[e]}u;\n    (*indices)[${e}] = dim${e};\n    current = rest${e};\n    `;o+=`(*indices)[${t.length-1}] = current;`;const i=t.length<2?"":`\n  fn ih_o2i_${e}(offset: u32, indices: ptr<function, ${n}>) {\n    var current = offset;\n    ${o}\n  }`,s=[];if(0===t.length)s.push("0u");else if(t.length<2)s.push("(*indices)");else for(let e=t.length-1;e>=0;e--)s.push(`${a[e]}u * ((*indices)[${e}])`);return{o2iImpl:i,o2iCall:(n,r)=>t.length<2?`${r}=${n};`:`ih_o2i_${e}(${n}, &${r});`,i2oImpl:t.length<2?"":`\n  fn ih_i2o_${e}(indices: ptr<function, ${n}>) -> u32 {\n    return ${s.join("+")};\n  }`,i2oExpression:(n,r)=>t.length<2?`(${r?"*":""}${n})`:`ih_i2o_${e}(${r?"":"&"}${n})`,indicesVariableDeclaration:(e,t)=>`var ${e}:${n}${t?`=${n}(${t.join(",")})`:""};`,iType:n}};class a{constructor(e){this.normalizedDispatchGroup=e}guardAgainstOutOfBoundsWorkgroupSizes(e){return`if (global_idx >= ${"number"==typeof e?`${e}u`:e}) { return; }`}mainStart(e=t.WORKGROUP_SIZE){const n="number"==typeof e?e:e[0],r="number"==typeof e?1:e[1],a="number"==typeof e?1:e[2],o=1===this.normalizedDispatchGroup[1]&&1===this.normalizedDispatchGroup[2];return`@compute @workgroup_size(${n}, ${r}, ${a})\n  fn main(${o?"@builtin(global_invocation_id) global_id : vec3<u32>":"@builtin(local_invocation_index) local_index : u32,\n    @builtin(workgroup_id) workgroup_id : vec3<u32>"}) {\n    ${o?"let global_idx = global_id.x;":`let global_idx = (workgroup_id.z * ${this.normalizedDispatchGroup[0]*this.normalizedDispatchGroup[1]}u +\n          workgroup_id.y * ${this.normalizedDispatchGroup[0]}u + workgroup_id.x) * ${n*r*a}u + local_index;`}\n  `}}t.createShaderHelper=e=>new a(e)},192:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createGroupedConvProgramInfoLoader=void 0;const r=n(952),a=n(163),o=n(75),i=n(770),s=n(997);t.createGroupedConvProgramInfoLoader=(e,t,n)=>{const u=(c=e.length>2,l=t.cacheKey,{name:"GroupedConv",inputTypes:c?[a.GpuDataType.default,a.GpuDataType.default,a.GpuDataType.default]:[a.GpuDataType.default,a.GpuDataType.default],cacheHint:l});var c,l;return Object.assign(Object.assign({},u),{get:()=>((e,t,n,u)=>{const c=e.length>2,l=c?"value += b[output_channel];":"",f=e[0].dims,p=e[1].dims,d=p[0]/n.group,h="f32",{activationFunction:g,applyActivation:m}=(0,s.getActicationSnippet)(n),y=[`@group(0) @binding(0) var<storage, read> x : array<${h}>;`,`@group(0) @binding(1) var<storage, read> w : array<${h}>;`];c&&y.push(`@group(0) @binding(2) var<storage, read> b : array<${h}>;`);const v="NHWC"===n.format,b=(0,i.calculateOutputShape)(f,p,n.dilations,n.pads,n.strides,v),w=r.ShapeUtil.size(b),_=(0,o.createIndicesHelper)("output",b),A=(0,o.createIndicesHelper)("x",f),T=(0,o.createIndicesHelper)("w",p);return Object.assign(Object.assign({},t),{outputs:[{dims:u?u(b):b,dataType:e[0].dataType,gpuDataType:a.GpuDataType.default}],getShaderSource:e=>`\n  const strides: vec2<u32> = vec2(${n.strides[0]}u, ${n.strides[1]}u);\n  const pads: vec2<u32> = vec2(${n.pads[0]}u, ${n.pads[1]}u);\n\n  ${y.join("\n")}\n  @group(0) @binding(${y.length}) var<storage, read_write> output : array<${h}>;\n\n  ${g}\n  ${_.o2iImpl}\n  ${A.i2oImpl}\n  ${T.i2oImpl}\n\n  ${e.mainStart()}\n    ${e.guardAgainstOutOfBoundsWorkgroupSizes(w)}\n\n    ${_.indicesVariableDeclaration("outputIndices")}\n    ${_.o2iCall("global_idx","outputIndices")}\n    let batch: u32 = outputIndices[0];\n    let output_channel: u32 = outputIndices[${v?3:1}];\n    let xRCCorner: vec2<u32> = vec2<u32>(outputIndices[${v?1:2}], outputIndices[${v?2:3}]) * strides - pads;\n    let group_id: u32 = output_channel / ${d}u;\n\n    var value: ${h} = ${h}(0);\n    for (var wInChannel: u32 = 0u; wInChannel < ${p[1]}u; wInChannel++) {\n      let input_channel = group_id * ${p[1]}u + wInChannel;\n      for (var wHeight: u32 = 0u; wHeight < ${p[2]}u; wHeight++) {\n        let xHeight = xRCCorner.x + wHeight * ${n.dilations[0]}u;\n\n        if (xHeight < 0u || xHeight >= ${f[v?1:2]}u) {\n          continue;\n        }\n\n        for (var wWidth: u32 = 0u; wWidth < ${p[3]}u; wWidth++) {\n          let xWidth = xRCCorner.y + wWidth * ${n.dilations[1]}u;\n          if (xWidth < 0u || xWidth >= ${f[v?2:3]}u) {\n            continue;\n          }\n\n          ${A.indicesVariableDeclaration("xIndices",v?["batch","xHeight","xWidth","input_channel"]:["batch","input_channel","xHeight","xWidth"])}\n          let xVal = x[${A.i2oExpression("xIndices")}];\n          ${T.indicesVariableDeclaration("wIndices",["output_channel","wInChannel","wHeight","wWidth"])}\n          let wVal = w[${T.i2oExpression("wIndices")}];\n          value += xVal*wVal;\n        }\n      }\n    }\n    ${l}\n    ${m}\n    output[global_idx] = value;\n  }`,dispatchGroup:()=>({x:Math.ceil(w/64)})})})(e,u,t,n)})}},770:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conv=t.parseConvAttributes=t.calculateOutputShape=void 0;const r=n(952),a=n(387),o=n(192),i=n(822),s=n(997),u=n(625);t.calculateOutputShape=(e,t,n,r,a,o)=>{const i=e[0],s=e.slice(o?1:2,o?3:4),u=s.length,c=t[0],l=t.slice(2).map(((e,t)=>e+(e-1)*(n[t]-1))),f=s.map(((e,t)=>e+r[t]+r[t+u])).map(((e,t)=>Math.floor((e-l[t]+a[t])/a[t])));return f.splice(0,0,i),f.splice(o?3:1,0,c),f};const c=(0,a.createAttributeWithCacheKey)({perm:[2,3,1,0]}),l=(e,t)=>{const n=e.kernelShape.slice();for(let e=2;e<t[1].dims.length;++e)0===n[e-2]&&(n[e-2]=t[1].dims[e]);const a=e.pads.slice();r.PoolConvUtil.adjustPadsBasedOnAutoPad(t[0].dims,e.strides,e.dilations,n,a,"NHWC"===e.format,e.autoPad);const o=Object.assign({},e);return Object.assign(o,{kernelShape:n,pads:a,cacheKey:e.cacheKey}),o};t.parseConvAttributes=e=>{const t=(0,s.parseInternalActivationAttributes)(e),n=e.format,r=["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][e.auto_pad],o=e.dilations,i=e.group,u=e.kernel_shape,c=e.pads,l=e.strides,f=e.w_is_const();return(0,a.createAttributeWithCacheKey)(Object.assign({autoPad:r,format:n,dilations:o,group:i,kernelShape:u,pads:c,strides:l,wIsConst:f},t))},t.conv=(e,n)=>{((e,t)=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==e[0].dims.length&&3!==e[0].dims.length)throw new Error("currently only support conv 1D and 2D");if(e[0].dims.length!==e[1].dims.length)throw new Error("filter does not have same dimension as input");if(e[0].dims["NHWC"===t.format?e[0].dims.length-1:1]!==e[1].dims[1]*t.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(3===e.length&&(1!==e[2].dims.length||e[1].dims[0]!==e[2].dims[0]))throw new Error("invalid bias");const n=e[0].dims.length-2;if(t.dilations.length!==n)throw new Error(`dilations should be ${n}D`);if(t.strides.length!==n)throw new Error(`strides should be ${n}D`);if(t.pads.length!==2*n)throw new Error(`pads should be ${2*n}D`);if(0!==t.kernelShape.length&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if(1!==e[0].dataType||1!==e[1].dataType)throw new Error("Conv input(X,W) should be float tensor");if(3===e.length&&1!==e[2].dataType)throw new Error("Conv input(bias) should be float tensor")})(e.inputs,n),3===e.inputs[0].dims.length?((e,t)=>{const n="NHWC"===t.format,r=[e.inputs[0].reshape(n?[e.inputs[0].dims[0],1,e.inputs[0].dims[1],e.inputs[0].dims[2]]:[e.inputs[0].dims[0],e.inputs[0].dims[1],1,e.inputs[0].dims[2]]),e.inputs[1].reshape([e.inputs[1].dims[0],e.inputs[1].dims[1],1,e.inputs[1].dims[2]])];3===e.inputs.length&&r.push(e.inputs[2]);const a=[0,t.pads[0],0,t.pads[1]],i=[1].concat(t.strides),s=[1].concat(t.dilations),u=[1].concat(t.kernelShape),c=l(Object.assign(Object.assign({},t),{pads:a,strides:i,dilations:s,kernelShape:u}),r);e.compute((0,o.createGroupedConvProgramInfoLoader)(r,c,(e=>n?[e[0],e[2],e[3]]:[])))})(e,n):((e,n,r)=>{var a;const s=l(r,n),f=3===n.length,p="NHWC"===r.format,d=n[0].dims[p?1:2],h=n[0].dims[p?2:3],g=n[0].dims[p?3:1],m=n[1].dims[2],y=n[1].dims[3],v=(0,t.calculateOutputShape)(n[0].dims,n[1].dims,r.dilations,s.pads,r.strides,p),b=v[p?1:2],w=v[p?2:3],_=v[p?3:1];if(p&&m===d&&y===h&&"VALID"===r.autoPad||1===m&&1===y&&1===r.dilations[0]&&1===r.dilations[1]&&1===r.strides[0]&&1===r.strides[1]&&("SAME_UPPER"===r.autoPad||"SAME_LOWER"===r.autoPad||"VALID"===r.autoPad))return void e.compute((0,o.createGroupedConvProgramInfoLoader)(n,s));if(!p||1!==r.group)return void e.compute((0,o.createGroupedConvProgramInfoLoader)(n,s));const A=p?b*w:_,T=p?_:b*w,S=m*y*g,O=null!==(a=e.customData.wT)&&void 0!==a?a:e.compute(Object.assign(Object.assign({},u.transposeProgramMetadata),{cacheHint:c.cacheKey,get:()=>(0,u.createTransposeProgramInfo)(n[1],c.perm)}),{inputs:[1],outputs:[r.wIsConst?-2:-1]})[0];r.wIsConst&&!e.customData.wT&&(e.customData.wT=O);const E=[n[0],O];f&&(p||1!==n[2].dims.length?E.push(n[2]):E.push(n[2].reshape([n[2].dims[0],1,1]))),e.compute((0,i.createConv2DMatMulProgramInfoLoader)(E,s,v,A,T,S,f,!0),{inputs:E})})(e,e.inputs,n)}},822:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConv2DMatMulProgramInfoLoader=void 0;const r=n(163),a=n(456);t.createConv2DMatMulProgramInfoLoader=(e,t,n,o,i,s,u,c)=>{const l=((e,t)=>({name:"Conv2DMatMul",inputTypes:e?[r.GpuDataType.default,r.GpuDataType.default,r.GpuDataType.default]:[r.GpuDataType.default,r.GpuDataType.default],cacheHint:t}))(u,t.cacheKey);return Object.assign(Object.assign({},l),{get:()=>(0,a.createConv2DMatMulProgramInfo)(e,l,t,n,o,i,s,u,c)})}},997:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInternalActivationAttributes=t.getActicationSnippet=void 0;const r=n(952);t.getActicationSnippet=e=>{switch(e.activation){case"Relu":return{activationFunction:"",applyActivation:"value = max(value, 0.0);"};case"Sigmoid":return{activationFunction:"",applyActivation:"value = (1.0 / (1.0 + exp(-value)));"};case"Clip":return{activationFunction:`const clip_min_=f32(${e.clipMin});const clip_max_=f32(${e.clipMax});`,applyActivation:"value = clamp(value, clip_min_, clip_max_);"};default:return{activationFunction:"",applyActivation:""}}},t.parseInternalActivationAttributes=e=>{const t=(null==e?void 0:e.activation)||"";if("Clip"===t){const[n,a]=(null==e?void 0:e.activation_params)||[r.MIN_CLIP,r.MAX_CLIP];return{activation:t,clipMax:a,clipMin:n,activationCacheKey:`${t}:${n},${a}`}}return{activation:t,activationCacheKey:t}}},271:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGemmAttributes=t.gemm=void 0;const r=n(952),a=n(387),o=n(163);t.gemm=(e,t)=>{(e=>{if(!e)throw new Error("Input is missing");if(e.length<2||e.length>3)throw new Error("Invaid input number.");if(3===e.length&&e[2].dims.length>2)throw new Error("Invalid input shape of C");if(1!==e[0].dataType||1!==e[1].dataType||3===e.length&&1!==e[2].dataType)throw new Error("Invalid input type.");if(e[0].dataType!==e[1].dataType||3===e.length&&e[0].dataType!==e[2].dataType)throw new Error("Input types are mismatched")})(e.inputs),e.compute(((e,t)=>{const n={name:"Gemm",inputTypes:3===e.length?[o.GpuDataType.default,o.GpuDataType.default,o.GpuDataType.default]:[o.GpuDataType.default,o.GpuDataType.default],cacheHint:t.cacheKey};return Object.assign(Object.assign({},n),{get:()=>((e,t,n)=>{const a=t[0].dims.slice(),i=t[1].dims.slice(),[s,u,c]=r.GemmUtil.getShapeOfGemmResult(a,n.transA,i,n.transB,3===t.length?t[2].dims:void 0),l=[s,u];if(!l)throw new Error("Can't use gemm on the given tensors");const f=r.ShapeUtil.size(l);let p="";n.transA&&n.transB?p="value += a[k * M + m] * b[n * K + k];":n.transA&&!n.transB?p="value += a[k * M + m] * b[k * N + n];":!n.transA&&n.transB?p="value += a[m * K + k] * b[n * K + k];":n.transA||n.transB||(p="value += a[m * K + k] * b[k * N + n];");const d="f32",h=1===n.alpha?"":"value *= alpha;",g=3===t.length?`value += beta * c[${((e,t,n)=>{if(0===n.length)return"0u";const r=1===n.length&&1!==e||2===n.length&&n[0]!==e,a=n[n.length-1]!==t;let o="0u";return r||(o+=`+ m * ${n[n.length-1]}u`),a||(o+="+n"),o})(s,u,t[2].dims)}];`:"",m=[`@group(0) @binding(0) var<storage, read> a : array<${d}>;`,`@group(0) @binding(1) var<storage, read> b : array<${d}>;`];return 3===t.length&&m.push(`@group(0) @binding(2) var<storage, read> c : array<${d}>;`),Object.assign(Object.assign({},e),{outputs:[{dims:l,dataType:t[0].dataType,gpuDataType:o.GpuDataType.default}],getShaderSource:e=>`\n  const M: u32 = ${s}u;\n  const N: u32 = ${u}u;\n  const K: u32 = ${c}u;\n  const alpha = ${d}(${n.alpha});\n  const beta = ${d}(${n.beta});\n\n  ${m.join("\n")}\n  @group(0) @binding(${t.length}) var<storage, read_write> output : array<${d}>;\n\n  ${e.mainStart()}\n    ${e.guardAgainstOutOfBoundsWorkgroupSizes(f)}\n\n    let m = global_id.x / N;\n    let n = global_id.x % N;\n\n    var value = ${d}(0);\n    for (var k: u32 = 0u; k<${c}u; k++) {\n      ${p}\n    }\n\n    ${h}\n    ${g}\n    output[global_id.x] = value;\n\n  }`,dispatchGroup:()=>({x:Math.ceil(f/64)})})})(n,e,t)})})(e.inputs,t))},t.parseGemmAttributes=e=>(0,a.createAttributeWithCacheKey)(e)},522:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matMul=t.createMatmulProgramInfoLoader=void 0;const r=n(952),a=n(163),o=n(997);t.createMatmulProgramInfoLoader=(e,t)=>{const n=(i=e.length>2,s=t.activationCacheKey,{name:"MatMul",inputTypes:i?[a.GpuDataType.default,a.GpuDataType.default,a.GpuDataType.default]:[a.GpuDataType.default,a.GpuDataType.default],cacheHint:s});var i,s;return Object.assign(Object.assign({},n),{get:()=>((e,t,n)=>{const i=t[0].dims,s=t[1].dims,u=r.BroadcastUtil.calcShape(i,s,!0);if(!u)throw new Error("Can't use matmul on the given tensors");const c=r.ShapeUtil.size(u),l="f32",{activationFunction:f,applyActivation:p}=(0,o.getActicationSnippet)(n),d=u[u.length-2],h=i[i.length-1],g=u[u.length-1];return Object.assign(Object.assign({},e),{outputs:[{dims:u,dataType:t[0].dataType,gpuDataType:a.GpuDataType.default}],getShaderSource:e=>`\n  const M: u32 = ${d}u;\n  const N: u32 = ${g}u;\n  const K: u32 = ${h}u;\n\n  @group(0) @binding(0) var<storage, read> a : array<${l}>;\n  @group(0) @binding(1) var<storage, read> b : array<${l}>;\n  @group(0) @binding(2) var<storage, read_write> output : array<${l}>;\n\n  ${f}\n\n  ${e.mainStart()}\n    ${e.guardAgainstOutOfBoundsWorkgroupSizes(c)}\n\n    let stack = global_idx / (M * N);\n    let mn = global_idx % (M * N);\n    let n = global_idx % N;\n    let m = mn / N;\n\n    let offsetA = stack * (M * K);\n    let offsetB = stack * (K * N);\n\n    var value = ${l}(0);\n    for (var k: u32 = 0u; k<${h}u; k++) {\n      value += a[offsetA + m * K + k] * b[offsetB + k * N + n];\n    }\n    ${p}\n    output[global_idx] = value;\n  }`,dispatchGroup:()=>({x:Math.ceil(c/64)})})})(n,e,t)})},t.matMul=e=>{(e=>{if(!e||2!==e.length)throw new Error("MatMul requires 2 inputs.");if(e[0].dims[e[0].dims.length-1]!==e[1].dims[e[1].dims.length-2])throw new Error("shared dimension does not match.");if(1!==e[0].dataType||1!==e[1].dataType)throw new Error("inputs should be float type")})(e.inputs),e.compute((0,t.createMatmulProgramInfoLoader)(e.inputs,{activation:"",activationCacheKey:""}))}},262:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalMaxPool=t.parseGlobalMaxPoolAttributes=t.parseMaxPoolAttributes=t.maxPool=t.globalAveragePool=t.parseGlobalAveragePoolAttributes=t.averagePool=t.parseAveragePoolAttributes=void 0;const r=n(952),a=n(387),o=n(163),i=n(75),s=e=>{if(!e||1!==e.length)throw new Error("Pool ops requires 1 input.");if(4!==e[0].dims.length)throw new Error("Pool ops supports 2-D inputs only for now.");if(1!==e[0].dataType)throw new Error("Invalid input type.")},u=(e,t,n)=>{const a="NHWC"===t.format,o=a?[e[0].dims[0],e[0].dims[3],e[0].dims[1],e[0].dims[2]]:e[0].dims.slice(),i=Object.hasOwnProperty.call(t,"dilations"),s=t.kernelShape.slice(),u=t.strides.slice(),c=i?t.dilations.slice():[],l=t.pads.slice();r.PoolConvUtil.adjustPoolAttributes(n,o,s,u,c,l);const f=r.PoolConvUtil.computePoolOutputShape(n,o,u,c,s,l,t.autoPad),p=Object.assign({},t);return i?Object.assign(p,{kernelShape:s,strides:u,pads:l,dilations:c,cacheKey:t.cacheKey}):Object.assign(p,{kernelShape:s,strides:u,pads:l,cacheKey:t.cacheKey}),[p,a?[f[0],f[2],f[3],f[1]]:f]},c=(e,t,n,a,o,s,u,c)=>{const l="NHWC"===a.format,f=t.length,p=r.ShapeUtil.size(n),d=(0,i.createIndicesHelper)("output",n),h=(0,i.createIndicesHelper)("x",t);if(a.kernelShape.length<=2){const n=a.kernelShape[a.kernelShape.length-1],r=a.strides[a.strides.length-1],i=a.pads[a.pads.length/2-1],g=f-(l?2:1);let m="",y="",v="";if(m=i+a.pads[a.pads.length-1]!==0?`\n              for (var i: u32 = 0u; i < ${n}u; i++) {\n                xIndices[${g}] = indices[${g}] * ${r} - ${i} + i;\n                if (xIndices[${g}] < 0 || xIndices[${g}] >= ${t[g]}) {\n                  pad++;\n                  continue;\n                }\n                let x_val = x[${h.i2oExpression("xIndices")}];\n                ${o}\n              }`:`\n              for (var i: u32 = 0u; i < ${n}u; i++) {\n                xIndices[${g}] = indices[${g}] * ${r} - ${i} + i;\n                let x_val = x[${h.i2oExpression("xIndices")}];\n                ${o}\n              }`,2===a.kernelShape.length){const e=a.kernelShape[a.kernelShape.length-2],r=a.strides[a.strides.length-2],o=a.pads[a.pads.length/2-2],i=a.pads[a.pads.length-2],s=f-(l?3:2),u=t[s];y=o+i!==0?`\n                for (var j: u32 = 0u; j < ${e}u; j++) {\n                  xIndices[${s}] = indices[${s}] * ${r} - ${o} + j;\n                  if (xIndices[${s}] < 0 || xIndices[${s}] >= ${u}) {\n                    pad+= ${n};\n                    continue;\n                  }\n              `:`\n                for (var j: u32 = 0u; j < ${e}u; j++) {\n                  xIndices[${s}] = indices[${s}] * ${r} - ${o} + j;\n                `,v="\n              }\n            "}return`\n            @group(0) @binding(0) var<storage, read> x : array<${u}>;\n            @group(0) @binding(1) var<storage, read_write> output : array<${u}>;\n\n            ${d.o2iImpl}\n            ${h.i2oImpl}\n\n            ${e.mainStart()}\n              ${e.guardAgainstOutOfBoundsWorkgroupSizes(p)}\n\n              ${d.indicesVariableDeclaration("indices")}\n              ${d.o2iCall("global_idx","indices")}\n              ${d.indicesVariableDeclaration("xIndices")}\n              ${d.o2iCall("global_idx","xIndices")}\n\n              var value: ${u} = ${u}(${c});\n              var pad = 0;\n              ${y}\n              ${m}\n              ${v}\n              ${s}\n\n              output[global_idx] = value;\n            }`}{if(l)throw new Error("Pooling with kernelShape.length > 2 is not supported for NHWC format.");const n=r.ShapeUtil.size(a.kernelShape),i=r.ShapeUtil.computeStrides(a.kernelShape),g=i.length,m=a.pads.length;let y="";return y=a.pads.reduce(((e,t)=>e+t))?`\n                if (xIndices[j] >= inputDims[j]) {\n                  pad++;\n                  isPad = true;\n                  break;\n                }\n              }\n              if (!isPad) {\n                let x_val = x[${h.i2oExpression("xIndices")}];\n                ${o}\n              }`:`\n              }\n              let x_val = x[${h.i2oExpression("xIndices")}];\n              ${o}\n            `,`\n            @group(0) @binding(0) var<storage, read> x : array<${u}>;\n            @group(0) @binding(1) var<storage, read_write> output : array<${u}>;\n\n            ${d.o2iImpl}\n            ${h.i2oImpl}\n\n            const pads = array<u32, ${m}>(${a.pads.map((e=>`${e}u`)).join(",")});\n            const inputDims = array<u32, ${f}>(${t.map((e=>`${e}u`)).join(",")});\n            const kernelStrides = array<u32, ${g}>(${i.map((e=>`${e}u`)).join(",")});\n            const strides = array<u32, ${g}>(${a.strides.map((e=>`${e}u`)).join(",")});\n\n            ${e.mainStart()}\n              ${e.guardAgainstOutOfBoundsWorkgroupSizes(p)}\n\n              ${d.indicesVariableDeclaration("indices")}\n              ${d.o2iCall("global_idx","indices")}\n              ${d.indicesVariableDeclaration("xIndices")}\n              ${d.o2iCall("global_idx","xIndices")}\n\n              var offsets: array<u32, ${g}>;\n\n              var value = ${u}(${c});\n              var pad = 0;\n              var isPad = false;\n\n              for (var i: u32 = 0u; i < ${n}u; i++) {\n                var offset = i;\n                for (var j = 0u; j < ${g-1}u; j++) {\n                  offsets[j] = offset / kernelStrides[j];\n                  offset -= offsets[j] * kernelStrides[j];\n                }\n                offsets[${g-1}] = offset;\n\n                isPad = false;\n                for (var j = ${f-g}u; j < ${f}u; j++) {\n                  xIndices[j] = indices[j] * strides[j - ${f-g}u]\n                    + offsets[j - ${f-g}u] - pads[j - 2u];\n                  ${y}\n              }\n              ${s}\n\n              output[global_idx] = value;\n            }`}},l=e=>({format:e.format,autoPad:["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][e.auto_pad],ceilMode:e.ceil_mode,kernelShape:e.kernel_shape,strides:e.strides,pads:e.pads}),f=(e,t,n,a)=>{const[i,s]=u(e,a,n),l=r.ShapeUtil.size(i.kernelShape),f="f32";let p="";return i.countIncludePad?p+=`value /= ${f}(${l});`:p+=`value /= ${f}(${l} - pad);`,Object.assign(Object.assign({},t),{outputs:[{dims:s,dataType:e[0].dataType,gpuDataType:o.GpuDataType.default}],getShaderSource:t=>c(t,e[0].dims,s,i,"value += x_val;",p,f,"0.0"),dispatchGroup:()=>({x:Math.ceil(r.ShapeUtil.size(s)/64)})})};t.parseAveragePoolAttributes=e=>{const t=0!==e.count_include_pad,n=l(e);if(0!==n.ceilMode)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,a.createAttributeWithCacheKey)(Object.assign({countIncludePad:t},n))},t.averagePool=(e,t)=>{s(e.inputs);const n={name:"AveragePool",inputTypes:[o.GpuDataType.default],cacheHint:t.cacheKey};e.compute(Object.assign(Object.assign({},n),{get:()=>f(e.inputs,n,!1,t)}))};const p={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""};t.parseGlobalAveragePoolAttributes=e=>{const t=e.format;return Object.assign(Object.assign({format:t},p),{cacheKey:t})},t.globalAveragePool=(e,t)=>{s(e.inputs);const n={name:"GlobalAveragePool",inputTypes:[o.GpuDataType.default],cacheHint:t.cacheKey};e.compute(Object.assign(Object.assign({},n),{get:()=>f(e.inputs,n,!0,t)}))};const d=(e,t,n,a)=>{const[i,s]=u(e,a,n);return Object.assign(Object.assign({},t),{outputs:[{dims:s,dataType:e[0].dataType,gpuDataType:o.GpuDataType.default}],getShaderSource:t=>c(t,e[0].dims,s,i,"\n      value = max(x_val, value);\n    ","","f32","-1e5"),dispatchGroup:()=>({x:Math.ceil(r.ShapeUtil.size(s)/64)})})};t.maxPool=(e,t)=>{s(e.inputs);const n={name:"MaxPool",inputTypes:[o.GpuDataType.default],cacheHint:t.cacheKey};e.compute(Object.assign(Object.assign({},n),{get:()=>d(e.inputs,n,!1,t)}))},t.parseMaxPoolAttributes=e=>{const t=e.storage_order,n=e.dilations,r=l(e);if(0!==t)throw new Error("column major storage order is not yet supported for MaxPool");if(0!==r.ceilMode)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,a.createAttributeWithCacheKey)(Object.assign({storageOrder:t,dilations:n},r))},t.parseGlobalMaxPoolAttributes=e=>{const t=e.format;return Object.assign(Object.assign({format:t},p),{cacheKey:t})},t.globalMaxPool=(e,t)=>{s(e.inputs);const n={name:"GlobalMaxPool",inputTypes:[o.GpuDataType.default],cacheHint:t.cacheKey};e.compute(Object.assign(Object.assign({},n),{get:()=>d(e.inputs,n,!0,t)}))}},625:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTransposeAttributes=t.transpose=t.createTransposeProgramInfo=t.transposeProgramMetadata=void 0;const r=n(952),a=n(387),o=n(163),i=n(75);t.transposeProgramMetadata={name:"Transpose",inputTypes:[o.GpuDataType.default]};const s=(e,t)=>t&&t.length!==e.length?[...e.keys()].reverse():t;t.createTransposeProgramInfo=(e,n)=>{const a=e.dims,u=s(a,n),c=((e,t)=>r.ShapeUtil.sortBasedOnPerm(e,s(e,t)))(a,u),l=a.length,f=r.ShapeUtil.size(c),p=(0,i.createIndicesHelper)("output",c),d=(0,i.createIndicesHelper)("a",a);return Object.assign(Object.assign({},t.transposeProgramMetadata),{outputs:[{dims:c,dataType:e.dataType,gpuDataType:o.GpuDataType.default}],getShaderSource:e=>`\n  @group(0) @binding(0) var<storage, read> a : array<f32>;\n  @group(0) @binding(1) var<storage, read_write> output : array<f32>;\n\n  ${((e,t)=>{const n=[];n.push(`fn perm(a: ptr<function, array<u32, ${t}>>, i: ptr<function, array<u32, ${t}>>) {`);for(let r=0;r<t;++r)n.push(`\t(*a)[${e[r]}]=(*i)[${r}];`);return n.push("\t}"),n.join("\n")})(u,l)}\n  ${p.o2iImpl}\n  ${d.i2oImpl}\n\n  ${e.mainStart()}\n    ${e.guardAgainstOutOfBoundsWorkgroupSizes(f)}\n\n    ${p.indicesVariableDeclaration("indices")}\n    ${p.o2iCall("global_idx","indices")}\n    ${d.indicesVariableDeclaration("aIndices")}\n    perm(&aIndices, &indices);\n\n    output[global_idx] = a[${d.i2oExpression("aIndices")}];\n  }`,dispatchGroup:()=>({x:Math.ceil(f/64)})})},t.transpose=(e,n)=>{(e=>{if(!e||1!==e.length)throw new Error("Transpose requires 1 input.");if(1!==e[0].dataType)throw new Error("input should be float tensor")})(e.inputs),e.compute(Object.assign(Object.assign({},t.transposeProgramMetadata),{cacheHint:n.cacheKey,get:()=>(0,t.createTransposeProgramInfo)(e.inputs[0],n.perm)}))},t.parseTransposeAttributes=e=>(0,a.createAttributeWithCacheKey)({perm:e.perm})},302:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tanh=t.tan=t.sqrt=t.sinh=t.sin=t.sigmoid=t.reciprocal=t.neg=t.floor=t.erf=t.parseEluAttributes=t.elu=t.cosh=t.cos=t.ceil=t.clip=t.clipV10=t.atanh=t.atan=t.asinh=t.asin=t.acosh=t.acos=t.abs=void 0;const r=n(952),a=n(387),o=n(163),i=(e,t,n,a,i)=>{const s={name:t,inputTypes:[o.GpuDataType.default],cacheHint:i};return Object.assign(Object.assign({},s),{get:()=>((e,t,n,a)=>Object.assign(Object.assign({},e),{getShaderSource:e=>((e,t,n,r)=>{const a=Math.ceil(t/4);let o="";return o="string"==typeof n?`${n}(a)`:n("a"),`\n  @group(0) @binding(0) var<storage, read> inputData : array<vec4<f32>>;\n  @group(0) @binding(1) var<storage, read_write> outputData : array<vec4<f32>>;\n\n  ${null!=r?r:""}\n\n  ${e.mainStart()}\n    ${e.guardAgainstOutOfBoundsWorkgroupSizes(a)}\n\n    let a = inputData[global_idx];\n    outputData[global_idx] = ${o};\n  }`})(e,r.ShapeUtil.size(t.dims),n,a),outputs:[{dims:t.dims,dataType:t.dataType,gpuDataType:o.GpuDataType.default}],dispatchGroup:e=>({x:Math.ceil(r.ShapeUtil.size(e[0].dims)/64/4)})}))(s,e,n,a)})};t.abs=e=>{e.compute(i(e.inputs[0],"Abs","abs"))},t.acos=e=>{e.compute(i(e.inputs[0],"Acos","acos"))},t.acosh=e=>{e.compute(i(e.inputs[0],"Acosh","acosh"))},t.asin=e=>{e.compute(i(e.inputs[0],"Asin","asin"))},t.asinh=e=>{e.compute(i(e.inputs[0],"Asinh","asinh"))},t.atan=e=>{e.compute(i(e.inputs[0],"Atan","atan"))},t.atanh=e=>{e.compute(i(e.inputs[0],"Atanh","atanh"))},t.clipV10=(e,t)=>{e.compute(i(e.inputs[0],"Clip",(e=>`clamp(${e}, clip_min_, clip_max_)`),`\n    const clip_min_: vec4<f32> = vec4(f32(${t.min}));\n    const clip_max_: vec4<f32> = vec4(f32(${t.max}));\n`,t.cacheKey),{inputs:[0]})},t.clip=e=>{const n=(e=>{const t=e.length>=2?e[1].getFloat32Array()[0]:r.MIN_CLIP,n=e.length>=3?e[2].getFloat32Array()[0]:r.MAX_CLIP;return(0,a.createAttributeWithCacheKey)({min:t,max:n})})(e.inputs);(0,t.clipV10)(e,n)},t.ceil=e=>{e.compute(i(e.inputs[0],"Ceil","ceil"))},t.cos=e=>{e.compute(i(e.inputs[0],"Cos","cos"))},t.cosh=e=>{e.compute(i(e.inputs[0],"Cosh","cosh"))},t.elu=(e,t)=>{e.compute(i(e.inputs[0],"Elu",(e=>`elu_vf32(${e})`),`\n  const elu_alpha_: f32 = f32(${t.alpha});\n\n  fn elu_f32(a: f32) -> f32 {\n  return select((exp(a) - 1.0) * elu_alpha_, a, a >= 0.0);\n  }\n\n  fn elu_vf32(v: vec4<f32>) -> vec4<f32> {\n  return vec4(elu_f32(v.x), elu_f32(v.y), elu_f32(v.z), elu_f32(v.w));\n  }`,t.cacheKey))},t.parseEluAttributes=e=>(0,a.createAttributeWithCacheKey)(e),t.erf=e=>{e.compute(i(e.inputs[0],"Erf",(e=>`erf_vf32(${e})`),"\n  const r0: f32 = 0.3275911;\n  const r1: f32 = 0.254829592;\n  const r2: f32 = -0.284496736;\n  const r3: f32 = 1.421413741;\n  const r4: f32 = -1.453152027;\n  const r5: f32 = 1.061405429;\n\n  fn erf_vf32(v: vec4<f32>) -> vec4<f32> {\n    let absv = abs(v);\n    let x = 1.0 / (1.0 + r0 * absv);\n    return sign(v) * (1.0 - ((((r5 * x + r4) * x + r3) * x + r2) * x + r1) * x * exp(-absv * absv));\n  }"))},t.floor=e=>{e.compute(i(e.inputs[0],"Floor","floor"))},t.neg=e=>{e.compute(i(e.inputs[0],"Neg",(e=>`-${e}`)))},t.reciprocal=e=>{e.compute(i(e.inputs[0],"Reciprocal",(e=>`1.0/${e}`)))},t.sigmoid=e=>{e.compute(i(e.inputs[0],"Sigmoid",(e=>`(1.0 / (1.0 + exp(-${e})))`)))},t.sin=e=>{e.compute(i(e.inputs[0],"Sin","sin"))},t.sinh=e=>{e.compute(i(e.inputs[0],"Sinh","sinh"))},t.sqrt=e=>{e.compute(i(e.inputs[0],"Sqrt","sqrt"))},t.tan=e=>{e.compute(i(e.inputs[0],"Tan","tan"))},t.tanh=e=>{e.compute(i(e.inputs[0],"Tanh","tanh"))}},305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgramManager=void 0;const r=n(955),a=n(75);t.ProgramManager=class{constructor(e){this.backend=e,this.repo=new Map,this.attributesBound=!1}getArtifact(e){return this.repo.get(e)}setArtifact(e,t){this.repo.set(e,t)}run(e,t,n,r){const a=this.backend.device,o=this.backend.getComputePassEncoder();this.backend.profilingEnabled&&o.writeTimestamp(this.backend.profilingQuerySet,0),o.setPipeline(e.computePipeline);const i=[];for(const e of t)i.push({binding:i.length,resource:{buffer:e.buffer}});for(const e of n)i.push({binding:i.length,resource:{buffer:e.buffer}});const s=a.createBindGroup({layout:e.computePipeline.getBindGroupLayout(0),entries:i});if(o.setBindGroup(0,s),o.dispatchWorkgroups(...r),this.backend.pendingDispatchNumber++,this.backend.profilingEnabled){o.writeTimestamp(this.backend.profilingQuerySet,1);const e=this.backend.gpuDataManager.create(16,GPUBufferUsage.COPY_SRC|GPUBufferUsage.QUERY_RESOLVE),t=this.backend.gpuDataManager.create(16,GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST);this.backend.endComputePass(),this.backend.getCommandEncoder().resolveQuerySet(this.backend.profilingQuerySet,0,2,e.buffer,0),this.backend.getCommandEncoder().copyBufferToBuffer(e.buffer,0,t.buffer,0,16),this.backend.flush();const n=this.backend.currentKernelId,r=this.backend.kernels.get(n)[0];t.buffer.mapAsync(GPUMapMode.READ).then((()=>{const a=new BigUint64Array(t.buffer.getMappedRange()),o=a[0],i=a[1];t.buffer.unmap(),void 0===this.backend.profilingTimeBase&&(this.backend.profilingTimeBase=o);const s=Number(o-this.backend.profilingTimeBase),u=Number(i-this.backend.profilingTimeBase);if(!Number.isSafeInteger(s)||!Number.isSafeInteger(u))throw new RangeError("incorrect timestamp range");this.backend.gpuDataManager.release(e.id),this.backend.gpuDataManager.release(t.id),console.log(`[profiling] kernel "${n}|${r}" execution time: ${u-s} ns`)}))}this.backend.pendingDispatchNumber>=16&&this.backend.flush()}dispose(){}build(e,t){const n=this.backend.device,o=e.getShaderSource((0,a.createShaderHelper)(t)),i=n.createShaderModule({code:o});return(0,r.LOG_DEBUG)("verbose",(()=>`[WebGPU] shader code: ${o}`)),{programInfo:e,computePipeline:n.createComputePipeline({compute:{module:i,entryPoint:"main"},layout:"auto"})}}normalizeDispatchGroupSize(e){const t="number"==typeof e?e:e.x,n="number"==typeof e?1:e.y||1,r="number"==typeof e?1:e.z||1,a=this.backend.device.limits.maxComputeWorkgroupsPerDimension;if(t<=a&&n<=a&&r<=a)return[t,n,r];const o=t*n*r;let i=Math.ceil(Math.sqrt(o));if(i>a){if(i=Math.ceil(Math.cbrt(o)),i>a)throw new Error("Total dispatch size exceeds WebGPU maximum.");return[i,i,i]}return[i,i,1]}}},163:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.GpuDataType=void 0,(n=t.GpuDataType||(t.GpuDataType={}))[n.default=0]="default",n[n.upload=1]="upload",n[n.profile=2]="profile"},899:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterateExtraOptions=void 0,t.iterateExtraOptions=(e,n,r,a)=>{if("object"==typeof e&&null!==e){if(r.has(e))throw new Error("Circular reference in options");r.add(e)}Object.entries(e).forEach((([e,o])=>{const i=n?n+e:e;if("object"==typeof o)(0,t.iterateExtraOptions)(o,i+".",r,a);else if("string"==typeof o||"number"==typeof o)a(i,o.toString());else{if("boolean"!=typeof o)throw new Error("Can't handle extra config type: "+typeof o);a(i,o?"1":"0")}}))}},544:function(e,t,n){"use strict";var r,a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initOrt=t.initWasm=void 0;const s=n(453),u=n(675),c=i(n(259)),l=n(263),f=()=>!!s.env.wasm.proxy&&"undefined"!=typeof document;let p,d,h,g=!1,m=!1,y=!1;const v=[],b=[],w=[],_=[],A=[],T=[],S=()=>{if(g||!m||y||!p)throw new Error("worker not ready")},O=e=>{switch(e.data.type){case"init-wasm":g=!1,e.data.err?(y=!0,d[1](e.data.err)):(m=!0,d[0]());break;case"init-ort":e.data.err?h[1](e.data.err):h[0]();break;case"create_allocate":e.data.err?v.shift()[1](e.data.err):v.shift()[0](e.data.out);break;case"create_finalize":e.data.err?b.shift()[1](e.data.err):b.shift()[0](e.data.out);break;case"create":e.data.err?w.shift()[1](e.data.err):w.shift()[0](e.data.out);break;case"release":e.data.err?_.shift()[1](e.data.err):_.shift()[0]();break;case"run":e.data.err?A.shift()[1](e.data.err):A.shift()[0](e.data.out);break;case"end-profiling":e.data.err?T.shift()[1](e.data.err):T.shift()[0]()}},E="undefined"!=typeof document?null===(r=null===document||void 0===document?void 0:document.currentScript)||void 0===r?void 0:r.src:void 0;t.initWasm=async()=>{if(f()){if(m)return;if(g)throw new Error("multiple calls to 'initWasm()' detected.");if(y)throw new Error("previous call to 'initWasm()' failed.");return g=!0,void 0===s.env.wasm.wasmPaths&&E&&0!==E.indexOf("blob:")&&(s.env.wasm.wasmPaths=E.substr(0,+E.lastIndexOf("/")+1)),new Promise(((e,t)=>{null==p||p.terminate(),p=n(50).Z(),p.onmessage=O,d=[e,t];const r={type:"init-wasm",in:s.env.wasm};p.postMessage(r)}))}return(0,l.initializeWebAssembly)(s.env.wasm)},t.initOrt=async(e,t)=>{if(f())return S(),new Promise(((n,r)=>{h=[n,r];const a={type:"init-ort",in:{numThreads:e,loggingLevel:t}};p.postMessage(a)}));c.initOrt(e,t),await(0,u.init)((0,l.getInstance)())},t.createSessionAllocate=async e=>f()?(S(),new Promise(((t,n)=>{v.push([t,n]);const r={type:"create_allocate",in:{model:e}};p.postMessage(r,[e.buffer])}))):c.createSessionAllocate(e),t.createSessionFinalize=async(e,t)=>f()?(S(),new Promise(((n,r)=>{b.push([n,r]);const a={type:"create_finalize",in:{modeldata:e,options:t}};p.postMessage(a)}))):c.createSessionFinalize(e,t),t.createSession=async(e,t)=>f()?(S(),new Promise(((n,r)=>{w.push([n,r]);const a={type:"create",in:{model:e,options:t}};p.postMessage(a,[e.buffer])}))):c.createSession(e,t),t.releaseSession=async e=>{if(f())return S(),new Promise(((t,n)=>{_.push([t,n]);const r={type:"release",in:e};p.postMessage(r)}));c.releaseSession(e)},t.run=async(e,t,n,r,a)=>f()?(S(),new Promise(((o,i)=>{A.push([o,i]);const s={type:"run",in:{sessionId:e,inputIndices:t,inputs:n,outputIndices:r,options:a}};p.postMessage(s,c.extractTransferableBuffers(n))}))):c.run(e,t,n,r,a),t.endProfiling=async e=>{if(f())return S(),new Promise(((t,n)=>{T.push([t,n]);const r={type:"end-profiling",in:e};p.postMessage(r)}));c.endProfiling(e)}},918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const r=n(899),a=n(444),o=n(263);t.setRunOptions=e=>{const t=(0,o.getInstance)();let n=0;const i=[],s=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(s.terminate=!1);let o=0;if(void 0!==(null==e?void 0:e.tag)&&(o=(0,a.allocWasmString)(e.tag,i)),n=t._OrtCreateRunOptions(s.logSeverityLevel,s.logVerbosityLevel,!!s.terminate,o),0===n)throw new Error("Can't create run options");return void 0!==(null==e?void 0:e.extra)&&(0,r.iterateExtraOptions)(e.extra,"",new WeakSet,((e,r)=>{const o=(0,a.allocWasmString)(e,i),s=(0,a.allocWasmString)(r,i);if(0!==t._OrtAddRunConfigEntry(n,o,s))throw new Error(`Can't set a run config entry: ${e} - ${r}`)})),[n,i]}catch(e){throw 0!==n&&t._OrtReleaseRunOptions(n),i.forEach(t._free),e}}},640:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnnxruntimeWebAssemblySessionHandler=void 0;const r=n(806),a=n(453),o=n(850),i=n(544),s=n(917);let u;t.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(e){const t=await fetch(e),n=await t.arrayBuffer();return(0,i.createSessionAllocate)(new Uint8Array(n))}async loadModel(e,t){if(u||(await(0,i.initOrt)(a.env.wasm.numThreads,(0,s.logLevelStringToEnum)(a.env.logLevel)),u=!0),"string"==typeof e)if("undefined"==typeof fetch){const n=await(0,o.promisify)(r.readFile)(e);[this.sessionId,this.inputNames,this.outputNames]=await(0,i.createSession)(n,t)}else{const n=await this.createSessionAllocate(e);[this.sessionId,this.inputNames,this.outputNames]=await(0,i.createSessionFinalize)(n,t)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,i.createSession)(e,t)}async dispose(){return(0,i.releaseSession)(this.sessionId)}async run(e,t,n){const r=[],o=[];Object.entries(e).forEach((e=>{const t=e[0],n=e[1],a=this.inputNames.indexOf(t);if(-1===a)throw new Error(`invalid input '${t}'`);r.push(n),o.push(a)}));const s=[];Object.entries(t).forEach((e=>{const t=e[0],n=this.outputNames.indexOf(t);if(-1===n)throw new Error(`invalid output '${t}'`);s.push(n)}));const u=await(0,i.run)(this.sessionId,o,r.map((e=>[e.type,e.dims,e.data])),s,n),c={};for(let e=0;e<u.length;e++)c[this.outputNames[s[e]]]=new a.Tensor(u[e][0],u[e][2],u[e][1]);return c}startProfiling(){}endProfiling(){(0,i.endProfiling)(this.sessionId)}}},622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const r=n(899),a=n(444),o=n(263);t.setSessionOptions=e=>{var t,n,i,s;const u=(0,o.getInstance)();let c=0;const l=[],f=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some((e=>"webgpu"===("string"==typeof e?e:e.name)))&&(e.enableMemPattern=!1)})(f);try{const e=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(null!==(t=f.graphOptimizationLevel)&&void 0!==t?t:"all"),p=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(null!==(n=f.executionMode)&&void 0!==n?n:"sequential"),d="string"==typeof f.logId?(0,a.allocWasmString)(f.logId,l):0,h=null!==(i=f.logSeverityLevel)&&void 0!==i?i:2;if(!Number.isInteger(h)||h<0||h>4)throw new Error(`log serverity level is not valid: ${h}`);const g=null!==(s=f.logVerbosityLevel)&&void 0!==s?s:0;if(!Number.isInteger(g)||g<0||g>4)throw new Error(`log verbosity level is not valid: ${g}`);const m="string"==typeof f.optimizedModelFilePath?(0,a.allocWasmString)(f.optimizedModelFilePath,l):0;if(c=u._OrtCreateSessionOptions(e,!!f.enableCpuMemArena,!!f.enableMemPattern,p,!!f.enableProfiling,0,d,h,g,m),0===c)throw new Error("Can't create session options");return f.executionProviders&&((e,t,n)=>{for(const r of t){let t="string"==typeof r?r:r.name;switch(t){case"xnnpack":t="XNNPACK";break;case"webnn":if(t="WEBNN","string"!=typeof r){const t=r;if(null==t?void 0:t.deviceType){const r=(0,a.allocWasmString)("deviceType",n),i=(0,a.allocWasmString)(t.deviceType,n);if(0!==(0,o.getInstance)()._OrtAddSessionConfigEntry(e,r,i))throw new Error(`Can't set a session config entry: 'deviceType' - ${t.deviceType}`)}if(null==t?void 0:t.powerPreference){const r=(0,a.allocWasmString)("powerPreference",n),i=(0,a.allocWasmString)(t.powerPreference,n);if(0!==(0,o.getInstance)()._OrtAddSessionConfigEntry(e,r,i))throw new Error(`Can't set a session config entry: 'powerPreference' - ${t.powerPreference}`)}}break;case"webgpu":t="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${t}`)}const i=(0,a.allocWasmString)(t,n);if(0!==(0,o.getInstance)()._OrtAppendExecutionProvider(e,i))throw new Error(`Can't append execution provider: ${t}`)}})(c,f.executionProviders,l),void 0!==f.extra&&(0,r.iterateExtraOptions)(f.extra,"",new WeakSet,((e,t)=>{const n=(0,a.allocWasmString)(e,l),r=(0,a.allocWasmString)(t,l);if(0!==u._OrtAddSessionConfigEntry(c,n,r))throw new Error(`Can't set a session config entry: ${e} - ${t}`)})),[c,l]}catch(e){throw 0!==c&&u._OrtReleaseSessionOptions(c),l.forEach(u._free),e}}},444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allocWasmString=void 0;const r=n(263);t.allocWasmString=(e,t)=>{const n=(0,r.getInstance)(),a=n.lengthBytesUTF8(e)+1,o=n._malloc(a);return n.stringToUTF8(e,o,a),t.push(o),o}},917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLevelStringToEnum=t.tensorTypeToTypedArrayConstructor=t.getTensorElementSize=t.tensorDataTypeEnumToString=t.tensorDataTypeStringToEnum=void 0,t.tensorDataTypeStringToEnum=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},t.tensorDataTypeEnumToString=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:case 10:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},t.getTensorElementSize=e=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][e],t.tensorTypeToTypedArrayConstructor=e=>{switch(e){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}},t.logLevelStringToEnum=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}}},259:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initOrt=void 0;const r=n(918),a=n(622),o=n(444),i=n(917),s=n(263);t.initOrt=(e,t)=>{const n=(0,s.getInstance)()._OrtInit(e,t);if(0!==n)throw new Error(`Can't initialize onnxruntime. error code = ${n}`)};const u=new Map;t.createSessionAllocate=e=>{const t=(0,s.getInstance)(),n=t._malloc(e.byteLength);return t.HEAPU8.set(e,n),[n,e.byteLength]},t.createSessionFinalize=(e,t)=>{const n=(0,s.getInstance)();let r=0,o=0,i=[];try{if([o,i]=(0,a.setSessionOptions)(t),r=n._OrtCreateSession(e[0],e[1],o),0===r)throw new Error("Can't create a session")}finally{n._free(e[0]),0!==o&&n._OrtReleaseSessionOptions(o),i.forEach(n._free)}const c=n._OrtGetInputCount(r),l=n._OrtGetOutputCount(r),f=[],p=[],d=[],h=[];for(let e=0;e<c;e++){const t=n._OrtGetInputName(r,e);if(0===t)throw new Error("Can't get an input name");p.push(t),f.push(n.UTF8ToString(t))}for(let e=0;e<l;e++){const t=n._OrtGetOutputName(r,e);if(0===t)throw new Error("Can't get an output name");h.push(t),d.push(n.UTF8ToString(t))}return u.set(r,[r,p,h]),[r,f,d]},t.createSession=(e,n)=>{const r=(0,t.createSessionAllocate)(e);return(0,t.createSessionFinalize)(r,n)},t.releaseSession=e=>{const t=(0,s.getInstance)(),n=u.get(e);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],o=n[2];a.forEach(t._OrtFree),o.forEach(t._OrtFree),t._OrtReleaseSession(r),u.delete(e)},t.run=async(e,t,n,a,c)=>{const l=(0,s.getInstance)(),f=u.get(e);if(!f)throw new Error("invalid session id");const p=f[0],d=f[1],h=f[2],g=t.length,m=a.length;let y=0,v=[];const b=[],w=[];try{[y,v]=(0,r.setRunOptions)(c);for(let e=0;e<g;e++){const t=n[e][0],r=n[e][1],a=n[e][2];let s,u;if(Array.isArray(a)){u=4*a.length,s=l._malloc(u),w.push(s);let e=s/4;for(let t=0;t<a.length;t++){if("string"!=typeof a[t])throw new TypeError(`tensor data at index ${t} is not a string`);l.HEAPU32[e++]=(0,o.allocWasmString)(a[t],w)}}else u=a.byteLength,s=l._malloc(u),w.push(s),l.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),s);const c=l.stackSave(),f=l.stackAlloc(4*r.length);try{let e=f/4;r.forEach((t=>l.HEAP32[e++]=t));const n=l._OrtCreateTensor((0,i.tensorDataTypeStringToEnum)(t),s,u,f,r.length);if(0===n)throw new Error("Can't create a tensor");b.push(n)}finally{l.stackRestore(c)}}const e=l.stackSave(),s=l.stackAlloc(4*g),u=l.stackAlloc(4*g),f=l.stackAlloc(4*m),_=l.stackAlloc(4*m);try{let e=s/4,n=u/4,r=f/4,o=_/4;for(let r=0;r<g;r++)l.HEAPU32[e++]=b[r],l.HEAPU32[n++]=d[t[r]];for(let e=0;e<m;e++)l.HEAPU32[r++]=0,l.HEAPU32[o++]=h[a[e]];let c=l._OrtRun(p,u,s,g,_,m,f,y);const v=l.jsepRunPromise;v&&void 0!==v.then&&(c=await v);const w=[];if(0===c)for(let e=0;e<m;e++){const t=l.HEAPU32[f/4+e],n=l.stackSave(),r=l.stackAlloc(16);let a,o=0;try{if(c=l._OrtGetTensorData(t,r,r+4,r+8,r+12),0!==c)throw new Error(`Can't access output tensor data. error code = ${c}`);let e=r/4;const n=l.HEAPU32[e++];o=l.HEAPU32[e++];const s=l.HEAPU32[e++],u=l.HEAPU32[e++],f=[];for(let e=0;e<u;e++)f.push(l.HEAPU32[s/4+e]);l._OrtFree(s);const p=0===f.length?1:f.reduce(((e,t)=>e*t));if(a=(0,i.tensorDataTypeEnumToString)(n),"string"===a){const e=[];let t=o/4;for(let n=0;n<p;n++){const r=l.HEAPU32[t++],a=n===p-1?void 0:l.HEAPU32[t]-r;e.push(l.UTF8ToString(r,a))}w.push([a,f,e])}else{const e=new((0,i.tensorTypeToTypedArrayConstructor)(a))(p);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(l.HEAPU8.subarray(o,o+e.byteLength)),w.push([a,f,e])}}finally{l.stackRestore(n),"string"===a&&o&&l._free(o),l._OrtReleaseTensor(t)}}if(0===c)return w;throw new Error(`failed to call OrtRun(). error code = ${c}.`)}finally{l.stackRestore(e)}}finally{b.forEach(l._OrtReleaseTensor),w.forEach(l._free),l._OrtReleaseRunOptions(y),v.forEach(l._free)}},t.endProfiling=e=>{const t=(0,s.getInstance)(),n=u.get(e);if(!n)throw new Error("invalid session id");const r=n[0],a=t._OrtEndProfiling(r);if(0===a)throw new Error("Can't get an profile file name");t._OrtFree(a)},t.extractTransferableBuffers=e=>{const t=[];for(const n of e){const e=n[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},263:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const s=o(n(449)),u=i(n(932)),c=n(474);let l,f=!1,p=!1,d=!1;const h=(e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm";t.initializeWebAssembly=async e=>{if(f)return Promise.resolve();if(p)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(d)throw new Error("previous call to 'initializeWebAssembly()' failed.");p=!0;const t=e.initTimeout,r=e.numThreads,a=e.simd,o=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),i=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),g="string"==typeof e.wasmPaths?e.wasmPaths:void 0,m=h(!1,o),y=h(i,o),v="object"==typeof e.wasmPaths?e.wasmPaths[y]:void 0;let b=!1;const w=[];if(t>0&&w.push(new Promise((e=>{setTimeout((()=>{b=!0,e()}),t)}))),w.push(new Promise(((e,t)=>{const r=o?c:u.default,a={locateFile:(e,t)=>o&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(154)],{type:"text/javascript"})):e===m?null!=v?v:(null!=g?g:t)+y:t+e};if(o)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=s.join("/","ort-wasm-threaded.js");else{const e=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}r(a).then((t=>{p=!1,f=!0,l=t,e()}),(e=>{p=!1,d=!0,t(e)}))}))),await Promise.race(w),b)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(f&&l)return l;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!f||p||d||(p=!0,null===(e=l.PThread)||void 0===e||e.terminateAllThreads(),l=void 0,p=!1,f=!1,d=!0)}},50:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(614),a=n.n(r);function o(){return a()('/*!\n* ONNX Runtime Web v1.15.0\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var e={899:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterateExtraOptions=void 0,t.iterateExtraOptions=(e,r,n,a)=>{if("object"==typeof e&&null!==e){if(n.has(e))throw new Error("Circular reference in options");n.add(e)}Object.entries(e).forEach((([e,o])=>{const i=r?r+e:e;if("object"==typeof o)(0,t.iterateExtraOptions)(o,i+".",n,a);else if("string"==typeof o||"number"==typeof o)a(i,o.toString());else{if("boolean"!=typeof o)throw new Error("Can\'t handle extra config type: "+typeof o);a(i,o?"1":"0")}}))}},918:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const n=r(899),a=r(444),o=r(263);t.setRunOptions=e=>{const t=(0,o.getInstance)();let r=0;const i=[],u=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(u.terminate=!1);let o=0;if(void 0!==(null==e?void 0:e.tag)&&(o=(0,a.allocWasmString)(e.tag,i)),r=t._OrtCreateRunOptions(u.logSeverityLevel,u.logVerbosityLevel,!!u.terminate,o),0===r)throw new Error("Can\'t create run options");return void 0!==(null==e?void 0:e.extra)&&(0,n.iterateExtraOptions)(e.extra,"",new WeakSet,((e,n)=>{const o=(0,a.allocWasmString)(e,i),u=(0,a.allocWasmString)(n,i);if(0!==t._OrtAddRunConfigEntry(r,o,u))throw new Error(`Can\'t set a run config entry: ${e} - ${n}`)})),[r,i]}catch(e){throw 0!==r&&t._OrtReleaseRunOptions(r),i.forEach(t._free),e}}},622:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const n=r(899),a=r(444),o=r(263);t.setSessionOptions=e=>{var t,r,i,u;const s=(0,o.getInstance)();let c=0;const f=[],l=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some((e=>"webgpu"===("string"==typeof e?e:e.name)))&&(e.enableMemPattern=!1)})(l);try{const e=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(null!==(t=l.graphOptimizationLevel)&&void 0!==t?t:"all"),p=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(null!==(r=l.executionMode)&&void 0!==r?r:"sequential"),d="string"==typeof l.logId?(0,a.allocWasmString)(l.logId,f):0,g=null!==(i=l.logSeverityLevel)&&void 0!==i?i:2;if(!Number.isInteger(g)||g<0||g>4)throw new Error(`log serverity level is not valid: ${g}`);const h=null!==(u=l.logVerbosityLevel)&&void 0!==u?u:0;if(!Number.isInteger(h)||h<0||h>4)throw new Error(`log verbosity level is not valid: ${h}`);const m="string"==typeof l.optimizedModelFilePath?(0,a.allocWasmString)(l.optimizedModelFilePath,f):0;if(c=s._OrtCreateSessionOptions(e,!!l.enableCpuMemArena,!!l.enableMemPattern,p,!!l.enableProfiling,0,d,g,h,m),0===c)throw new Error("Can\'t create session options");return l.executionProviders&&((e,t,r)=>{for(const n of t){let t="string"==typeof n?n:n.name;switch(t){case"xnnpack":t="XNNPACK";break;case"webnn":if(t="WEBNN","string"!=typeof n){const t=n;if(null==t?void 0:t.deviceType){const n=(0,a.allocWasmString)("deviceType",r),i=(0,a.allocWasmString)(t.deviceType,r);if(0!==(0,o.getInstance)()._OrtAddSessionConfigEntry(e,n,i))throw new Error(`Can\'t set a session config entry: \'deviceType\' - ${t.deviceType}`)}if(null==t?void 0:t.powerPreference){const n=(0,a.allocWasmString)("powerPreference",r),i=(0,a.allocWasmString)(t.powerPreference,r);if(0!==(0,o.getInstance)()._OrtAddSessionConfigEntry(e,n,i))throw new Error(`Can\'t set a session config entry: \'powerPreference\' - ${t.powerPreference}`)}}break;case"webgpu":t="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${t}`)}const i=(0,a.allocWasmString)(t,r);if(0!==(0,o.getInstance)()._OrtAppendExecutionProvider(e,i))throw new Error(`Can\'t append execution provider: ${t}`)}})(c,l.executionProviders,f),void 0!==l.extra&&(0,n.iterateExtraOptions)(l.extra,"",new WeakSet,((e,t)=>{const r=(0,a.allocWasmString)(e,f),n=(0,a.allocWasmString)(t,f);if(0!==s._OrtAddSessionConfigEntry(c,r,n))throw new Error(`Can\'t set a session config entry: ${e} - ${t}`)})),[c,f]}catch(e){throw 0!==c&&s._OrtReleaseSessionOptions(c),f.forEach(s._free),e}}},444:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allocWasmString=void 0;const n=r(263);t.allocWasmString=(e,t)=>{const r=(0,n.getInstance)(),a=r.lengthBytesUTF8(e)+1,o=r._malloc(a);return r.stringToUTF8(e,o,a),t.push(o),o}},917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLevelStringToEnum=t.tensorTypeToTypedArrayConstructor=t.getTensorElementSize=t.tensorDataTypeEnumToString=t.tensorDataTypeStringToEnum=void 0,t.tensorDataTypeStringToEnum=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},t.tensorDataTypeEnumToString=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:case 10:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},t.getTensorElementSize=e=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][e],t.tensorTypeToTypedArrayConstructor=e=>{switch(e){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}},t.logLevelStringToEnum=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}}},259:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initOrt=void 0;const n=r(918),a=r(622),o=r(444),i=r(917),u=r(263);t.initOrt=(e,t)=>{const r=(0,u.getInstance)()._OrtInit(e,t);if(0!==r)throw new Error(`Can\'t initialize onnxruntime. error code = ${r}`)};const s=new Map;t.createSessionAllocate=e=>{const t=(0,u.getInstance)(),r=t._malloc(e.byteLength);return t.HEAPU8.set(e,r),[r,e.byteLength]},t.createSessionFinalize=(e,t)=>{const r=(0,u.getInstance)();let n=0,o=0,i=[];try{if([o,i]=(0,a.setSessionOptions)(t),n=r._OrtCreateSession(e[0],e[1],o),0===n)throw new Error("Can\'t create a session")}finally{r._free(e[0]),0!==o&&r._OrtReleaseSessionOptions(o),i.forEach(r._free)}const c=r._OrtGetInputCount(n),f=r._OrtGetOutputCount(n),l=[],p=[],d=[],g=[];for(let e=0;e<c;e++){const t=r._OrtGetInputName(n,e);if(0===t)throw new Error("Can\'t get an input name");p.push(t),l.push(r.UTF8ToString(t))}for(let e=0;e<f;e++){const t=r._OrtGetOutputName(n,e);if(0===t)throw new Error("Can\'t get an output name");g.push(t),d.push(r.UTF8ToString(t))}return s.set(n,[n,p,g]),[n,l,d]},t.createSession=(e,r)=>{const n=(0,t.createSessionAllocate)(e);return(0,t.createSessionFinalize)(n,r)},t.releaseSession=e=>{const t=(0,u.getInstance)(),r=s.get(e);if(!r)throw new Error("invalid session id");const n=r[0],a=r[1],o=r[2];a.forEach(t._OrtFree),o.forEach(t._OrtFree),t._OrtReleaseSession(n),s.delete(e)},t.run=async(e,t,r,a,c)=>{const f=(0,u.getInstance)(),l=s.get(e);if(!l)throw new Error("invalid session id");const p=l[0],d=l[1],g=l[2],h=t.length,m=a.length;let y=0,v=[];const b=[],w=[];try{[y,v]=(0,n.setRunOptions)(c);for(let e=0;e<h;e++){const t=r[e][0],n=r[e][1],a=r[e][2];let u,s;if(Array.isArray(a)){s=4*a.length,u=f._malloc(s),w.push(u);let e=u/4;for(let t=0;t<a.length;t++){if("string"!=typeof a[t])throw new TypeError(`tensor data at index ${t} is not a string`);f.HEAPU32[e++]=(0,o.allocWasmString)(a[t],w)}}else s=a.byteLength,u=f._malloc(s),w.push(u),f.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,s),u);const c=f.stackSave(),l=f.stackAlloc(4*n.length);try{let e=l/4;n.forEach((t=>f.HEAP32[e++]=t));const r=f._OrtCreateTensor((0,i.tensorDataTypeStringToEnum)(t),u,s,l,n.length);if(0===r)throw new Error("Can\'t create a tensor");b.push(r)}finally{f.stackRestore(c)}}const e=f.stackSave(),u=f.stackAlloc(4*h),s=f.stackAlloc(4*h),l=f.stackAlloc(4*m),_=f.stackAlloc(4*m);try{let e=u/4,r=s/4,n=l/4,o=_/4;for(let n=0;n<h;n++)f.HEAPU32[e++]=b[n],f.HEAPU32[r++]=d[t[n]];for(let e=0;e<m;e++)f.HEAPU32[n++]=0,f.HEAPU32[o++]=g[a[e]];let c=f._OrtRun(p,s,u,h,_,m,l,y);const v=f.jsepRunPromise;v&&void 0!==v.then&&(c=await v);const w=[];if(0===c)for(let e=0;e<m;e++){const t=f.HEAPU32[l/4+e],r=f.stackSave(),n=f.stackAlloc(16);let a,o=0;try{if(c=f._OrtGetTensorData(t,n,n+4,n+8,n+12),0!==c)throw new Error(`Can\'t access output tensor data. error code = ${c}`);let e=n/4;const r=f.HEAPU32[e++];o=f.HEAPU32[e++];const u=f.HEAPU32[e++],s=f.HEAPU32[e++],l=[];for(let e=0;e<s;e++)l.push(f.HEAPU32[u/4+e]);f._OrtFree(u);const p=0===l.length?1:l.reduce(((e,t)=>e*t));if(a=(0,i.tensorDataTypeEnumToString)(r),"string"===a){const e=[];let t=o/4;for(let r=0;r<p;r++){const n=f.HEAPU32[t++],a=r===p-1?void 0:f.HEAPU32[t]-n;e.push(f.UTF8ToString(n,a))}w.push([a,l,e])}else{const e=new((0,i.tensorTypeToTypedArrayConstructor)(a))(p);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(f.HEAPU8.subarray(o,o+e.byteLength)),w.push([a,l,e])}}finally{f.stackRestore(r),"string"===a&&o&&f._free(o),f._OrtReleaseTensor(t)}}if(0===c)return w;throw new Error(`failed to call OrtRun(). error code = ${c}.`)}finally{f.stackRestore(e)}}finally{b.forEach(f._OrtReleaseTensor),w.forEach(f._free),f._OrtReleaseRunOptions(y),v.forEach(f._free)}},t.endProfiling=e=>{const t=(0,u.getInstance)(),r=s.get(e);if(!r)throw new Error("invalid session id");const n=r[0],a=t._OrtEndProfiling(n);if(0===a)throw new Error("Can\'t get an profile file name");t._OrtFree(a)},t.extractTransferableBuffers=e=>{const t=[];for(const r of e){const e=r[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},263:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const u=o(r(449)),s=i(r(932)),c=r(474);let f,l=!1,p=!1,d=!1;const g=(e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm";t.initializeWebAssembly=async e=>{if(l)return Promise.resolve();if(p)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(d)throw new Error("previous call to \'initializeWebAssembly()\' failed.");p=!0;const t=e.initTimeout,n=e.numThreads,a=e.simd,o=n>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),i=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),h="string"==typeof e.wasmPaths?e.wasmPaths:void 0,m=g(!1,o),y=g(i,o),v="object"==typeof e.wasmPaths?e.wasmPaths[y]:void 0;let b=!1;const w=[];if(t>0&&w.push(new Promise((e=>{setTimeout((()=>{b=!0,e()}),t)}))),w.push(new Promise(((e,t)=>{const n=o?c:s.default,a={locateFile:(e,t)=>o&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([r(154)],{type:"text/javascript"})):e===m?null!=v?v:(null!=h?h:t)+y:t+e};if(o)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=u.join("/","ort-wasm-threaded.js");else{const e=`var ortWasmThreaded=(function(){var _scriptDir;return ${n.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}n(a).then((t=>{p=!1,l=!0,f=t,e()}),(e=>{p=!1,d=!0,t(e)}))}))),await Promise.race(w),b)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(l&&f)return f;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!l||p||d||(p=!0,null===(e=f.PThread)||void 0===e||e.terminateAllThreads(),f=void 0,p=!1,l=!1,d=!0)}},474:(e,t,r)=>{var _scriptDir,n=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e={}){function t(){return F.buffer!=W.buffer&&J(),W}function n(){return F.buffer!=W.buffer&&J(),x}function a(){return F.buffer!=W.buffer&&J(),D}function o(){return F.buffer!=W.buffer&&J(),I}function i(){return F.buffer!=W.buffer&&J(),j}function u(){return F.buffer!=W.buffer&&J(),H}function s(){return F.buffer!=W.buffer&&J(),z}var c,f,l;c||(c=void 0!==e?e:{}),c.ready=new Promise((function(e,t){f=e,l=t}));var p,d,g,h=Object.assign({},c),m="./this.program",y=(e,t)=>{throw t},v="object"==typeof window,b="function"==typeof importScripts,w="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,_=c.ENVIRONMENT_IS_PTHREAD||!1,T="";function O(e){return c.locateFile?c.locateFile(e,T):T+e}if(w){var A=r(384),S=r(908);let t;T=b?S.dirname(T)+"/":"//",p=(e,t)=>(e=e.startsWith("file://")?new URL(e):S.normalize(e),A.readFileSync(e,t?void 0:"utf8")),g=e=>((e=p(e,!0)).buffer||(e=new Uint8Array(e)),e),d=(e,t,r)=>{e=e.startsWith("file://")?new URL(e):S.normalize(e),A.readFile(e,(function(e,n){e?r(e):t(n.buffer)}))},1<process.argv.length&&(m=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof fe))throw e})),15>process.versions.node.split(".")[0]&&process.on("unhandledRejection",(function(e){throw e})),y=(e,t)=>{if(R)throw process.exitCode=e,t;if(!(t instanceof fe)){var r=t;t&&"object"==typeof t&&t.stack&&(r=[t,t.stack]),k("exiting due to exception: "+r)}process.exit(e)},c.inspect=function(){return"[Emscripten Module object]"};try{t=r(925)}catch(e){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),e}r.g.Worker=t.Worker}else(v||b)&&(b?T=self.location.href:"undefined"!=typeof document&&document.currentScript&&(T=document.currentScript.src),_scriptDir&&(T=_scriptDir),T=0!==T.indexOf("blob:")?T.substr(0,T.replace(/[?#].*/,"").lastIndexOf("/")+1):"",w||(p=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},b&&(g=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),d=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)}));w&&"undefined"==typeof performance&&(r.g.performance=r(953).performance);var E=console.log.bind(console),P=console.warn.bind(console);w&&(E=e=>A.writeSync(1,e+"\\n"),P=e=>A.writeSync(2,e+"\\n"));var C,M=c.print||E,k=c.printErr||P;Object.assign(c,h),h=null,c.thisProgram&&(m=c.thisProgram),c.quit&&(y=c.quit),c.wasmBinary&&(C=c.wasmBinary);var R=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&ie("no native wasm support detected");var F,U,W,x,D,I,j,H,Y,z,L=!1,N="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function B(e,t,r){var n=(t>>>=0)+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&N)return N.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,r):e.subarray(t,r));for(n="";t<r;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))n+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else n+=String.fromCharCode(a)}return n}function G(e,t){return(e>>>=0)?B(n(),e,t):""}function V(e,t,r,n){if(!(0<n))return 0;var a=r>>>=0;n=r+n-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(r>=n)break;t[r++>>>0]=i}else{if(2047>=i){if(r+1>=n)break;t[r++>>>0]=192|i>>6}else{if(65535>=i){if(r+2>=n)break;t[r++>>>0]=224|i>>12}else{if(r+3>=n)break;t[r++>>>0]=240|i>>18,t[r++>>>0]=128|i>>12&63}t[r++>>>0]=128|i>>6&63}t[r++>>>0]=128|63&i}}return t[r>>>0]=0,r-a}function $(e,t,r){return V(e,n(),t,r)}function q(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t}function J(){var e=F.buffer;c.HEAP8=W=new Int8Array(e),c.HEAP16=D=new Int16Array(e),c.HEAP32=j=new Int32Array(e),c.HEAPU8=x=new Uint8Array(e),c.HEAPU16=I=new Uint16Array(e),c.HEAPU32=H=new Uint32Array(e),c.HEAPF32=Y=new Float32Array(e),c.HEAPF64=z=new Float64Array(e)}var Q=c.INITIAL_MEMORY||16777216;if(1048576<=Q||ie("INITIAL_MEMORY should be larger than STACK_SIZE, was "+Q+"! (STACK_SIZE=1048576)"),_)F=c.wasmMemory;else if(c.wasmMemory)F=c.wasmMemory;else if(!((F=new WebAssembly.Memory({initial:Q/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw k("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),w&&k("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");J(),Q=F.buffer.byteLength;var X,Z=[],K=[],ee=[];function te(){var e=c.preRun.shift();Z.unshift(e)}var re,ne=0,ae=null,oe=null;function ie(e){throw c.onAbort&&c.onAbort(e),k(e="Aborted("+e+")"),L=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),l(e),e}function ue(e){return e.startsWith("data:application/octet-stream;base64,")}function se(e){try{if(e==re&&C)return new Uint8Array(C);if(g)return g(e);throw"both async and sync fetching of the wasm failed"}catch(e){ie(e)}}function ce(e,t,r){return function(e){if(!C&&(v||b)){if("function"==typeof fetch&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()})).catch((function(){return se(e)}));if(d)return new Promise((function(t,r){d(e,(function(e){t(new Uint8Array(e))}),r)}))}return Promise.resolve().then((function(){return se(e)}))}(e).then((function(e){return WebAssembly.instantiate(e,t)})).then((function(e){return e})).then(r,(function(e){k("failed to asynchronously prepare wasm: "+e),ie(e)}))}function fe(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function le(e){e.terminate(),e.onmessage=()=>{}}function pe(e){(e=me.hb[e])||ie(),me.Mb(e)}function de(e){var t=me.Ab();if(!t)return 6;me.ib.push(t),me.hb[e.fb]=t,t.fb=e.fb;var r={cmd:"run",start_routine:e.Nb,arg:e.xb,pthread_ptr:e.fb};return w&&t.ref(),t.postMessage(r,e.Tb),0}function ge(e){if(_)return Pt(1,1,e);R||(me.Ob(),c.onExit&&c.onExit(e),L=!0),y(e,new fe(e))}function he(e){if(_)throw ve(e),"unwind";ge(e)}ue(re="ort-wasm-threaded.wasm")||(re=O(re));var me={lb:[],ib:[],vb:[],hb:{},qb:function(){_&&me.Eb()},Vb:function(){},Eb:function(){me.receiveObjectTransfer=me.Lb,me.threadInitTLS=me.ub,me.setExitStatus=me.tb,R=!1},tb:function(){},Xb:["$terminateWorker"],Ob:function(){for(var e of me.ib)le(e);for(e of me.lb)le(e);me.lb=[],me.ib=[],me.hb=[]},Mb:function(e){var t=e.fb;delete me.hb[t],me.lb.push(e),me.ib.splice(me.ib.indexOf(e),1),e.fb=0,w&&e.unref(),Kt(t)},Lb:function(){},ub:function(){me.vb.forEach((e=>e()))},Kb:e=>new Promise((t=>{e.onmessage=r=>{var n=(r=r.data).cmd;if(e.fb&&(me.yb=e.fb),r.targetThread&&r.targetThread!=Vt()){var a=me.hb[r.Wb];a?a.postMessage(r,r.transferList):k(\'Internal error! Worker sent a message "\'+n+\'" to target pthread \'+r.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===n?ct(r.queue):"spawnThread"===n?de(r):"cleanupThread"===n?pe(r.thread):"killThread"===n?(r=r.thread,n=me.hb[r],delete me.hb[r],le(n),Kt(r),me.ib.splice(me.ib.indexOf(n),1),n.fb=0):"cancelThread"===n?me.hb[r.thread].postMessage({cmd:"cancel"}):"loaded"===n?(e.loaded=!0,w&&!e.fb&&e.unref(),t(e)):"print"===n?M("Thread "+r.threadId+": "+r.text):"printErr"===n?k("Thread "+r.threadId+": "+r.text):"alert"===n?alert("Thread "+r.threadId+": "+r.text):"setimmediate"===r.target?e.postMessage(r):"callHandler"===n?c[r.handler](...r.args):n&&k("worker sent an unknown command "+n);me.yb=void 0},e.onerror=e=>{throw k("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},w&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("detachedExit",(function(){})));var r,n=[];for(r of["onExit","onAbort","print","printErr"])c.hasOwnProperty(r)&&n.push(r);e.postMessage({cmd:"load",handlers:n,urlOrBlob:c.mainScriptUrlOrBlob||_scriptDir,wasmMemory:F,wasmModule:U})})),Jb:function(e){e()},wb:function(){var e=O("ort-wasm-threaded.worker.js");e=new Worker(e),me.lb.push(e)},Ab:function(){return 0==me.lb.length&&(me.wb(),me.Kb(me.lb[0])),me.lb.pop()}};function ye(e){for(;0<e.length;)e.shift()(c)}function ve(e){if(_)return Pt(2,0,e);try{he(e)}catch(e){e instanceof fe||"unwind"==e||y(1,e)}}c.PThread=me,c.establishStackSpace=function(){var e=Vt(),t=i()[e+52>>2>>>0];rr(t,t-(e=i()[e+56>>2>>>0])),ar(t)};var be=[];function we(e){this.mb=e-24,this.Ib=function(e){u()[this.mb+4>>2>>>0]=e},this.Cb=function(e){u()[this.mb+8>>2>>>0]=e},this.Gb=function(){i()[this.mb>>2>>>0]=0},this.Bb=function(){t()[this.mb+12>>0>>>0]=0},this.Hb=function(){t()[this.mb+13>>0>>>0]=0},this.qb=function(e,t){this.zb(),this.Ib(e),this.Cb(t),this.Gb(),this.Bb(),this.Hb()},this.zb=function(){u()[this.mb+16>>2>>>0]=0}}function _e(e,t,r,n){return _?Pt(3,1,e,t,r,n):Te(e,t,r,n)}function Te(e,t,r,n){if("undefined"==typeof SharedArrayBuffer)return k("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return _&&0===a.length?_e(e,t,r,n):(e={Nb:r,fb:e,xb:n,Tb:a},_?(e.Ub="spawnThread",postMessage(e,a),0):de(e))}function Oe(e,t,r){return _?Pt(4,1,e,t,r):0}function Ae(e,t){if(_)return Pt(5,1,e,t)}function Se(e,t){if(_)return Pt(6,1,e,t)}function Ee(e,t,r){if(_)return Pt(7,1,e,t,r)}function Pe(e,t,r){return _?Pt(8,1,e,t,r):0}function Ce(e,t){if(_)return Pt(9,1,e,t)}function Me(e,t,r){if(_)return Pt(10,1,e,t,r)}function ke(e,t,r,n){if(_)return Pt(11,1,e,t,r,n)}function Re(e,t,r,n){if(_)return Pt(12,1,e,t,r,n)}function Fe(e,t,r,n){if(_)return Pt(13,1,e,t,r,n)}function Ue(e){if(_)return Pt(14,1,e)}function We(e,t){if(_)return Pt(15,1,e,t)}function xe(e,t,r){if(_)return Pt(16,1,e,t,r)}function De(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}c.invokeEntryPoint=function(e,t){var r=be[e];r||(e>=be.length&&(be.length=e+1),be[e]=r=X.get(e)),e=r(t),R?me.tb(e):tr(e)};var Ie=void 0;function je(e){for(var t="";n()[e>>>0];)t+=Ie[n()[e++>>>0]];return t}var He={},Ye={},ze={};function Le(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return 48<=t&&57>=t?"_"+e:e}function Ne(e,t){return{[e=Le(e)]:function(){return t.apply(this,arguments)}}[e]}function Be(e){var t=Error,r=Ne(e,(function(t){this.name=e,this.message=t,void 0!==(t=Error(t).stack)&&(this.stack=this.toString()+"\\n"+t.replace(/^Error(:[^\\n]*)?\\n/,""))}));return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},r}var Ge=void 0;function Ve(e){throw new Ge(e)}function $e(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var n=t.name;if(e||Ve(\'type "\'+n+\'" must have a positive integer typeid pointer\'),Ye.hasOwnProperty(e)){if(r.Db)return;Ve("Cannot register type \'"+n+"\' twice")}Ye[e]=t,delete ze[e],He.hasOwnProperty(e)&&(t=He[e],delete He[e],t.forEach((e=>e())))}var qe=[],Je=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Qe(e){4<e&&0==--Je[e].rb&&(Je[e]=void 0,qe.push(e))}var Xe=e=>(e||Ve("Cannot use deleted val. handle = "+e),Je[e].value),Ze=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=qe.length?qe.pop():Je.length;return Je[t]={rb:1,value:e},t}};function Ke(e){return this.fromWireType(i()[e>>2>>>0])}function et(e,t){switch(t){case 2:return function(e){var t=this.fromWireType;return F.buffer!=W.buffer&&J(),t.call(this,Y[e>>>2])};case 3:return function(e){return this.fromWireType(s()[e>>>3])};default:throw new TypeError("Unknown float type: "+e)}}function tt(e,r,s){switch(r){case 0:return s?function(e){return t()[e>>>0]}:function(e){return n()[e>>>0]};case 1:return s?function(e){return a()[e>>>1]}:function(e){return o()[e>>>1]};case 2:return s?function(e){return i()[e>>>2]}:function(e){return u()[e>>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var rt="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function nt(e,t){for(var r=e>>1,i=r+t/2;!(r>=i)&&o()[r>>>0];)++r;if(32<(r<<=1)-e&&rt)return rt.decode(n().slice(e,r));for(r="",i=0;!(i>=t/2);++i){var u=a()[e+2*i>>1>>>0];if(0==u)break;r+=String.fromCharCode(u)}return r}function at(e,t,r){if(void 0===r&&(r=2147483647),2>r)return 0;var n=t;r=(r-=2)<2*e.length?r/2:e.length;for(var o=0;o<r;++o){var i=e.charCodeAt(o);a()[t>>1>>>0]=i,t+=2}return a()[t>>1>>>0]=0,t-n}function ot(e){return 2*e.length}function it(e,t){for(var r=0,n="";!(r>=t/4);){var a=i()[e+4*r>>2>>>0];if(0==a)break;++r,65536<=a?(a-=65536,n+=String.fromCharCode(55296|a>>10,56320|1023&a)):n+=String.fromCharCode(a)}return n}function ut(e,t,r){if(void 0===r&&(r=2147483647),4>r)return 0;var n=t>>>=0;r=n+r-4;for(var a=0;a<e.length;++a){var o=e.charCodeAt(a);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a)),i()[t>>2>>>0]=o,(t+=4)+4>r)break}return i()[t>>2>>>0]=0,t-n}function st(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);55296<=n&&57343>=n&&++r,t+=4}return t}function ct(e){Atomics.store(i(),e>>2,1),Vt()&&Zt(e),Atomics.compareExchange(i(),e>>2,1,0)}function ft(e,t){var r=Ye[e];if(void 0===r){var n=je(e=Jt(e));qt(e),Ve(t+" has unknown type "+n)}return r}c.executeNotifiedProxyingQueue=ct;var lt={};function pt(e){var t=lt[e];return void 0===t?je(e):t}var dt=[];function gt(){return"object"==typeof globalThis?globalThis:Function("return this")()}var ht=[],mt={};function yt(e){return u()[e>>>2]+4294967296*i()[e+4>>>2]}function vt(e){return 0==e%4&&(0!=e%100||0==e%400)}var bt,wt,_t=[0,31,60,91,121,152,182,213,244,274,305,335],Tt=[0,31,59,90,120,151,181,212,243,273,304,334];function Ot(e){return(vt(e.getFullYear())?_t:Tt)[e.getMonth()]+e.getDate()-1}function At(e,t,r,n,a,o,i){return _?Pt(17,1,e,t,r,n,a,o,i):-52}function St(e,t,r,n,a,o){if(_)return Pt(18,1,e,t,r,n,a,o)}function Et(e){var r=q(e)+1,n=$t(r);return n&&V(e,t(),n,r),n}function Pt(e,t){var r=arguments.length-2,n=arguments;return function(e){var t=nr();return e=e(),ar(t),e}((()=>{for(var a=or(8*r),o=a>>3,i=0;i<r;i++){var u=n[2+i];s()[o+i>>>0]=u}return Xt(e,r,a,t)}))}wt=w?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.timeOrigin+performance.now();var Ct,Mt=[],kt={};function Rt(){if(!Ct){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:m||"./this.program"};for(e in kt)void 0===kt[e]?delete t[e]:t[e]=kt[e];var r=[];for(e in t)r.push(e+"="+t[e]);Ct=r}return Ct}function Ft(e,r){if(_)return Pt(19,1,e,r);var n=0;return Rt().forEach((function(a,o){var i=r+n;for(o=u()[e+4*o>>2>>>0]=i,i=0;i<a.length;++i)t()[o++>>0>>>0]=a.charCodeAt(i);t()[o>>0>>>0]=0,n+=a.length+1})),0}function Ut(e,t){if(_)return Pt(20,1,e,t);var r=Rt();u()[e>>2>>>0]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),u()[t>>2>>>0]=n,0}function Wt(e){return _?Pt(21,1,e):52}function xt(e,t,r,n){return _?Pt(22,1,e,t,r,n):52}function Dt(e,t,r,n,a){return _?Pt(23,1,e,t,r,n,a):70}var It=[null,[],[]];function jt(e,t,r,a){if(_)return Pt(24,1,e,t,r,a);for(var o=0,i=0;i<r;i++){var s=u()[t>>2>>>0],c=u()[t+4>>2>>>0];t+=8;for(var f=0;f<c;f++){var l=n()[s+f>>>0],p=It[e];0===l||10===l?((1===e?M:k)(B(p,0)),p.length=0):p.push(l)}o+=c}return u()[a>>2>>>0]=o,0}var Ht=[31,29,31,30,31,30,31,31,30,31,30,31],Yt=[31,28,31,30,31,30,31,31,30,31,30,31];function zt(e,r,n,a){function o(e,t,r){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=r[0]+e;return e}function u(e,t){return o(e,t,"0")}function s(e,t){function r(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function c(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function f(e){var t=e.jb;for(e=new Date(new Date(e.kb+1900,0,1).getTime());0<t;){var r=e.getMonth(),n=(vt(e.getFullYear())?Ht:Yt)[r];if(!(t>n-e.getDate())){e.setDate(e.getDate()+t);break}t-=n-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return r=new Date(e.getFullYear()+1,0,4),t=c(new Date(e.getFullYear(),0,4)),r=c(r),0>=s(t,e)?0>=s(r,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var l=i()[a+40>>2>>>0];for(var p in a={Rb:i()[a>>2>>>0],Qb:i()[a+4>>2>>>0],ob:i()[a+8>>2>>>0],sb:i()[a+12>>2>>>0],pb:i()[a+16>>2>>>0],kb:i()[a+20>>2>>>0],gb:i()[a+24>>2>>>0],jb:i()[a+28>>2>>>0],Yb:i()[a+32>>2>>>0],Pb:i()[a+36>>2>>>0],Sb:l?G(l):""},n=G(n),l={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(p,"g"),l[p]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),g="January February March April May June July August September October November December".split(" ");for(p in l={"%a":function(e){return d[e.gb].substring(0,3)},"%A":function(e){return d[e.gb]},"%b":function(e){return g[e.pb].substring(0,3)},"%B":function(e){return g[e.pb]},"%C":function(e){return u((e.kb+1900)/100|0,2)},"%d":function(e){return u(e.sb,2)},"%e":function(e){return o(e.sb,2," ")},"%g":function(e){return f(e).toString().substring(2)},"%G":function(e){return f(e)},"%H":function(e){return u(e.ob,2)},"%I":function(e){return 0==(e=e.ob)?e=12:12<e&&(e-=12),u(e,2)},"%j":function(e){for(var t=0,r=0;r<=e.pb-1;t+=(vt(e.kb+1900)?Ht:Yt)[r++]);return u(e.sb+t,3)},"%m":function(e){return u(e.pb+1,2)},"%M":function(e){return u(e.Qb,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.ob&&12>e.ob?"AM":"PM"},"%S":function(e){return u(e.Rb,2)},"%t":function(){return"\\t"},"%u":function(e){return e.gb||7},"%U":function(e){return u(Math.floor((e.jb+7-e.gb)/7),2)},"%V":function(e){var t=Math.floor((e.jb+7-(e.gb+6)%7)/7);if(2>=(e.gb+371-e.jb-2)%7&&t++,t)53==t&&(4==(r=(e.gb+371-e.jb)%7)||3==r&&vt(e.kb)||(t=1));else{t=52;var r=(e.gb+7-e.jb-1)%7;(4==r||5==r&&vt(e.kb%400-1))&&t++}return u(t,2)},"%w":function(e){return e.gb},"%W":function(e){return u(Math.floor((e.jb+7-(e.gb+6)%7)/7),2)},"%y":function(e){return(e.kb+1900).toString().substring(2)},"%Y":function(e){return e.kb+1900},"%z":function(e){var t=0<=(e=e.Pb);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Sb},"%%":function(){return"%"}},n=n.replace(/%%/g,"\\0\\0"),l)n.includes(p)&&(n=n.replace(new RegExp(p,"g"),l[p](a)));return p=function(e){var t=Array(q(e)+1);return V(e,t,0,t.length),t}(n=n.replace(/\\0\\0/g,"%")),p.length>r?0:(function(e,r){t().set(e,r>>>0)}(p,e),p.length-1)}me.qb();for(var Lt=Array(256),Nt=0;256>Nt;++Nt)Lt[Nt]=String.fromCharCode(Nt);Ie=Lt,Ge=c.BindingError=Be("BindingError"),c.InternalError=Be("InternalError"),c.count_emval_handles=function(){for(var e=0,t=5;t<Je.length;++t)void 0!==Je[t]&&++e;return e},c.get_first_emval=function(){for(var e=5;e<Je.length;++e)if(void 0!==Je[e])return Je[e];return null};var Bt=[null,ge,ve,_e,Oe,Ae,Se,Ee,Pe,Ce,Me,ke,Re,Fe,Ue,We,xe,At,St,Ft,Ut,Wt,xt,Dt,jt],Gt={b:function(e,t,r){throw new we(e).qb(t,r),e},pa:function(){ie("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},aa:function(e){Qt(e,!b,1,!v),me.ub()},C:function(e){_?postMessage({cmd:"cleanupThread",thread:e}):pe(e)},U:Te,v:Oe,ha:Ae,Q:Se,S:Ee,L:Pe,fa:Ce,Z:Me,ea:ke,E:Re,R:Fe,O:Ue,ga:We,P:xe,K:function(){},ra:function(e,r,n,o,u){var s=De(n);$e(e,{name:r=je(r),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?o:u},argPackAdvance:8,readValueFromPointer:function(e){if(1===n)var o=t();else if(2===n)o=a();else{if(4!==n)throw new TypeError("Unknown boolean type size: "+r);o=i()}return this.fromWireType(o[e>>>s])},nb:null})},qa:function(e,t){$e(e,{name:t=je(t),fromWireType:function(e){var t=Xe(e);return Qe(e),t},toWireType:function(e,t){return Ze(t)},argPackAdvance:8,readValueFromPointer:Ke,nb:null})},G:function(e,t,r){r=De(r),$e(e,{name:t=je(t),fromWireType:function(e){return e},toWireType:function(e,t){return t},argPackAdvance:8,readValueFromPointer:et(t,r),nb:null})},q:function(e,t,r,n,a){t=je(t),-1===a&&(a=4294967295),a=De(r);var o=e=>e;if(0===n){var i=32-8*r;o=e=>e<<i>>>i}r=t.includes("unsigned")?function(e,t){return t>>>0}:function(e,t){return t},$e(e,{name:t,fromWireType:o,toWireType:r,argPackAdvance:8,readValueFromPointer:tt(t,a,0!==n),nb:null})},n:function(e,t,r){function n(e){e>>=2;var t=u();return new a(t.buffer,t[e+1>>>0],t[e>>>0])}var a=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];$e(e,{name:r=je(r),fromWireType:n,argPackAdvance:8,readValueFromPointer:n},{Db:!0})},H:function(e,t){var r="std::string"===(t=je(t));$e(e,{name:t,fromWireType:function(e){var t=u()[e>>2>>>0],a=e+4;if(r)for(var o=a,i=0;i<=t;++i){var s=a+i;if(i==t||0==n()[s>>>0]){if(o=G(o,s-o),void 0===c)var c=o;else c+=String.fromCharCode(0),c+=o;o=s+1}}else{for(c=Array(t),i=0;i<t;++i)c[i]=String.fromCharCode(n()[a+i>>>0]);c=c.join("")}return qt(e),c},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var a,o="string"==typeof t;o||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||Ve("Cannot pass non-string to std::string"),a=r&&o?q(t):t.length;var i=$t(4+a+1),s=i+4>>>0;if(u()[i>>2>>>0]=a,r&&o)$(t,s,a+1);else if(o)for(o=0;o<a;++o){var c=t.charCodeAt(o);255<c&&(qt(s),Ve("String has UTF-16 code units that do not fit in 8 bits")),n()[s+o>>>0]=c}else for(o=0;o<a;++o)n()[s+o>>>0]=t[o];return null!==e&&e.push(qt,i),i},argPackAdvance:8,readValueFromPointer:Ke,nb:function(e){qt(e)}})},x:function(e,t,r){if(r=je(r),2===t)var n=nt,a=at,i=ot,s=()=>o(),c=1;else 4===t&&(n=it,a=ut,i=st,s=()=>u(),c=2);$e(e,{name:r,fromWireType:function(e){for(var r,a=u()[e>>>2],o=s(),i=e+4,f=0;f<=a;++f){var l=e+4+f*t;f!=a&&0!=o[l>>>c]||(i=n(i,l-i),void 0===r?r=i:(r+=String.fromCharCode(0),r+=i),i=l+t)}return qt(e),r},toWireType:function(e,n){"string"!=typeof n&&Ve("Cannot pass non-string to C++ string type "+r);var o=i(n),s=$t(4+o+t);return s>>>=0,u()[s>>>2]=o>>c,a(n,s+4,o+t),null!==e&&e.push(qt,s),s},argPackAdvance:8,readValueFromPointer:Ke,nb:function(e){qt(e)}})},sa:function(e,t){$e(e,{Fb:!0,name:t=je(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},V:function(){return 1048576},ka:function(){return!0},W:function(e,t,r,n){e==t?setTimeout((()=>ct(n))):_?postMessage({targetThread:e,cmd:"processProxyingQueue",queue:n}):(e=me.hb[e])&&e.postMessage({cmd:"processProxyingQueue",queue:n})},$:function(){return-1},s:function(e,t,r){e=Xe(e),t=ft(t,"emval::as");var n=[],a=Ze(n);return u()[r>>2>>>0]=a,t.toWireType(n,e)},j:function(e,t,r,n,a){e=dt[e],t=Xe(t),r=pt(r);var o=[];return u()[n>>2>>>0]=Ze(o),e(t,r,o,a)},z:function(e,t,r,n){(e=dt[e])(t=Xe(t),r=pt(r),null,n)},c:Qe,I:function(e,t){return(e=Xe(e))==Xe(t)},r:function(e){return 0===e?Ze(gt()):(e=pt(e),Ze(gt()[e]))},i:function(e,t){var r=function(e,t){for(var r=Array(e),n=0;n<e;++n)r[n]=ft(u()[t+4*n>>2>>>0],"parameter "+n);return r}(e,t),n=r[0];t=n.name+"_$"+r.slice(1).map((function(e){return e.name})).join("_")+"$";var a=ht[t];if(void 0!==a)return a;a=["retType"];for(var o=[n],i="",s=0;s<e-1;++s)i+=(0!==s?", ":"")+"arg"+s,a.push("argType"+s),o.push(r[1+s]);var c="return function "+Le("methodCaller_"+t)+"(handle, name, destructors, args) {\\n",f=0;for(s=0;s<e-1;++s)c+="    var arg"+s+" = argType"+s+".readValueFromPointer(args"+(f?"+"+f:"")+");\\n",f+=r[s+1].argPackAdvance;for(c+="    var rv = handle[name]("+i+");\\n",s=0;s<e-1;++s)r[s+1].deleteObject&&(c+="    argType"+s+".deleteObject(arg"+s+");\\n");return n.Fb||(c+="    return retType.toWireType(destructors, rv);\\n"),a.push(c+"};\\n"),e=function(e){var t=Function;if(!(t instanceof Function))throw new TypeError("new_ called with constructor type "+typeof t+" which is not a function");var r=Ne(t.name||"unknownFunctionName",(function(){}));return r.prototype=t.prototype,r=new r,(e=t.apply(r,e))instanceof Object?e:r}(a).apply(null,o),a=function(e){var t=dt.length;return dt.push(e),t}(e),ht[t]=a},t:function(e,t){return e=Xe(e),t=Xe(t),Ze(e[t])},d:function(e){4<e&&(Je[e].rb+=1)},y:function(e,t,r,n){e=Xe(e);var a=mt[t];return a||(a=function(e){for(var t="",r=0;r<e;++r)t+=(0!==r?", ":"")+"arg"+r;var n="return function emval_allocator_"+e+"(constructor, argTypes, args) {\\n  var HEAPU32 = getMemory();\\n";for(r=0;r<e;++r)n+="var argType"+r+" = requireRegisteredType(HEAPU32[((argTypes)>>2)], \'parameter "+r+"\');\\nvar arg"+r+" = argType"+r+".readValueFromPointer(args);\\nargs += argType"+r+"[\'argPackAdvance\'];\\nargTypes += 4;\\n";return new Function("requireRegisteredType","Module","valueToHandle","getMemory",n+"var obj = new constructor("+t+");\\nreturn valueToHandle(obj);\\n}\\n")(ft,c,Ze,(()=>u()))}(t),mt[t]=a),a(e,r,n)},ta:function(){return Ze([])},l:function(e){e=Xe(e);for(var t=Array(e.length),r=0;r<e.length;r++)t[r]=e[r];return Ze(t)},e:function(e){return Ze(pt(e))},k:function(){return Ze({})},h:function(e){for(var t=Xe(e);t.length;){var r=t.pop();t.pop()(r)}Qe(e)},f:function(e,t,r){e=Xe(e),t=Xe(t),r=Xe(r),e[t]=r},g:function(e,t){return e=(e=ft(e,"_emval_take_value")).readValueFromPointer(t),Ze(e)},la:function(e,t){e=new Date(1e3*yt(e)),i()[t>>2>>>0]=e.getUTCSeconds(),i()[t+4>>2>>>0]=e.getUTCMinutes(),i()[t+8>>2>>>0]=e.getUTCHours(),i()[t+12>>2>>>0]=e.getUTCDate(),i()[t+16>>2>>>0]=e.getUTCMonth(),i()[t+20>>2>>>0]=e.getUTCFullYear()-1900,i()[t+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,i()[t+28>>2>>>0]=e},ma:function(e,t){e=new Date(1e3*yt(e)),i()[t>>2>>>0]=e.getSeconds(),i()[t+4>>2>>>0]=e.getMinutes(),i()[t+8>>2>>>0]=e.getHours(),i()[t+12>>2>>>0]=e.getDate(),i()[t+16>>2>>>0]=e.getMonth(),i()[t+20>>2>>>0]=e.getFullYear()-1900,i()[t+24>>2>>>0]=e.getDay();var r=0|Ot(e);i()[t+28>>2>>>0]=r,i()[t+36>>2>>>0]=-60*e.getTimezoneOffset(),r=new Date(e.getFullYear(),6,1).getTimezoneOffset();var n=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=0|(r!=n&&e.getTimezoneOffset()==Math.min(n,r)),i()[t+32>>2>>>0]=e},na:function(e){var t=new Date(i()[e+20>>2>>>0]+1900,i()[e+16>>2>>>0],i()[e+12>>2>>>0],i()[e+8>>2>>>0],i()[e+4>>2>>>0],i()[e>>2>>>0],0),r=i()[e+32>>2>>>0],n=t.getTimezoneOffset(),a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),o=new Date(t.getFullYear(),0,1).getTimezoneOffset(),u=Math.min(o,a);return 0>r?i()[e+32>>2>>>0]=Number(a!=o&&u==n):0<r!=(u==n)&&(a=Math.max(o,a),t.setTime(t.getTime()+6e4*((0<r?u:a)-n))),i()[e+24>>2>>>0]=t.getDay(),r=0|Ot(t),i()[e+28>>2>>>0]=r,i()[e>>2>>>0]=t.getSeconds(),i()[e+4>>2>>>0]=t.getMinutes(),i()[e+8>>2>>>0]=t.getHours(),i()[e+12>>2>>>0]=t.getDate(),i()[e+16>>2>>>0]=t.getMonth(),i()[e+20>>2>>>0]=t.getYear(),t.getTime()/1e3|0},X:At,Y:St,oa:function(e,t,r){function n(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}var a=(new Date).getFullYear(),o=new Date(a,0,1),s=new Date(a,6,1);a=o.getTimezoneOffset();var c=s.getTimezoneOffset(),f=Math.max(a,c);u()[e>>2>>>0]=60*f,i()[t>>2>>>0]=Number(a!=c),e=n(o),t=n(s),e=Et(e),t=Et(t),c<a?(u()[r>>2>>>0]=e,u()[r+4>>2>>>0]=t):(u()[r>>2>>>0]=t,u()[r+4>>2>>>0]=e)},m:function(){ie("")},ua:function(){ie("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},D:function(){if(!w&&!b){var e="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";bt||(bt={}),bt[e]||(bt[e]=1,w&&(e="warning: "+e),k(e))}},F:function(){return Date.now()},N:function(){return 4294901760},p:wt,da:function(e,t,r){n().copyWithin(e>>>0,t>>>0,t+r>>>0)},u:function(){return w?r(993).cpus().length:navigator.hardwareConcurrency},_:function(e,t,r){Mt.length=t,r>>=3;for(var n=0;n<t;n++)Mt[n]=s()[r+n>>>0];return Bt[e].apply(null,Mt)},M:function(e){var t=n().length;if((e>>>=0)<=t||4294901760<e)return!1;for(var r=1;4>=r;r*=2){var a=t*(1+.2/r);a=Math.min(a,e+100663296);var o=Math,i=o.min;a=Math.max(e,a),a+=(65536-a%65536)%65536;e:{var u=F.buffer;try{F.grow(i.call(o,4294901760,a)-u.byteLength+65535>>>16),J();var s=1;break e}catch(e){}s=void 0}if(s)return!0}return!1},ja:function(){throw"unwind"},ba:Ft,ca:Ut,T:he,w:Wt,B:xt,J:Dt,A:jt,a:F||c.wasmMemory,ia:zt,o:function(e,t,r,n){return zt(e,t,r,n)}};!function(){function e(e,t){return e=e.exports,c.asm=e,me.vb.push(c.asm.Ta),X=c.asm.Ya,K.unshift(c.asm.va),U=t,me.Jb((()=>{if(ne--,c.monitorRunDependencies&&c.monitorRunDependencies(ne),0==ne&&(null!==ae&&(clearInterval(ae),ae=null),oe)){var e=oe;oe=null,e()}})),e}var t={a:Gt};if(ne++,c.monitorRunDependencies&&c.monitorRunDependencies(ne),c.instantiateWasm)try{return c.instantiateWasm(t,e)}catch(e){k("Module.instantiateWasm callback failed with error: "+e),l(e)}(function(e,t){var r=re;return C||"function"!=typeof WebAssembly.instantiateStreaming||ue(r)||r.startsWith("file://")||w||"function"!=typeof fetch?ce(r,e,t):fetch(r,{credentials:"same-origin"}).then((function(n){return WebAssembly.instantiateStreaming(n,e).then(t,(function(n){return k("wasm streaming compile failed: "+n),k("falling back to ArrayBuffer instantiation"),ce(r,e,t)}))}))})(t,(function(t){e(t.instance,t.module)})).catch(l)}(),c._OrtInit=function(){return(c._OrtInit=c.asm.wa).apply(null,arguments)},c._OrtCreateSessionOptions=function(){return(c._OrtCreateSessionOptions=c.asm.xa).apply(null,arguments)},c._OrtAppendExecutionProvider=function(){return(c._OrtAppendExecutionProvider=c.asm.ya).apply(null,arguments)},c._OrtAddSessionConfigEntry=function(){return(c._OrtAddSessionConfigEntry=c.asm.za).apply(null,arguments)},c._OrtReleaseSessionOptions=function(){return(c._OrtReleaseSessionOptions=c.asm.Aa).apply(null,arguments)},c._OrtCreateSession=function(){return(c._OrtCreateSession=c.asm.Ba).apply(null,arguments)},c._OrtReleaseSession=function(){return(c._OrtReleaseSession=c.asm.Ca).apply(null,arguments)},c._OrtGetInputCount=function(){return(c._OrtGetInputCount=c.asm.Da).apply(null,arguments)},c._OrtGetOutputCount=function(){return(c._OrtGetOutputCount=c.asm.Ea).apply(null,arguments)},c._OrtGetInputName=function(){return(c._OrtGetInputName=c.asm.Fa).apply(null,arguments)},c._OrtGetOutputName=function(){return(c._OrtGetOutputName=c.asm.Ga).apply(null,arguments)},c._OrtFree=function(){return(c._OrtFree=c.asm.Ha).apply(null,arguments)},c._OrtCreateTensor=function(){return(c._OrtCreateTensor=c.asm.Ia).apply(null,arguments)},c._OrtGetTensorData=function(){return(c._OrtGetTensorData=c.asm.Ja).apply(null,arguments)},c._OrtReleaseTensor=function(){return(c._OrtReleaseTensor=c.asm.Ka).apply(null,arguments)},c._OrtCreateRunOptions=function(){return(c._OrtCreateRunOptions=c.asm.La).apply(null,arguments)},c._OrtAddRunConfigEntry=function(){return(c._OrtAddRunConfigEntry=c.asm.Ma).apply(null,arguments)},c._OrtReleaseRunOptions=function(){return(c._OrtReleaseRunOptions=c.asm.Na).apply(null,arguments)},c._OrtRun=function(){return(c._OrtRun=c.asm.Oa).apply(null,arguments)},c._OrtEndProfiling=function(){return(c._OrtEndProfiling=c.asm.Pa).apply(null,arguments)};var Vt=c._pthread_self=function(){return(Vt=c._pthread_self=c.asm.Qa).apply(null,arguments)},$t=c._malloc=function(){return($t=c._malloc=c.asm.Ra).apply(null,arguments)},qt=c._free=function(){return(qt=c._free=c.asm.Sa).apply(null,arguments)};c.__emscripten_tls_init=function(){return(c.__emscripten_tls_init=c.asm.Ta).apply(null,arguments)};var Jt=c.___getTypeName=function(){return(Jt=c.___getTypeName=c.asm.Ua).apply(null,arguments)};c.__embind_initialize_bindings=function(){return(c.__embind_initialize_bindings=c.asm.Va).apply(null,arguments)};var Qt=c.__emscripten_thread_init=function(){return(Qt=c.__emscripten_thread_init=c.asm.Wa).apply(null,arguments)};function Xt(){return(Xt=c.asm.Za).apply(null,arguments)}c.__emscripten_thread_crashed=function(){return(c.__emscripten_thread_crashed=c.asm.Xa).apply(null,arguments)};var Zt=c.__emscripten_proxy_execute_task_queue=function(){return(Zt=c.__emscripten_proxy_execute_task_queue=c.asm._a).apply(null,arguments)};function Kt(){return(Kt=c.asm.$a).apply(null,arguments)}var er,tr=c.__emscripten_thread_exit=function(){return(tr=c.__emscripten_thread_exit=c.asm.ab).apply(null,arguments)};function rr(){return(rr=c.asm.bb).apply(null,arguments)}function nr(){return(nr=c.asm.cb).apply(null,arguments)}function ar(){return(ar=c.asm.db).apply(null,arguments)}function or(){return(or=c.asm.eb).apply(null,arguments)}function ir(){function e(){if(!er&&(er=!0,c.calledRun=!0,!L)&&(_||ye(K),f(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),!_)){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;){var e=c.postRun.shift();ee.unshift(e)}ye(ee)}}if(!(0<ne))if(_)f(c),_||ye(K),startWorker(c);else{if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)te();ye(Z),0<ne||(c.setStatus?(c.setStatus("Running..."),setTimeout((function(){setTimeout((function(){c.setStatus("")}),1),e()}),1)):e())}}if(c.UTF8ToString=G,c.stringToUTF8=$,c.lengthBytesUTF8=q,c.keepRuntimeAlive=function(){return R},c.wasmMemory=F,c.stackAlloc=or,c.stackSave=nr,c.stackRestore=ar,c.ExitStatus=fe,c.PThread=me,oe=function e(){er||ir(),er||(oe=e)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return ir(),e.ready});e.exports=n},932:(e,t,r)=>{var _scriptDir,n=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e={}){var t,n,a;t||(t=void 0!==e?e:{}),t.ready=new Promise((function(e,t){n=e,a=t}));var o,i,u,s=Object.assign({},t),c="./this.program",f="object"==typeof window,l="function"==typeof importScripts,p="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,d="";if(p){var g=r(384),h=r(908);d=l?h.dirname(d)+"/":"//",o=(e,t)=>(e=e.startsWith("file://")?new URL(e):h.normalize(e),g.readFileSync(e,t?void 0:"utf8")),u=e=>((e=o(e,!0)).buffer||(e=new Uint8Array(e)),e),i=(e,t,r)=>{e=e.startsWith("file://")?new URL(e):h.normalize(e),g.readFile(e,(function(e,n){e?r(e):t(n.buffer)}))},1<process.argv.length&&(c=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){throw e})),15>process.versions.node.split(".")[0]&&process.on("unhandledRejection",(function(e){throw e})),t.inspect=function(){return"[Emscripten Module object]"}}else(f||l)&&(l?d=self.location.href:"undefined"!=typeof document&&document.currentScript&&(d=document.currentScript.src),_scriptDir&&(d=_scriptDir),d=0!==d.indexOf("blob:")?d.substr(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},l&&(u=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),i=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)});var m,y=t.print||console.log.bind(console),v=t.printErr||console.warn.bind(console);Object.assign(t,s),s=null,t.thisProgram&&(c=t.thisProgram),t.wasmBinary&&(m=t.wasmBinary),t.noExitRuntime,"object"!=typeof WebAssembly&&B("no native wasm support detected");var b,w,_,T,O,A,S,E,P,C=!1,M="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function k(e,t,r){var n=(t>>>=0)+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&M)return M.decode(e.subarray(t,r));for(n="";t<r;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))n+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else n+=String.fromCharCode(a)}return n}function R(e,t){return(e>>>=0)?k(_,e,t):""}function F(e,t,r,n){if(!(0<n))return 0;var a=r>>>=0;n=r+n-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(r>=n)break;t[r++>>>0]=i}else{if(2047>=i){if(r+1>=n)break;t[r++>>>0]=192|i>>6}else{if(65535>=i){if(r+2>=n)break;t[r++>>>0]=224|i>>12}else{if(r+3>=n)break;t[r++>>>0]=240|i>>18,t[r++>>>0]=128|i>>12&63}t[r++>>>0]=128|i>>6&63}t[r++>>>0]=128|63&i}}return t[r>>>0]=0,r-a}function U(e,t,r){return F(e,_,t,r)}function W(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t}function x(){var e=b.buffer;t.HEAP8=w=new Int8Array(e),t.HEAP16=T=new Int16Array(e),t.HEAP32=A=new Int32Array(e),t.HEAPU8=_=new Uint8Array(e),t.HEAPU16=O=new Uint16Array(e),t.HEAPU32=S=new Uint32Array(e),t.HEAPF32=E=new Float32Array(e),t.HEAPF64=P=new Float64Array(e)}var D=[],I=[],j=[];function H(){var e=t.preRun.shift();D.unshift(e)}var Y,z=0,L=null,N=null;function B(e){throw t.onAbort&&t.onAbort(e),v(e="Aborted("+e+")"),C=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),a(e),e}function G(e){return e.startsWith("data:application/octet-stream;base64,")}if(!G(Y="ort-wasm.wasm")){var V=Y;Y=t.locateFile?t.locateFile(V,d):d+V}function $(e){try{if(e==Y&&m)return new Uint8Array(m);if(u)return u(e);throw"both async and sync fetching of the wasm failed"}catch(e){B(e)}}function q(e,t,r){return function(e){if(!m&&(f||l)){if("function"==typeof fetch&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()})).catch((function(){return $(e)}));if(i)return new Promise((function(t,r){i(e,(function(e){t(new Uint8Array(e))}),r)}))}return Promise.resolve().then((function(){return $(e)}))}(e).then((function(e){return WebAssembly.instantiate(e,t)})).then((function(e){return e})).then(r,(function(e){v("failed to asynchronously prepare wasm: "+e),B(e)}))}function J(e){for(;0<e.length;)e.shift()(t)}function Q(e){this.Pa=e-24,this.ab=function(e){S[this.Pa+4>>2>>>0]=e},this.Ya=function(e){S[this.Pa+8>>2>>>0]=e},this.Za=function(){A[this.Pa>>2>>>0]=0},this.Xa=function(){w[this.Pa+12>>0>>>0]=0},this.$a=function(){w[this.Pa+13>>0>>>0]=0},this.Va=function(e,t){this.Wa(),this.ab(e),this.Ya(t),this.Za(),this.Xa(),this.$a()},this.Wa=function(){S[this.Pa+16>>2>>>0]=0}}function X(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}var Z=void 0;function K(e){for(var t="";_[e>>>0];)t+=Z[_[e++>>>0]];return t}var ee={},te={},re={};function ne(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return 48<=t&&57>=t?"_"+e:e}function ae(e,t){return{[e=ne(e)]:function(){return t.apply(this,arguments)}}[e]}function oe(e){var t=Error,r=ae(e,(function(t){this.name=e,this.message=t,void 0!==(t=Error(t).stack)&&(this.stack=this.toString()+"\\n"+t.replace(/^Error(:[^\\n]*)?\\n/,""))}));return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},r}var ie=void 0;function ue(e){throw new ie(e)}function se(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var n=t.name;if(e||ue(\'type "\'+n+\'" must have a positive integer typeid pointer\'),te.hasOwnProperty(e)){if(r.bb)return;ue("Cannot register type \'"+n+"\' twice")}te[e]=t,delete re[e],ee.hasOwnProperty(e)&&(t=ee[e],delete ee[e],t.forEach((e=>e())))}var ce=[],fe=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function le(e){4<e&&0==--fe[e].Ta&&(fe[e]=void 0,ce.push(e))}var pe=e=>(e||ue("Cannot use deleted val. handle = "+e),fe[e].value),de=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=ce.length?ce.pop():fe.length;return fe[t]={Ta:1,value:e},t}};function ge(e){return this.fromWireType(A[e>>2>>>0])}function he(e,t){switch(t){case 2:return function(e){return this.fromWireType(E[e>>>2])};case 3:return function(e){return this.fromWireType(P[e>>>3])};default:throw new TypeError("Unknown float type: "+e)}}function me(e,t,r){switch(t){case 0:return r?function(e){return w[e>>>0]}:function(e){return _[e>>>0]};case 1:return r?function(e){return T[e>>>1]}:function(e){return O[e>>>1]};case 2:return r?function(e){return A[e>>>2]}:function(e){return S[e>>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var ye="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function ve(e,t){for(var r=e>>1,n=r+t/2;!(r>=n)&&O[r>>>0];)++r;if(32<(r<<=1)-e&&ye)return ye.decode(_.subarray(e>>>0,r>>>0));for(r="",n=0;!(n>=t/2);++n){var a=T[e+2*n>>1>>>0];if(0==a)break;r+=String.fromCharCode(a)}return r}function be(e,t,r){if(void 0===r&&(r=2147483647),2>r)return 0;var n=t;r=(r-=2)<2*e.length?r/2:e.length;for(var a=0;a<r;++a)T[t>>1>>>0]=e.charCodeAt(a),t+=2;return T[t>>1>>>0]=0,t-n}function we(e){return 2*e.length}function _e(e,t){for(var r=0,n="";!(r>=t/4);){var a=A[e+4*r>>2>>>0];if(0==a)break;++r,65536<=a?(a-=65536,n+=String.fromCharCode(55296|a>>10,56320|1023&a)):n+=String.fromCharCode(a)}return n}function Te(e,t,r){if(void 0===r&&(r=2147483647),4>r)return 0;var n=t>>>=0;r=n+r-4;for(var a=0;a<e.length;++a){var o=e.charCodeAt(a);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a)),A[t>>2>>>0]=o,(t+=4)+4>r)break}return A[t>>2>>>0]=0,t-n}function Oe(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);55296<=n&&57343>=n&&++r,t+=4}return t}function Ae(e,t){var r=te[e];if(void 0===r){var n=K(e=Qe(e));Je(e),ue(t+" has unknown type "+n)}return r}var Se={};function Ee(e){var t=Se[e];return void 0===t?K(e):t}var Pe=[];function Ce(){return"object"==typeof globalThis?globalThis:Function("return this")()}var Me=[],ke={};function Re(e){return 0==e%4&&(0!=e%100||0==e%400)}var Fe,Ue=[0,31,60,91,121,152,182,213,244,274,305,335],We=[0,31,59,90,120,151,181,212,243,273,304,334];function xe(e){return(Re(e.getFullYear())?Ue:We)[e.getMonth()]+e.getDate()-1}function De(e){var t=W(e)+1,r=qe(t);return r&&F(e,w,r,t),r}Fe=p?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now();var Ie={};function je(){if(!He){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"};for(e in Ie)void 0===Ie[e]?delete t[e]:t[e]=Ie[e];var r=[];for(e in t)r.push(e+"="+t[e]);He=r}return He}var He,Ye=[null,[],[]],ze=[31,29,31,30,31,30,31,31,30,31,30,31],Le=[31,28,31,30,31,30,31,31,30,31,30,31];function Ne(e,t,r,n){function a(e,t,r){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=r[0]+e;return e}function o(e,t){return a(e,t,"0")}function i(e,t){function r(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function u(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function s(e){var t=e.Na;for(e=new Date(new Date(e.Oa+1900,0,1).getTime());0<t;){var r=e.getMonth(),n=(Re(e.getFullYear())?ze:Le)[r];if(!(t>n-e.getDate())){e.setDate(e.getDate()+t);break}t-=n-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return r=new Date(e.getFullYear()+1,0,4),t=u(new Date(e.getFullYear(),0,4)),r=u(r),0>=i(t,e)?0>=i(r,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var c=A[n+40>>2>>>0];for(var f in n={gb:A[n>>2>>>0],fb:A[n+4>>2>>>0],Ra:A[n+8>>2>>>0],Ua:A[n+12>>2>>>0],Sa:A[n+16>>2>>>0],Oa:A[n+20>>2>>>0],Ja:A[n+24>>2>>>0],Na:A[n+28>>2>>>0],ib:A[n+32>>2>>>0],eb:A[n+36>>2>>>0],hb:c?R(c):""},r=R(r),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(f,"g"),c[f]);var l="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(f in c={"%a":function(e){return l[e.Ja].substring(0,3)},"%A":function(e){return l[e.Ja]},"%b":function(e){return p[e.Sa].substring(0,3)},"%B":function(e){return p[e.Sa]},"%C":function(e){return o((e.Oa+1900)/100|0,2)},"%d":function(e){return o(e.Ua,2)},"%e":function(e){return a(e.Ua,2," ")},"%g":function(e){return s(e).toString().substring(2)},"%G":function(e){return s(e)},"%H":function(e){return o(e.Ra,2)},"%I":function(e){return 0==(e=e.Ra)?e=12:12<e&&(e-=12),o(e,2)},"%j":function(e){for(var t=0,r=0;r<=e.Sa-1;t+=(Re(e.Oa+1900)?ze:Le)[r++]);return o(e.Ua+t,3)},"%m":function(e){return o(e.Sa+1,2)},"%M":function(e){return o(e.fb,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.Ra&&12>e.Ra?"AM":"PM"},"%S":function(e){return o(e.gb,2)},"%t":function(){return"\\t"},"%u":function(e){return e.Ja||7},"%U":function(e){return o(Math.floor((e.Na+7-e.Ja)/7),2)},"%V":function(e){var t=Math.floor((e.Na+7-(e.Ja+6)%7)/7);if(2>=(e.Ja+371-e.Na-2)%7&&t++,t)53==t&&(4==(r=(e.Ja+371-e.Na)%7)||3==r&&Re(e.Oa)||(t=1));else{t=52;var r=(e.Ja+7-e.Na-1)%7;(4==r||5==r&&Re(e.Oa%400-1))&&t++}return o(t,2)},"%w":function(e){return e.Ja},"%W":function(e){return o(Math.floor((e.Na+7-(e.Ja+6)%7)/7),2)},"%y":function(e){return(e.Oa+1900).toString().substring(2)},"%Y":function(e){return e.Oa+1900},"%z":function(e){var t=0<=(e=e.eb);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.hb},"%%":function(){return"%"}},r=r.replace(/%%/g,"\\0\\0"),c)r.includes(f)&&(r=r.replace(new RegExp(f,"g"),c[f](n)));return f=function(e){var t=Array(W(e)+1);return F(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),f.length>t?0:(w.set(f,e>>>0),f.length-1)}for(var Be=Array(256),Ge=0;256>Ge;++Ge)Be[Ge]=String.fromCharCode(Ge);Z=Be,ie=t.BindingError=oe("BindingError"),t.InternalError=oe("InternalError"),t.count_emval_handles=function(){for(var e=0,t=5;t<fe.length;++t)void 0!==fe[t]&&++e;return e},t.get_first_emval=function(){for(var e=5;e<fe.length;++e)if(void 0!==fe[e])return fe[e];return null};var Ve={a:function(e,t,r){throw new Q(e).Va(t,r),e},ca:function(){B("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},r:function(){return 0},Y:function(){},M:function(){},O:function(){},H:function(){return 0},W:function(){},R:function(){},V:function(){},z:function(){},N:function(){},K:function(){},X:function(){},L:function(){},G:function(){},fa:function(e,t,r,n,a){var o=X(r);se(e,{name:t=K(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:a},argPackAdvance:8,readValueFromPointer:function(e){if(1===r)var n=w;else if(2===r)n=T;else{if(4!==r)throw new TypeError("Unknown boolean type size: "+t);n=A}return this.fromWireType(n[e>>>o])},Qa:null})},ea:function(e,t){se(e,{name:t=K(t),fromWireType:function(e){var t=pe(e);return le(e),t},toWireType:function(e,t){return de(t)},argPackAdvance:8,readValueFromPointer:ge,Qa:null})},B:function(e,t,r){r=X(r),se(e,{name:t=K(t),fromWireType:function(e){return e},toWireType:function(e,t){return t},argPackAdvance:8,readValueFromPointer:he(t,r),Qa:null})},o:function(e,t,r,n,a){t=K(t),-1===a&&(a=4294967295),a=X(r);var o=e=>e;if(0===n){var i=32-8*r;o=e=>e<<i>>>i}r=t.includes("unsigned")?function(e,t){return t>>>0}:function(e,t){return t},se(e,{name:t,fromWireType:o,toWireType:r,argPackAdvance:8,readValueFromPointer:me(t,a,0!==n),Qa:null})},l:function(e,t,r){function n(e){e>>=2;var t=S;return new a(t.buffer,t[e+1>>>0],t[e>>>0])}var a=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];se(e,{name:r=K(r),fromWireType:n,argPackAdvance:8,readValueFromPointer:n},{bb:!0})},C:function(e,t){var r="std::string"===(t=K(t));se(e,{name:t,fromWireType:function(e){var t=S[e>>2>>>0],n=e+4;if(r)for(var a=n,o=0;o<=t;++o){var i=n+o;if(o==t||0==_[i>>>0]){if(a=R(a,i-a),void 0===u)var u=a;else u+=String.fromCharCode(0),u+=a;a=i+1}}else{for(u=Array(t),o=0;o<t;++o)u[o]=String.fromCharCode(_[n+o>>>0]);u=u.join("")}return Je(e),u},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var n,a="string"==typeof t;a||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||ue("Cannot pass non-string to std::string"),n=r&&a?W(t):t.length;var o=qe(4+n+1),i=o+4>>>0;if(S[o>>2>>>0]=n,r&&a)U(t,i,n+1);else if(a)for(a=0;a<n;++a){var u=t.charCodeAt(a);255<u&&(Je(i),ue("String has UTF-16 code units that do not fit in 8 bits")),_[i+a>>>0]=u}else for(a=0;a<n;++a)_[i+a>>>0]=t[a];return null!==e&&e.push(Je,o),o},argPackAdvance:8,readValueFromPointer:ge,Qa:function(e){Je(e)}})},t:function(e,t,r){if(r=K(r),2===t)var n=ve,a=be,o=we,i=()=>O,u=1;else 4===t&&(n=_e,a=Te,o=Oe,i=()=>S,u=2);se(e,{name:r,fromWireType:function(e){for(var r,a=S[e>>>2],o=i(),s=e+4,c=0;c<=a;++c){var f=e+4+c*t;c!=a&&0!=o[f>>>u]||(s=n(s,f-s),void 0===r?r=s:(r+=String.fromCharCode(0),r+=s),s=f+t)}return Je(e),r},toWireType:function(e,n){"string"!=typeof n&&ue("Cannot pass non-string to C++ string type "+r);var i=o(n),s=qe(4+i+t);return S[(s>>>=0)>>>2]=i>>u,a(n,s+4,i+t),null!==e&&e.push(Je,s),s},argPackAdvance:8,readValueFromPointer:ge,Qa:function(e){Je(e)}})},ga:function(e,t){se(e,{cb:!0,name:t=K(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},Z:function(){return!0},p:function(e,t,r){e=pe(e),t=Ae(t,"emval::as");var n=[],a=de(n);return S[r>>2>>>0]=a,t.toWireType(n,e)},i:function(e,t,r,n,a){e=Pe[e],t=pe(t),r=Ee(r);var o=[];return S[n>>2>>>0]=de(o),e(t,r,o,a)},u:function(e,t,r,n){(e=Pe[e])(t=pe(t),r=Ee(r),null,n)},b:le,E:function(e,t){return(e=pe(e))==pe(t)},w:function(e){return 0===e?de(Ce()):(e=Ee(e),de(Ce()[e]))},h:function(e,t){var r=function(e,t){for(var r=Array(e),n=0;n<e;++n)r[n]=Ae(S[t+4*n>>2>>>0],"parameter "+n);return r}(e,t),n=r[0];t=n.name+"_$"+r.slice(1).map((function(e){return e.name})).join("_")+"$";var a=Me[t];if(void 0!==a)return a;a=["retType"];for(var o=[n],i="",u=0;u<e-1;++u)i+=(0!==u?", ":"")+"arg"+u,a.push("argType"+u),o.push(r[1+u]);var s="return function "+ne("methodCaller_"+t)+"(handle, name, destructors, args) {\\n",c=0;for(u=0;u<e-1;++u)s+="    var arg"+u+" = argType"+u+".readValueFromPointer(args"+(c?"+"+c:"")+");\\n",c+=r[u+1].argPackAdvance;for(s+="    var rv = handle[name]("+i+");\\n",u=0;u<e-1;++u)r[u+1].deleteObject&&(s+="    argType"+u+".deleteObject(arg"+u+");\\n");return n.cb||(s+="    return retType.toWireType(destructors, rv);\\n"),a.push(s+"};\\n"),e=function(e){var t=Function;if(!(t instanceof Function))throw new TypeError("new_ called with constructor type "+typeof t+" which is not a function");var r=ae(t.name||"unknownFunctionName",(function(){}));return r.prototype=t.prototype,r=new r,(e=t.apply(r,e))instanceof Object?e:r}(a).apply(null,o),a=function(e){var t=Pe.length;return Pe.push(e),t}(e),Me[t]=a},v:function(e,t){return e=pe(e),t=pe(t),de(e[t])},c:function(e){4<e&&(fe[e].Ta+=1)},ia:function(e,r,n,a){e=pe(e);var o=ke[r];return o||(o=function(e){for(var r="",n=0;n<e;++n)r+=(0!==n?", ":"")+"arg"+n;var a="return function emval_allocator_"+e+"(constructor, argTypes, args) {\\n  var HEAPU32 = getMemory();\\n";for(n=0;n<e;++n)a+="var argType"+n+" = requireRegisteredType(HEAPU32[((argTypes)>>2)], \'parameter "+n+"\');\\nvar arg"+n+" = argType"+n+".readValueFromPointer(args);\\nargs += argType"+n+"[\'argPackAdvance\'];\\nargTypes += 4;\\n";return new Function("requireRegisteredType","Module","valueToHandle","getMemory",a+"var obj = new constructor("+r+");\\nreturn valueToHandle(obj);\\n}\\n")(Ae,t,de,(()=>S))}(r),ke[r]=o),o(e,n,a)},D:function(){return de([])},k:function(e){e=pe(e);for(var t=Array(e.length),r=0;r<e.length;r++)t[r]=e[r];return de(t)},d:function(e){return de(Ee(e))},j:function(){return de({})},g:function(e){for(var t=pe(e);t.length;){var r=t.pop();t.pop()(r)}le(e)},e:function(e,t,r){e=pe(e),t=pe(t),r=pe(r),e[t]=r},f:function(e,t){return e=(e=Ae(e,"_emval_take_value")).readValueFromPointer(t),de(e)},_:function(e,t){e=new Date(1e3*(S[e>>>2]+4294967296*A[e+4>>>2])),A[t>>2>>>0]=e.getUTCSeconds(),A[t+4>>2>>>0]=e.getUTCMinutes(),A[t+8>>2>>>0]=e.getUTCHours(),A[t+12>>2>>>0]=e.getUTCDate(),A[t+16>>2>>>0]=e.getUTCMonth(),A[t+20>>2>>>0]=e.getUTCFullYear()-1900,A[t+24>>2>>>0]=e.getUTCDay(),A[t+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},$:function(e,t){e=new Date(1e3*(S[e>>>2]+4294967296*A[e+4>>>2])),A[t>>2>>>0]=e.getSeconds(),A[t+4>>2>>>0]=e.getMinutes(),A[t+8>>2>>>0]=e.getHours(),A[t+12>>2>>>0]=e.getDate(),A[t+16>>2>>>0]=e.getMonth(),A[t+20>>2>>>0]=e.getFullYear()-1900,A[t+24>>2>>>0]=e.getDay(),A[t+28>>2>>>0]=0|xe(e),A[t+36>>2>>>0]=-60*e.getTimezoneOffset();var r=new Date(e.getFullYear(),6,1).getTimezoneOffset(),n=new Date(e.getFullYear(),0,1).getTimezoneOffset();A[t+32>>2>>>0]=0|(r!=n&&e.getTimezoneOffset()==Math.min(n,r))},aa:function(e){var t=new Date(A[e+20>>2>>>0]+1900,A[e+16>>2>>>0],A[e+12>>2>>>0],A[e+8>>2>>>0],A[e+4>>2>>>0],A[e>>2>>>0],0),r=A[e+32>>2>>>0],n=t.getTimezoneOffset(),a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),o=new Date(t.getFullYear(),0,1).getTimezoneOffset(),i=Math.min(o,a);return 0>r?A[e+32>>2>>>0]=Number(a!=o&&i==n):0<r!=(i==n)&&(a=Math.max(o,a),t.setTime(t.getTime()+6e4*((0<r?i:a)-n))),A[e+24>>2>>>0]=t.getDay(),A[e+28>>2>>>0]=0|xe(t),A[e>>2>>>0]=t.getSeconds(),A[e+4>>2>>>0]=t.getMinutes(),A[e+8>>2>>>0]=t.getHours(),A[e+12>>2>>>0]=t.getDate(),A[e+16>>2>>>0]=t.getMonth(),A[e+20>>2>>>0]=t.getYear(),t.getTime()/1e3|0},P:function(){return-52},Q:function(){},ba:function(e,t,r){function n(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}var a=(new Date).getFullYear(),o=new Date(a,0,1),i=new Date(a,6,1);a=o.getTimezoneOffset();var u=i.getTimezoneOffset();S[e>>2>>>0]=60*Math.max(a,u),A[t>>2>>>0]=Number(a!=u),e=n(o),t=n(i),e=De(e),t=De(t),u<a?(S[r>>2>>>0]=e,S[r+4>>2>>>0]=t):(S[r>>2>>>0]=t,S[r+4>>2>>>0]=e)},q:function(){B("")},ha:function(){B("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},A:function(){return Date.now()},J:function(){return 4294901760},n:Fe,U:function(e,t,r){_.copyWithin(e>>>0,t>>>0,t+r>>>0)},I:function(e){var t=_.length;if(4294901760<(e>>>=0))return!1;for(var r=1;4>=r;r*=2){var n=t*(1+.2/r);n=Math.min(n,e+100663296);var a=Math,o=a.min;n=Math.max(e,n),n+=(65536-n%65536)%65536;e:{var i=b.buffer;try{b.grow(o.call(a,4294901760,n)-i.byteLength+65535>>>16),x();var u=1;break e}catch(e){}u=void 0}if(u)return!0}return!1},S:function(e,t){var r=0;return je().forEach((function(n,a){var o=t+r;for(a=S[e+4*a>>2>>>0]=o,o=0;o<n.length;++o)w[a++>>0>>>0]=n.charCodeAt(o);w[a>>0>>>0]=0,r+=n.length+1})),0},T:function(e,t){var r=je();S[e>>2>>>0]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),S[t>>2>>>0]=n,0},s:function(){return 52},y:function(){return 52},F:function(){return 70},x:function(e,t,r,n){for(var a=0,o=0;o<r;o++){var i=S[t>>2>>>0],u=S[t+4>>2>>>0];t+=8;for(var s=0;s<u;s++){var c=_[i+s>>>0],f=Ye[e];0===c||10===c?((1===e?y:v)(k(f,0)),f.length=0):f.push(c)}a+=u}return S[n>>2>>>0]=a,0},da:Ne,m:function(e,t,r,n){return Ne(e,t,r,n)}};!function(){function e(e){if(e=e.exports,t.asm=e,b=t.asm.ja,x(),I.unshift(t.asm.ka),z--,t.monitorRunDependencies&&t.monitorRunDependencies(z),0==z&&(null!==L&&(clearInterval(L),L=null),N)){var r=N;N=null,r()}return e}var r={a:Ve};if(z++,t.monitorRunDependencies&&t.monitorRunDependencies(z),t.instantiateWasm)try{return t.instantiateWasm(r,e)}catch(e){v("Module.instantiateWasm callback failed with error: "+e),a(e)}(function(e,t){var r=Y;return m||"function"!=typeof WebAssembly.instantiateStreaming||G(r)||r.startsWith("file://")||p||"function"!=typeof fetch?q(r,e,t):fetch(r,{credentials:"same-origin"}).then((function(n){return WebAssembly.instantiateStreaming(n,e).then(t,(function(n){return v("wasm streaming compile failed: "+n),v("falling back to ArrayBuffer instantiation"),q(r,e,t)}))}))})(r,(function(t){e(t.instance)})).catch(a)}(),t._OrtInit=function(){return(t._OrtInit=t.asm.la).apply(null,arguments)},t._OrtCreateSessionOptions=function(){return(t._OrtCreateSessionOptions=t.asm.ma).apply(null,arguments)},t._OrtAppendExecutionProvider=function(){return(t._OrtAppendExecutionProvider=t.asm.na).apply(null,arguments)},t._OrtAddSessionConfigEntry=function(){return(t._OrtAddSessionConfigEntry=t.asm.oa).apply(null,arguments)},t._OrtReleaseSessionOptions=function(){return(t._OrtReleaseSessionOptions=t.asm.pa).apply(null,arguments)},t._OrtCreateSession=function(){return(t._OrtCreateSession=t.asm.qa).apply(null,arguments)},t._OrtReleaseSession=function(){return(t._OrtReleaseSession=t.asm.ra).apply(null,arguments)},t._OrtGetInputCount=function(){return(t._OrtGetInputCount=t.asm.sa).apply(null,arguments)},t._OrtGetOutputCount=function(){return(t._OrtGetOutputCount=t.asm.ta).apply(null,arguments)},t._OrtGetInputName=function(){return(t._OrtGetInputName=t.asm.ua).apply(null,arguments)},t._OrtGetOutputName=function(){return(t._OrtGetOutputName=t.asm.va).apply(null,arguments)},t._OrtFree=function(){return(t._OrtFree=t.asm.wa).apply(null,arguments)},t._OrtCreateTensor=function(){return(t._OrtCreateTensor=t.asm.xa).apply(null,arguments)},t._OrtGetTensorData=function(){return(t._OrtGetTensorData=t.asm.ya).apply(null,arguments)},t._OrtReleaseTensor=function(){return(t._OrtReleaseTensor=t.asm.za).apply(null,arguments)},t._OrtCreateRunOptions=function(){return(t._OrtCreateRunOptions=t.asm.Aa).apply(null,arguments)},t._OrtAddRunConfigEntry=function(){return(t._OrtAddRunConfigEntry=t.asm.Ba).apply(null,arguments)},t._OrtReleaseRunOptions=function(){return(t._OrtReleaseRunOptions=t.asm.Ca).apply(null,arguments)},t._OrtRun=function(){return(t._OrtRun=t.asm.Da).apply(null,arguments)},t._OrtEndProfiling=function(){return(t._OrtEndProfiling=t.asm.Ea).apply(null,arguments)};var $e,qe=t._malloc=function(){return(qe=t._malloc=t.asm.Fa).apply(null,arguments)},Je=t._free=function(){return(Je=t._free=t.asm.Ga).apply(null,arguments)},Qe=t.___getTypeName=function(){return(Qe=t.___getTypeName=t.asm.Ha).apply(null,arguments)};function Xe(){return(Xe=t.asm.Ka).apply(null,arguments)}function Ze(){return(Ze=t.asm.La).apply(null,arguments)}function Ke(){return(Ke=t.asm.Ma).apply(null,arguments)}function et(){function e(){if(!$e&&($e=!0,t.calledRun=!0,!C)){if(J(I),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();j.unshift(e)}J(j)}}if(!(0<z)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)H();J(D),0<z||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e())}}if(t.__embind_initialize_bindings=function(){return(t.__embind_initialize_bindings=t.asm.Ia).apply(null,arguments)},t.UTF8ToString=R,t.stringToUTF8=U,t.lengthBytesUTF8=W,t.stackAlloc=Ke,t.stackSave=Xe,t.stackRestore=Ze,N=function e(){$e||et(),$e||(N=e)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return et(),e.ready});e.exports=n},154:e=>{"use strict";e.exports=\'"use strict";var e={},a="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(a){var r=require("worker_threads"),t=r.parentPort;t.on("message",(e=>onmessage({data:e})));var s=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(s.readFileSync(e,"utf8")+"//# sourceURL="+e)},postMessage:function(e){t.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var o=!1,n=[],d=function(){var e=Array.prototype.slice.call(arguments).join(" ");a?s.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var a=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:a,threadId:e._pthread_self()})},e.instantiateWasm=(a,r)=>{var t=e.wasmModule;return e.wasmModule=null,r(new WebAssembly.Instance(t,a))},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=function a(r){try{if("load"===r.data.cmd){let s=[];self.onmessage=e=>s.push(e),self.startWorker=r=>{e=r,postMessage({cmd:"loaded"});for(let e of s)a(e);self.onmessage=a},e.wasmModule=r.data.wasmModule;for(const a of r.data.handlers)e[a]=function(){postMessage({cmd:"callHandler",handler:a,args:[...arguments]})};if(e.wasmMemory=r.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof r.data.urlOrBlob)importScripts(r.data.urlOrBlob);else{var t=URL.createObjectURL(r.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(e)}else if("run"===r.data.cmd){e.__emscripten_thread_init(r.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(r.data),e.PThread.threadInitTLS(),o||(e.__embind_initialize_bindings(),n.forEach((a=>{e.executeNotifiedProxyingQueue(a)})),n=[],o=!0);try{e.invokeEntryPoint(r.data.start_routine,r.data.arg)}catch(e){if("unwind"!=e)throw e}}else"cancel"===r.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===r.data.target||("processProxyingQueue"===r.data.cmd?o?e.executeNotifiedProxyingQueue(r.data.queue):n.push(r.data.queue):r.data.cmd&&(d("worker.js received unknown command "+r.data.cmd),d(r.data)))}catch(a){throw e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),a}};\\n\'},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{"use strict";const e=r(259),t=r(263);self.onmessage=r=>{switch(r.data.type){case"init-wasm":(0,t.initializeWebAssembly)(r.data.in).then((()=>postMessage({type:"init-wasm"})),(e=>postMessage({type:"init-wasm",err:e})));break;case"init-ort":try{const{numThreads:t,loggingLevel:n}=r.data.in;(0,e.initOrt)(t,n),postMessage({type:"init-ort"})}catch(e){postMessage({type:"init-ort",err:e})}break;case"create_allocate":try{const{model:t}=r.data.in,n=(0,e.createSessionAllocate)(t);postMessage({type:"create_allocate",out:n})}catch(e){postMessage({type:"create_allocate",err:e})}break;case"create_finalize":try{const{modeldata:t,options:n}=r.data.in,a=(0,e.createSessionFinalize)(t,n);postMessage({type:"create_finalize",out:a})}catch(e){postMessage({type:"create_finalize",err:e})}break;case"create":try{const{model:t,options:n}=r.data.in,a=(0,e.createSession)(t,n);postMessage({type:"create",out:a})}catch(e){postMessage({type:"create",err:e})}break;case"release":try{const t=r.data.in;(0,e.releaseSession)(t),postMessage({type:"release"})}catch(e){postMessage({type:"release",err:e})}break;case"run":try{const{sessionId:t,inputIndices:n,inputs:a,outputIndices:o,options:i}=r.data.in;(0,e.run)(t,n,a,o,i).then((t=>{postMessage({type:"run",out:t},(0,e.extractTransferableBuffers)(t))}),(e=>{postMessage({type:"run",err:e})}))}catch(e){postMessage({type:"run",err:e})}break;case"end-profiling":try{const t=r.data.in;(0,e.endProfiling)(t),postMessage({type:"end-profiling"})}catch(e){postMessage({type:"end-profiling",err:e})}}}})()})();\n',"Worker",void 0,void 0)}},614:e=>{"use strict";e.exports=function(e,t,n,r){var a=self||window;try{try{var o;try{o=new a.Blob([e])}catch(t){(o=new(a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder)).append(e),o=o.getBlob()}var i=a.URL||a.webkitURL,s=i.createObjectURL(o),u=new a[t](s,n);return i.revokeObjectURL(s),u}catch(r){return new a[t]("data:application/javascript,".concat(encodeURIComponent(e)),n)}}catch(e){if(!r)throw Error("Inline worker is not supported");return new a[t](r,n)}}},474:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e={}){function t(){return I.buffer!=x.buffer&&K(),x}function r(){return I.buffer!=x.buffer&&K(),D}function a(){return I.buffer!=x.buffer&&K(),U}function o(){return I.buffer!=x.buffer&&K(),j}function i(){return I.buffer!=x.buffer&&K(),W}function s(){return I.buffer!=x.buffer&&K(),F}function u(){return I.buffer!=x.buffer&&K(),G}var c,l,f;c||(c=void 0!==e?e:{}),c.ready=new Promise((function(e,t){l=e,f=t}));var p,d,h,g=Object.assign({},c),m="./this.program",y=(e,t)=>{throw t},v="object"==typeof window,b="function"==typeof importScripts,w="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,_=c.ENVIRONMENT_IS_PTHREAD||!1,A="";function T(e){return c.locateFile?c.locateFile(e,A):A+e}if(w){var S=n(384),O=n(908);let t;A=b?O.dirname(A)+"/":"//",p=(e,t)=>(e=e.startsWith("file://")?new URL(e):O.normalize(e),S.readFileSync(e,t?void 0:"utf8")),h=e=>((e=p(e,!0)).buffer||(e=new Uint8Array(e)),e),d=(e,t,n)=>{e=e.startsWith("file://")?new URL(e):O.normalize(e),S.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(m=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof le))throw e})),15>process.versions.node.split(".")[0]&&process.on("unhandledRejection",(function(e){throw e})),y=(e,t)=>{if(k)throw process.exitCode=e,t;if(!(t instanceof le)){var n=t;t&&"object"==typeof t&&t.stack&&(n=[t,t.stack]),M("exiting due to exception: "+n)}process.exit(e)},c.inspect=function(){return"[Emscripten Module object]"};try{t=n(925)}catch(e){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),e}n.g.Worker=t.Worker}else(v||b)&&(b?A=self.location.href:"undefined"!=typeof document&&document.currentScript&&(A=document.currentScript.src),_scriptDir&&(A=_scriptDir),A=0!==A.indexOf("blob:")?A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):"",w||(p=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},b&&(h=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),d=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}));w&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var E=console.log.bind(console),P=console.warn.bind(console);w&&(E=e=>S.writeSync(1,e+"\n"),P=e=>S.writeSync(2,e+"\n"));var C,$=c.print||E,M=c.printErr||P;Object.assign(c,g),g=null,c.thisProgram&&(m=c.thisProgram),c.quit&&(y=c.quit),c.wasmBinary&&(C=c.wasmBinary);var k=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&ie("no native wasm support detected");var I,R,x,D,U,j,W,F,B,G,z=!1,H="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function L(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&H)return H.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function N(e,t){return(e>>>=0)?L(r(),e,t):""}function Y(e,t,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(n>=r)break;t[n++>>>0]=i}else{if(2047>=i){if(n+1>=r)break;t[n++>>>0]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++>>>0]=224|i>>12}else{if(n+3>=r)break;t[n++>>>0]=240|i>>18,t[n++>>>0]=128|i>>12&63}t[n++>>>0]=128|i>>6&63}t[n++>>>0]=128|63&i}}return t[n>>>0]=0,n-a}function V(e,t,n){return Y(e,r(),t,n)}function q(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function K(){var e=I.buffer;c.HEAP8=x=new Int8Array(e),c.HEAP16=U=new Int16Array(e),c.HEAP32=W=new Int32Array(e),c.HEAPU8=D=new Uint8Array(e),c.HEAPU16=j=new Uint16Array(e),c.HEAPU32=F=new Uint32Array(e),c.HEAPF32=B=new Float32Array(e),c.HEAPF64=G=new Float64Array(e)}var J=c.INITIAL_MEMORY||16777216;if(1048576<=J||ie("INITIAL_MEMORY should be larger than STACK_SIZE, was "+J+"! (STACK_SIZE=1048576)"),_)I=c.wasmMemory;else if(c.wasmMemory)I=c.wasmMemory;else if(!((I=new WebAssembly.Memory({initial:J/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw M("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),w&&M("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");K(),J=I.buffer.byteLength;var X,Q=[],Z=[],ee=[];function te(){var e=c.preRun.shift();Q.unshift(e)}var ne,re=0,ae=null,oe=null;function ie(e){throw c.onAbort&&c.onAbort(e),M(e="Aborted("+e+")"),z=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),f(e),e}function se(e){return e.startsWith("data:application/octet-stream;base64,")}function ue(e){try{if(e==ne&&C)return new Uint8Array(C);if(h)return h(e);throw"both async and sync fetching of the wasm failed"}catch(e){ie(e)}}function ce(e,t,n){return function(e){if(!C&&(v||b)){if("function"==typeof fetch&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()})).catch((function(){return ue(e)}));if(d)return new Promise((function(t,n){d(e,(function(e){t(new Uint8Array(e))}),n)}))}return Promise.resolve().then((function(){return ue(e)}))}(e).then((function(e){return WebAssembly.instantiate(e,t)})).then((function(e){return e})).then(n,(function(e){M("failed to asynchronously prepare wasm: "+e),ie(e)}))}function le(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function fe(e){e.terminate(),e.onmessage=()=>{}}function pe(e){(e=me.hb[e])||ie(),me.Mb(e)}function de(e){var t=me.Ab();if(!t)return 6;me.ib.push(t),me.hb[e.fb]=t,t.fb=e.fb;var n={cmd:"run",start_routine:e.Nb,arg:e.xb,pthread_ptr:e.fb};return w&&t.ref(),t.postMessage(n,e.Tb),0}function he(e){if(_)return Pt(1,1,e);k||(me.Ob(),c.onExit&&c.onExit(e),z=!0),y(e,new le(e))}function ge(e){if(_)throw ve(e),"unwind";he(e)}se(ne="ort-wasm-threaded.wasm")||(ne=T(ne));var me={lb:[],ib:[],vb:[],hb:{},qb:function(){_&&me.Eb()},Vb:function(){},Eb:function(){me.receiveObjectTransfer=me.Lb,me.threadInitTLS=me.ub,me.setExitStatus=me.tb,k=!1},tb:function(){},Xb:["$terminateWorker"],Ob:function(){for(var e of me.ib)fe(e);for(e of me.lb)fe(e);me.lb=[],me.ib=[],me.hb=[]},Mb:function(e){var t=e.fb;delete me.hb[t],me.lb.push(e),me.ib.splice(me.ib.indexOf(e),1),e.fb=0,w&&e.unref(),Zt(t)},Lb:function(){},ub:function(){me.vb.forEach((e=>e()))},Kb:e=>new Promise((t=>{e.onmessage=n=>{var r=(n=n.data).cmd;if(e.fb&&(me.yb=e.fb),n.targetThread&&n.targetThread!=Yt()){var a=me.hb[n.Wb];a?a.postMessage(n,n.transferList):M('Internal error! Worker sent a message "'+r+'" to target pthread '+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?ct(n.queue):"spawnThread"===r?de(n):"cleanupThread"===r?pe(n.thread):"killThread"===r?(n=n.thread,r=me.hb[n],delete me.hb[n],fe(r),Zt(n),me.ib.splice(me.ib.indexOf(r),1),r.fb=0):"cancelThread"===r?me.hb[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(e.loaded=!0,w&&!e.fb&&e.unref(),t(e)):"print"===r?$("Thread "+n.threadId+": "+n.text):"printErr"===r?M("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?e.postMessage(n):"callHandler"===r?c[n.handler](...n.args):r&&M("worker sent an unknown command "+r);me.yb=void 0},e.onerror=e=>{throw M("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},w&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("detachedExit",(function(){})));var n,r=[];for(n of["onExit","onAbort","print","printErr"])c.hasOwnProperty(n)&&r.push(n);e.postMessage({cmd:"load",handlers:r,urlOrBlob:c.mainScriptUrlOrBlob||_scriptDir,wasmMemory:I,wasmModule:R})})),Jb:function(e){e()},wb:function(){var e=T("ort-wasm-threaded.worker.js");e=new Worker(e),me.lb.push(e)},Ab:function(){return 0==me.lb.length&&(me.wb(),me.Kb(me.lb[0])),me.lb.pop()}};function ye(e){for(;0<e.length;)e.shift()(c)}function ve(e){if(_)return Pt(2,0,e);try{ge(e)}catch(e){e instanceof le||"unwind"==e||y(1,e)}}c.PThread=me,c.establishStackSpace=function(){var e=Yt(),t=i()[e+52>>2>>>0];nn(t,t-(e=i()[e+56>>2>>>0])),an(t)};var be=[];function we(e){this.mb=e-24,this.Ib=function(e){s()[this.mb+4>>2>>>0]=e},this.Cb=function(e){s()[this.mb+8>>2>>>0]=e},this.Gb=function(){i()[this.mb>>2>>>0]=0},this.Bb=function(){t()[this.mb+12>>0>>>0]=0},this.Hb=function(){t()[this.mb+13>>0>>>0]=0},this.qb=function(e,t){this.zb(),this.Ib(e),this.Cb(t),this.Gb(),this.Bb(),this.Hb()},this.zb=function(){s()[this.mb+16>>2>>>0]=0}}function _e(e,t,n,r){return _?Pt(3,1,e,t,n,r):Ae(e,t,n,r)}function Ae(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return M("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return _&&0===a.length?_e(e,t,n,r):(e={Nb:n,fb:e,xb:r,Tb:a},_?(e.Ub="spawnThread",postMessage(e,a),0):de(e))}function Te(e,t,n){return _?Pt(4,1,e,t,n):0}function Se(e,t){if(_)return Pt(5,1,e,t)}function Oe(e,t){if(_)return Pt(6,1,e,t)}function Ee(e,t,n){if(_)return Pt(7,1,e,t,n)}function Pe(e,t,n){return _?Pt(8,1,e,t,n):0}function Ce(e,t){if(_)return Pt(9,1,e,t)}function $e(e,t,n){if(_)return Pt(10,1,e,t,n)}function Me(e,t,n,r){if(_)return Pt(11,1,e,t,n,r)}function ke(e,t,n,r){if(_)return Pt(12,1,e,t,n,r)}function Ie(e,t,n,r){if(_)return Pt(13,1,e,t,n,r)}function Re(e){if(_)return Pt(14,1,e)}function xe(e,t){if(_)return Pt(15,1,e,t)}function De(e,t,n){if(_)return Pt(16,1,e,t,n)}function Ue(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}c.invokeEntryPoint=function(e,t){var n=be[e];n||(e>=be.length&&(be.length=e+1),be[e]=n=X.get(e)),e=n(t),k?me.tb(e):tn(e)};var je=void 0;function We(e){for(var t="";r()[e>>>0];)t+=je[r()[e++>>>0]];return t}var Fe={},Be={},Ge={};function ze(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return 48<=t&&57>=t?"_"+e:e}function He(e,t){return{[e=ze(e)]:function(){return t.apply(this,arguments)}}[e]}function Le(e){var t=Error,n=He(e,(function(t){this.name=e,this.message=t,void 0!==(t=Error(t).stack)&&(this.stack=this.toString()+"\n"+t.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var Ne=void 0;function Ye(e){throw new Ne(e)}function Ve(e,t,n={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=t.name;if(e||Ye('type "'+r+'" must have a positive integer typeid pointer'),Be.hasOwnProperty(e)){if(n.Db)return;Ye("Cannot register type '"+r+"' twice")}Be[e]=t,delete Ge[e],Fe.hasOwnProperty(e)&&(t=Fe[e],delete Fe[e],t.forEach((e=>e())))}var qe=[],Ke=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Je(e){4<e&&0==--Ke[e].rb&&(Ke[e]=void 0,qe.push(e))}var Xe=e=>(e||Ye("Cannot use deleted val. handle = "+e),Ke[e].value),Qe=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=qe.length?qe.pop():Ke.length;return Ke[t]={rb:1,value:e},t}};function Ze(e){return this.fromWireType(i()[e>>2>>>0])}function et(e,t){switch(t){case 2:return function(e){var t=this.fromWireType;return I.buffer!=x.buffer&&K(),t.call(this,B[e>>>2])};case 3:return function(e){return this.fromWireType(u()[e>>>3])};default:throw new TypeError("Unknown float type: "+e)}}function tt(e,n,u){switch(n){case 0:return u?function(e){return t()[e>>>0]}:function(e){return r()[e>>>0]};case 1:return u?function(e){return a()[e>>>1]}:function(e){return o()[e>>>1]};case 2:return u?function(e){return i()[e>>>2]}:function(e){return s()[e>>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var nt="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function rt(e,t){for(var n=e>>1,i=n+t/2;!(n>=i)&&o()[n>>>0];)++n;if(32<(n<<=1)-e&&nt)return nt.decode(r().slice(e,n));for(n="",i=0;!(i>=t/2);++i){var s=a()[e+2*i>>1>>>0];if(0==s)break;n+=String.fromCharCode(s)}return n}function at(e,t,n){if(void 0===n&&(n=2147483647),2>n)return 0;var r=t;n=(n-=2)<2*e.length?n/2:e.length;for(var o=0;o<n;++o){var i=e.charCodeAt(o);a()[t>>1>>>0]=i,t+=2}return a()[t>>1>>>0]=0,t-r}function ot(e){return 2*e.length}function it(e,t){for(var n=0,r="";!(n>=t/4);){var a=i()[e+4*n>>2>>>0];if(0==a)break;++n,65536<=a?(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a)):r+=String.fromCharCode(a)}return r}function st(e,t,n){if(void 0===n&&(n=2147483647),4>n)return 0;var r=t>>>=0;n=r+n-4;for(var a=0;a<e.length;++a){var o=e.charCodeAt(a);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a)),i()[t>>2>>>0]=o,(t+=4)+4>n)break}return i()[t>>2>>>0]=0,t-r}function ut(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&++n,t+=4}return t}function ct(e){Atomics.store(i(),e>>2,1),Yt()&&Qt(e),Atomics.compareExchange(i(),e>>2,1,0)}function lt(e,t){var n=Be[e];if(void 0===n){var r=We(e=Kt(e));qt(e),Ye(t+" has unknown type "+r)}return n}c.executeNotifiedProxyingQueue=ct;var ft={};function pt(e){var t=ft[e];return void 0===t?We(e):t}var dt=[];function ht(){return"object"==typeof globalThis?globalThis:Function("return this")()}var gt=[],mt={};function yt(e){return s()[e>>>2]+4294967296*i()[e+4>>>2]}function vt(e){return 0==e%4&&(0!=e%100||0==e%400)}var bt,wt,_t=[0,31,60,91,121,152,182,213,244,274,305,335],At=[0,31,59,90,120,151,181,212,243,273,304,334];function Tt(e){return(vt(e.getFullYear())?_t:At)[e.getMonth()]+e.getDate()-1}function St(e,t,n,r,a,o,i){return _?Pt(17,1,e,t,n,r,a,o,i):-52}function Ot(e,t,n,r,a,o){if(_)return Pt(18,1,e,t,n,r,a,o)}function Et(e){var n=q(e)+1,r=Vt(n);return r&&Y(e,t(),r,n),r}function Pt(e,t){var n=arguments.length-2,r=arguments;return function(e){var t=rn();return e=e(),an(t),e}((()=>{for(var a=on(8*n),o=a>>3,i=0;i<n;i++){var s=r[2+i];u()[o+i>>>0]=s}return Xt(e,n,a,t)}))}wt=w?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.timeOrigin+performance.now();var Ct,$t=[],Mt={};function kt(){if(!Ct){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:m||"./this.program"};for(e in Mt)void 0===Mt[e]?delete t[e]:t[e]=Mt[e];var n=[];for(e in t)n.push(e+"="+t[e]);Ct=n}return Ct}function It(e,n){if(_)return Pt(19,1,e,n);var r=0;return kt().forEach((function(a,o){var i=n+r;for(o=s()[e+4*o>>2>>>0]=i,i=0;i<a.length;++i)t()[o++>>0>>>0]=a.charCodeAt(i);t()[o>>0>>>0]=0,r+=a.length+1})),0}function Rt(e,t){if(_)return Pt(20,1,e,t);var n=kt();s()[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),s()[t>>2>>>0]=r,0}function xt(e){return _?Pt(21,1,e):52}function Dt(e,t,n,r){return _?Pt(22,1,e,t,n,r):52}function Ut(e,t,n,r,a){return _?Pt(23,1,e,t,n,r,a):70}var jt=[null,[],[]];function Wt(e,t,n,a){if(_)return Pt(24,1,e,t,n,a);for(var o=0,i=0;i<n;i++){var u=s()[t>>2>>>0],c=s()[t+4>>2>>>0];t+=8;for(var l=0;l<c;l++){var f=r()[u+l>>>0],p=jt[e];0===f||10===f?((1===e?$:M)(L(p,0)),p.length=0):p.push(f)}o+=c}return s()[a>>2>>>0]=o,0}var Ft=[31,29,31,30,31,30,31,31,30,31,30,31],Bt=[31,28,31,30,31,30,31,31,30,31,30,31];function Gt(e,n,r,a){function o(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function s(e,t){return o(e,t,"0")}function u(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function c(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function l(e){var t=e.jb;for(e=new Date(new Date(e.kb+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(vt(e.getFullYear())?Ft:Bt)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=c(new Date(e.getFullYear(),0,4)),n=c(n),0>=u(t,e)?0>=u(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var f=i()[a+40>>2>>>0];for(var p in a={Rb:i()[a>>2>>>0],Qb:i()[a+4>>2>>>0],ob:i()[a+8>>2>>>0],sb:i()[a+12>>2>>>0],pb:i()[a+16>>2>>>0],kb:i()[a+20>>2>>>0],gb:i()[a+24>>2>>>0],jb:i()[a+28>>2>>>0],Yb:i()[a+32>>2>>>0],Pb:i()[a+36>>2>>>0],Sb:f?N(f):""},r=N(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),h="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(e){return d[e.gb].substring(0,3)},"%A":function(e){return d[e.gb]},"%b":function(e){return h[e.pb].substring(0,3)},"%B":function(e){return h[e.pb]},"%C":function(e){return s((e.kb+1900)/100|0,2)},"%d":function(e){return s(e.sb,2)},"%e":function(e){return o(e.sb,2," ")},"%g":function(e){return l(e).toString().substring(2)},"%G":function(e){return l(e)},"%H":function(e){return s(e.ob,2)},"%I":function(e){return 0==(e=e.ob)?e=12:12<e&&(e-=12),s(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.pb-1;t+=(vt(e.kb+1900)?Ft:Bt)[n++]);return s(e.sb+t,3)},"%m":function(e){return s(e.pb+1,2)},"%M":function(e){return s(e.Qb,2)},"%n":function(){return"\n"},"%p":function(e){return 0<=e.ob&&12>e.ob?"AM":"PM"},"%S":function(e){return s(e.Rb,2)},"%t":function(){return"\t"},"%u":function(e){return e.gb||7},"%U":function(e){return s(Math.floor((e.jb+7-e.gb)/7),2)},"%V":function(e){var t=Math.floor((e.jb+7-(e.gb+6)%7)/7);if(2>=(e.gb+371-e.jb-2)%7&&t++,t)53==t&&(4==(n=(e.gb+371-e.jb)%7)||3==n&&vt(e.kb)||(t=1));else{t=52;var n=(e.gb+7-e.jb-1)%7;(4==n||5==n&&vt(e.kb%400-1))&&t++}return s(t,2)},"%w":function(e){return e.gb},"%W":function(e){return s(Math.floor((e.jb+7-(e.gb+6)%7)/7),2)},"%y":function(e){return(e.kb+1900).toString().substring(2)},"%Y":function(e){return e.kb+1900},"%z":function(e){var t=0<=(e=e.Pb);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Sb},"%%":function(){return"%"}},r=r.replace(/%%/g,"\0\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](a)));return p=function(e){var t=Array(q(e)+1);return Y(e,t,0,t.length),t}(r=r.replace(/\0\0/g,"%")),p.length>n?0:(function(e,n){t().set(e,n>>>0)}(p,e),p.length-1)}me.qb();for(var zt=Array(256),Ht=0;256>Ht;++Ht)zt[Ht]=String.fromCharCode(Ht);je=zt,Ne=c.BindingError=Le("BindingError"),c.InternalError=Le("InternalError"),c.count_emval_handles=function(){for(var e=0,t=5;t<Ke.length;++t)void 0!==Ke[t]&&++e;return e},c.get_first_emval=function(){for(var e=5;e<Ke.length;++e)if(void 0!==Ke[e])return Ke[e];return null};var Lt=[null,he,ve,_e,Te,Se,Oe,Ee,Pe,Ce,$e,Me,ke,Ie,Re,xe,De,St,Ot,It,Rt,xt,Dt,Ut,Wt],Nt={b:function(e,t,n){throw new we(e).qb(t,n),e},pa:function(){ie("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},aa:function(e){Jt(e,!b,1,!v),me.ub()},C:function(e){_?postMessage({cmd:"cleanupThread",thread:e}):pe(e)},U:Ae,v:Te,ha:Se,Q:Oe,S:Ee,L:Pe,fa:Ce,Z:$e,ea:Me,E:ke,R:Ie,O:Re,ga:xe,P:De,K:function(){},ra:function(e,n,r,o,s){var u=Ue(r);Ve(e,{name:n=We(n),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?o:s},argPackAdvance:8,readValueFromPointer:function(e){if(1===r)var o=t();else if(2===r)o=a();else{if(4!==r)throw new TypeError("Unknown boolean type size: "+n);o=i()}return this.fromWireType(o[e>>>u])},nb:null})},qa:function(e,t){Ve(e,{name:t=We(t),fromWireType:function(e){var t=Xe(e);return Je(e),t},toWireType:function(e,t){return Qe(t)},argPackAdvance:8,readValueFromPointer:Ze,nb:null})},G:function(e,t,n){n=Ue(n),Ve(e,{name:t=We(t),fromWireType:function(e){return e},toWireType:function(e,t){return t},argPackAdvance:8,readValueFromPointer:et(t,n),nb:null})},q:function(e,t,n,r,a){t=We(t),-1===a&&(a=4294967295),a=Ue(n);var o=e=>e;if(0===r){var i=32-8*n;o=e=>e<<i>>>i}n=t.includes("unsigned")?function(e,t){return t>>>0}:function(e,t){return t},Ve(e,{name:t,fromWireType:o,toWireType:n,argPackAdvance:8,readValueFromPointer:tt(t,a,0!==r),nb:null})},n:function(e,t,n){function r(e){e>>=2;var t=s();return new a(t.buffer,t[e+1>>>0],t[e>>>0])}var a=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];Ve(e,{name:n=We(n),fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{Db:!0})},H:function(e,t){var n="std::string"===(t=We(t));Ve(e,{name:t,fromWireType:function(e){var t=s()[e>>2>>>0],a=e+4;if(n)for(var o=a,i=0;i<=t;++i){var u=a+i;if(i==t||0==r()[u>>>0]){if(o=N(o,u-o),void 0===c)var c=o;else c+=String.fromCharCode(0),c+=o;o=u+1}}else{for(c=Array(t),i=0;i<t;++i)c[i]=String.fromCharCode(r()[a+i>>>0]);c=c.join("")}return qt(e),c},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var a,o="string"==typeof t;o||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||Ye("Cannot pass non-string to std::string"),a=n&&o?q(t):t.length;var i=Vt(4+a+1),u=i+4>>>0;if(s()[i>>2>>>0]=a,n&&o)V(t,u,a+1);else if(o)for(o=0;o<a;++o){var c=t.charCodeAt(o);255<c&&(qt(u),Ye("String has UTF-16 code units that do not fit in 8 bits")),r()[u+o>>>0]=c}else for(o=0;o<a;++o)r()[u+o>>>0]=t[o];return null!==e&&e.push(qt,i),i},argPackAdvance:8,readValueFromPointer:Ze,nb:function(e){qt(e)}})},x:function(e,t,n){if(n=We(n),2===t)var r=rt,a=at,i=ot,u=()=>o(),c=1;else 4===t&&(r=it,a=st,i=ut,u=()=>s(),c=2);Ve(e,{name:n,fromWireType:function(e){for(var n,a=s()[e>>>2],o=u(),i=e+4,l=0;l<=a;++l){var f=e+4+l*t;l!=a&&0!=o[f>>>c]||(i=r(i,f-i),void 0===n?n=i:(n+=String.fromCharCode(0),n+=i),i=f+t)}return qt(e),n},toWireType:function(e,r){"string"!=typeof r&&Ye("Cannot pass non-string to C++ string type "+n);var o=i(r),u=Vt(4+o+t);return u>>>=0,s()[u>>>2]=o>>c,a(r,u+4,o+t),null!==e&&e.push(qt,u),u},argPackAdvance:8,readValueFromPointer:Ze,nb:function(e){qt(e)}})},sa:function(e,t){Ve(e,{Fb:!0,name:t=We(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},V:function(){return 1048576},ka:function(){return!0},W:function(e,t,n,r){e==t?setTimeout((()=>ct(r))):_?postMessage({targetThread:e,cmd:"processProxyingQueue",queue:r}):(e=me.hb[e])&&e.postMessage({cmd:"processProxyingQueue",queue:r})},$:function(){return-1},s:function(e,t,n){e=Xe(e),t=lt(t,"emval::as");var r=[],a=Qe(r);return s()[n>>2>>>0]=a,t.toWireType(r,e)},j:function(e,t,n,r,a){e=dt[e],t=Xe(t),n=pt(n);var o=[];return s()[r>>2>>>0]=Qe(o),e(t,n,o,a)},z:function(e,t,n,r){(e=dt[e])(t=Xe(t),n=pt(n),null,r)},c:Je,I:function(e,t){return(e=Xe(e))==Xe(t)},r:function(e){return 0===e?Qe(ht()):(e=pt(e),Qe(ht()[e]))},i:function(e,t){var n=function(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=lt(s()[t+4*r>>2>>>0],"parameter "+r);return n}(e,t),r=n[0];t=r.name+"_$"+n.slice(1).map((function(e){return e.name})).join("_")+"$";var a=gt[t];if(void 0!==a)return a;a=["retType"];for(var o=[r],i="",u=0;u<e-1;++u)i+=(0!==u?", ":"")+"arg"+u,a.push("argType"+u),o.push(n[1+u]);var c="return function "+ze("methodCaller_"+t)+"(handle, name, destructors, args) {\n",l=0;for(u=0;u<e-1;++u)c+="    var arg"+u+" = argType"+u+".readValueFromPointer(args"+(l?"+"+l:"")+");\n",l+=n[u+1].argPackAdvance;for(c+="    var rv = handle[name]("+i+");\n",u=0;u<e-1;++u)n[u+1].deleteObject&&(c+="    argType"+u+".deleteObject(arg"+u+");\n");return r.Fb||(c+="    return retType.toWireType(destructors, rv);\n"),a.push(c+"};\n"),e=function(e){var t=Function;if(!(t instanceof Function))throw new TypeError("new_ called with constructor type "+typeof t+" which is not a function");var n=He(t.name||"unknownFunctionName",(function(){}));return n.prototype=t.prototype,n=new n,(e=t.apply(n,e))instanceof Object?e:n}(a).apply(null,o),a=function(e){var t=dt.length;return dt.push(e),t}(e),gt[t]=a},t:function(e,t){return e=Xe(e),t=Xe(t),Qe(e[t])},d:function(e){4<e&&(Ke[e].rb+=1)},y:function(e,t,n,r){e=Xe(e);var a=mt[t];return a||(a=function(e){for(var t="",n=0;n<e;++n)t+=(0!==n?", ":"")+"arg"+n;var r="return function emval_allocator_"+e+"(constructor, argTypes, args) {\n  var HEAPU32 = getMemory();\n";for(n=0;n<e;++n)r+="var argType"+n+" = requireRegisteredType(HEAPU32[((argTypes)>>2)], 'parameter "+n+"');\nvar arg"+n+" = argType"+n+".readValueFromPointer(args);\nargs += argType"+n+"['argPackAdvance'];\nargTypes += 4;\n";return new Function("requireRegisteredType","Module","valueToHandle","getMemory",r+"var obj = new constructor("+t+");\nreturn valueToHandle(obj);\n}\n")(lt,c,Qe,(()=>s()))}(t),mt[t]=a),a(e,n,r)},ta:function(){return Qe([])},l:function(e){e=Xe(e);for(var t=Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return Qe(t)},e:function(e){return Qe(pt(e))},k:function(){return Qe({})},h:function(e){for(var t=Xe(e);t.length;){var n=t.pop();t.pop()(n)}Je(e)},f:function(e,t,n){e=Xe(e),t=Xe(t),n=Xe(n),e[t]=n},g:function(e,t){return e=(e=lt(e,"_emval_take_value")).readValueFromPointer(t),Qe(e)},la:function(e,t){e=new Date(1e3*yt(e)),i()[t>>2>>>0]=e.getUTCSeconds(),i()[t+4>>2>>>0]=e.getUTCMinutes(),i()[t+8>>2>>>0]=e.getUTCHours(),i()[t+12>>2>>>0]=e.getUTCDate(),i()[t+16>>2>>>0]=e.getUTCMonth(),i()[t+20>>2>>>0]=e.getUTCFullYear()-1900,i()[t+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,i()[t+28>>2>>>0]=e},ma:function(e,t){e=new Date(1e3*yt(e)),i()[t>>2>>>0]=e.getSeconds(),i()[t+4>>2>>>0]=e.getMinutes(),i()[t+8>>2>>>0]=e.getHours(),i()[t+12>>2>>>0]=e.getDate(),i()[t+16>>2>>>0]=e.getMonth(),i()[t+20>>2>>>0]=e.getFullYear()-1900,i()[t+24>>2>>>0]=e.getDay();var n=0|Tt(e);i()[t+28>>2>>>0]=n,i()[t+36>>2>>>0]=-60*e.getTimezoneOffset(),n=new Date(e.getFullYear(),6,1).getTimezoneOffset();var r=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=0|(n!=r&&e.getTimezoneOffset()==Math.min(r,n)),i()[t+32>>2>>>0]=e},na:function(e){var t=new Date(i()[e+20>>2>>>0]+1900,i()[e+16>>2>>>0],i()[e+12>>2>>>0],i()[e+8>>2>>>0],i()[e+4>>2>>>0],i()[e>>2>>>0],0),n=i()[e+32>>2>>>0],r=t.getTimezoneOffset(),a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),o=new Date(t.getFullYear(),0,1).getTimezoneOffset(),s=Math.min(o,a);return 0>n?i()[e+32>>2>>>0]=Number(a!=o&&s==r):0<n!=(s==r)&&(a=Math.max(o,a),t.setTime(t.getTime()+6e4*((0<n?s:a)-r))),i()[e+24>>2>>>0]=t.getDay(),n=0|Tt(t),i()[e+28>>2>>>0]=n,i()[e>>2>>>0]=t.getSeconds(),i()[e+4>>2>>>0]=t.getMinutes(),i()[e+8>>2>>>0]=t.getHours(),i()[e+12>>2>>>0]=t.getDate(),i()[e+16>>2>>>0]=t.getMonth(),i()[e+20>>2>>>0]=t.getYear(),t.getTime()/1e3|0},X:St,Y:Ot,oa:function(e,t,n){function r(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}var a=(new Date).getFullYear(),o=new Date(a,0,1),u=new Date(a,6,1);a=o.getTimezoneOffset();var c=u.getTimezoneOffset(),l=Math.max(a,c);s()[e>>2>>>0]=60*l,i()[t>>2>>>0]=Number(a!=c),e=r(o),t=r(u),e=Et(e),t=Et(t),c<a?(s()[n>>2>>>0]=e,s()[n+4>>2>>>0]=t):(s()[n>>2>>>0]=t,s()[n+4>>2>>>0]=e)},m:function(){ie("")},ua:function(){ie("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},D:function(){if(!w&&!b){var e="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";bt||(bt={}),bt[e]||(bt[e]=1,w&&(e="warning: "+e),M(e))}},F:function(){return Date.now()},N:function(){return 4294901760},p:wt,da:function(e,t,n){r().copyWithin(e>>>0,t>>>0,t+n>>>0)},u:function(){return w?n(993).cpus().length:navigator.hardwareConcurrency},_:function(e,t,n){$t.length=t,n>>=3;for(var r=0;r<t;r++)$t[r]=u()[n+r>>>0];return Lt[e].apply(null,$t)},M:function(e){var t=r().length;if((e>>>=0)<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var a=t*(1+.2/n);a=Math.min(a,e+100663296);var o=Math,i=o.min;a=Math.max(e,a),a+=(65536-a%65536)%65536;e:{var s=I.buffer;try{I.grow(i.call(o,4294901760,a)-s.byteLength+65535>>>16),K();var u=1;break e}catch(e){}u=void 0}if(u)return!0}return!1},ja:function(){throw"unwind"},ba:It,ca:Rt,T:ge,w:xt,B:Dt,J:Ut,A:Wt,a:I||c.wasmMemory,ia:Gt,o:function(e,t,n,r){return Gt(e,t,n,r)}};!function(){function e(e,t){return e=e.exports,c.asm=e,me.vb.push(c.asm.Ta),X=c.asm.Ya,Z.unshift(c.asm.va),R=t,me.Jb((()=>{if(re--,c.monitorRunDependencies&&c.monitorRunDependencies(re),0==re&&(null!==ae&&(clearInterval(ae),ae=null),oe)){var e=oe;oe=null,e()}})),e}var t={a:Nt};if(re++,c.monitorRunDependencies&&c.monitorRunDependencies(re),c.instantiateWasm)try{return c.instantiateWasm(t,e)}catch(e){M("Module.instantiateWasm callback failed with error: "+e),f(e)}(function(e,t){var n=ne;return C||"function"!=typeof WebAssembly.instantiateStreaming||se(n)||n.startsWith("file://")||w||"function"!=typeof fetch?ce(n,e,t):fetch(n,{credentials:"same-origin"}).then((function(r){return WebAssembly.instantiateStreaming(r,e).then(t,(function(r){return M("wasm streaming compile failed: "+r),M("falling back to ArrayBuffer instantiation"),ce(n,e,t)}))}))})(t,(function(t){e(t.instance,t.module)})).catch(f)}(),c._OrtInit=function(){return(c._OrtInit=c.asm.wa).apply(null,arguments)},c._OrtCreateSessionOptions=function(){return(c._OrtCreateSessionOptions=c.asm.xa).apply(null,arguments)},c._OrtAppendExecutionProvider=function(){return(c._OrtAppendExecutionProvider=c.asm.ya).apply(null,arguments)},c._OrtAddSessionConfigEntry=function(){return(c._OrtAddSessionConfigEntry=c.asm.za).apply(null,arguments)},c._OrtReleaseSessionOptions=function(){return(c._OrtReleaseSessionOptions=c.asm.Aa).apply(null,arguments)},c._OrtCreateSession=function(){return(c._OrtCreateSession=c.asm.Ba).apply(null,arguments)},c._OrtReleaseSession=function(){return(c._OrtReleaseSession=c.asm.Ca).apply(null,arguments)},c._OrtGetInputCount=function(){return(c._OrtGetInputCount=c.asm.Da).apply(null,arguments)},c._OrtGetOutputCount=function(){return(c._OrtGetOutputCount=c.asm.Ea).apply(null,arguments)},c._OrtGetInputName=function(){return(c._OrtGetInputName=c.asm.Fa).apply(null,arguments)},c._OrtGetOutputName=function(){return(c._OrtGetOutputName=c.asm.Ga).apply(null,arguments)},c._OrtFree=function(){return(c._OrtFree=c.asm.Ha).apply(null,arguments)},c._OrtCreateTensor=function(){return(c._OrtCreateTensor=c.asm.Ia).apply(null,arguments)},c._OrtGetTensorData=function(){return(c._OrtGetTensorData=c.asm.Ja).apply(null,arguments)},c._OrtReleaseTensor=function(){return(c._OrtReleaseTensor=c.asm.Ka).apply(null,arguments)},c._OrtCreateRunOptions=function(){return(c._OrtCreateRunOptions=c.asm.La).apply(null,arguments)},c._OrtAddRunConfigEntry=function(){return(c._OrtAddRunConfigEntry=c.asm.Ma).apply(null,arguments)},c._OrtReleaseRunOptions=function(){return(c._OrtReleaseRunOptions=c.asm.Na).apply(null,arguments)},c._OrtRun=function(){return(c._OrtRun=c.asm.Oa).apply(null,arguments)},c._OrtEndProfiling=function(){return(c._OrtEndProfiling=c.asm.Pa).apply(null,arguments)};var Yt=c._pthread_self=function(){return(Yt=c._pthread_self=c.asm.Qa).apply(null,arguments)},Vt=c._malloc=function(){return(Vt=c._malloc=c.asm.Ra).apply(null,arguments)},qt=c._free=function(){return(qt=c._free=c.asm.Sa).apply(null,arguments)};c.__emscripten_tls_init=function(){return(c.__emscripten_tls_init=c.asm.Ta).apply(null,arguments)};var Kt=c.___getTypeName=function(){return(Kt=c.___getTypeName=c.asm.Ua).apply(null,arguments)};c.__embind_initialize_bindings=function(){return(c.__embind_initialize_bindings=c.asm.Va).apply(null,arguments)};var Jt=c.__emscripten_thread_init=function(){return(Jt=c.__emscripten_thread_init=c.asm.Wa).apply(null,arguments)};function Xt(){return(Xt=c.asm.Za).apply(null,arguments)}c.__emscripten_thread_crashed=function(){return(c.__emscripten_thread_crashed=c.asm.Xa).apply(null,arguments)};var Qt=c.__emscripten_proxy_execute_task_queue=function(){return(Qt=c.__emscripten_proxy_execute_task_queue=c.asm._a).apply(null,arguments)};function Zt(){return(Zt=c.asm.$a).apply(null,arguments)}var en,tn=c.__emscripten_thread_exit=function(){return(tn=c.__emscripten_thread_exit=c.asm.ab).apply(null,arguments)};function nn(){return(nn=c.asm.bb).apply(null,arguments)}function rn(){return(rn=c.asm.cb).apply(null,arguments)}function an(){return(an=c.asm.db).apply(null,arguments)}function on(){return(on=c.asm.eb).apply(null,arguments)}function sn(){function e(){if(!en&&(en=!0,c.calledRun=!0,!z)&&(_||ye(Z),l(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),!_)){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;){var e=c.postRun.shift();ee.unshift(e)}ye(ee)}}if(!(0<re))if(_)l(c),_||ye(Z),startWorker(c);else{if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)te();ye(Q),0<re||(c.setStatus?(c.setStatus("Running..."),setTimeout((function(){setTimeout((function(){c.setStatus("")}),1),e()}),1)):e())}}if(c.UTF8ToString=N,c.stringToUTF8=V,c.lengthBytesUTF8=q,c.keepRuntimeAlive=function(){return k},c.wasmMemory=I,c.stackAlloc=on,c.stackSave=rn,c.stackRestore=an,c.ExitStatus=le,c.PThread=me,oe=function e(){en||sn(),en||(oe=e)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return sn(),e.ready});e.exports=r},932:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e={}){var t,r,a;t||(t=void 0!==e?e:{}),t.ready=new Promise((function(e,t){r=e,a=t}));var o,i,s,u=Object.assign({},t),c="./this.program",l="object"==typeof window,f="function"==typeof importScripts,p="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,d="";if(p){var h=n(384),g=n(908);d=f?g.dirname(d)+"/":"//",o=(e,t)=>(e=e.startsWith("file://")?new URL(e):g.normalize(e),h.readFileSync(e,t?void 0:"utf8")),s=e=>((e=o(e,!0)).buffer||(e=new Uint8Array(e)),e),i=(e,t,n)=>{e=e.startsWith("file://")?new URL(e):g.normalize(e),h.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(c=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){throw e})),15>process.versions.node.split(".")[0]&&process.on("unhandledRejection",(function(e){throw e})),t.inspect=function(){return"[Emscripten Module object]"}}else(l||f)&&(f?d=self.location.href:"undefined"!=typeof document&&document.currentScript&&(d=document.currentScript.src),_scriptDir&&(d=_scriptDir),d=0!==d.indexOf("blob:")?d.substr(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},f&&(s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),i=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var m,y=t.print||console.log.bind(console),v=t.printErr||console.warn.bind(console);Object.assign(t,u),u=null,t.thisProgram&&(c=t.thisProgram),t.wasmBinary&&(m=t.wasmBinary),t.noExitRuntime,"object"!=typeof WebAssembly&&L("no native wasm support detected");var b,w,_,A,T,S,O,E,P,C=!1,$="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function M(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&$)return $.decode(e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function k(e,t){return(e>>>=0)?M(_,e,t):""}function I(e,t,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(n>=r)break;t[n++>>>0]=i}else{if(2047>=i){if(n+1>=r)break;t[n++>>>0]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++>>>0]=224|i>>12}else{if(n+3>=r)break;t[n++>>>0]=240|i>>18,t[n++>>>0]=128|i>>12&63}t[n++>>>0]=128|i>>6&63}t[n++>>>0]=128|63&i}}return t[n>>>0]=0,n-a}function R(e,t,n){return I(e,_,t,n)}function x(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function D(){var e=b.buffer;t.HEAP8=w=new Int8Array(e),t.HEAP16=A=new Int16Array(e),t.HEAP32=S=new Int32Array(e),t.HEAPU8=_=new Uint8Array(e),t.HEAPU16=T=new Uint16Array(e),t.HEAPU32=O=new Uint32Array(e),t.HEAPF32=E=new Float32Array(e),t.HEAPF64=P=new Float64Array(e)}var U=[],j=[],W=[];function F(){var e=t.preRun.shift();U.unshift(e)}var B,G=0,z=null,H=null;function L(e){throw t.onAbort&&t.onAbort(e),v(e="Aborted("+e+")"),C=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),a(e),e}function N(e){return e.startsWith("data:application/octet-stream;base64,")}if(!N(B="ort-wasm.wasm")){var Y=B;B=t.locateFile?t.locateFile(Y,d):d+Y}function V(e){try{if(e==B&&m)return new Uint8Array(m);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}catch(e){L(e)}}function q(e,t,n){return function(e){if(!m&&(l||f)){if("function"==typeof fetch&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()})).catch((function(){return V(e)}));if(i)return new Promise((function(t,n){i(e,(function(e){t(new Uint8Array(e))}),n)}))}return Promise.resolve().then((function(){return V(e)}))}(e).then((function(e){return WebAssembly.instantiate(e,t)})).then((function(e){return e})).then(n,(function(e){v("failed to asynchronously prepare wasm: "+e),L(e)}))}function K(e){for(;0<e.length;)e.shift()(t)}function J(e){this.Pa=e-24,this.ab=function(e){O[this.Pa+4>>2>>>0]=e},this.Ya=function(e){O[this.Pa+8>>2>>>0]=e},this.Za=function(){S[this.Pa>>2>>>0]=0},this.Xa=function(){w[this.Pa+12>>0>>>0]=0},this.$a=function(){w[this.Pa+13>>0>>>0]=0},this.Va=function(e,t){this.Wa(),this.ab(e),this.Ya(t),this.Za(),this.Xa(),this.$a()},this.Wa=function(){O[this.Pa+16>>2>>>0]=0}}function X(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}var Q=void 0;function Z(e){for(var t="";_[e>>>0];)t+=Q[_[e++>>>0]];return t}var ee={},te={},ne={};function re(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return 48<=t&&57>=t?"_"+e:e}function ae(e,t){return{[e=re(e)]:function(){return t.apply(this,arguments)}}[e]}function oe(e){var t=Error,n=ae(e,(function(t){this.name=e,this.message=t,void 0!==(t=Error(t).stack)&&(this.stack=this.toString()+"\n"+t.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var ie=void 0;function se(e){throw new ie(e)}function ue(e,t,n={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=t.name;if(e||se('type "'+r+'" must have a positive integer typeid pointer'),te.hasOwnProperty(e)){if(n.bb)return;se("Cannot register type '"+r+"' twice")}te[e]=t,delete ne[e],ee.hasOwnProperty(e)&&(t=ee[e],delete ee[e],t.forEach((e=>e())))}var ce=[],le=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function fe(e){4<e&&0==--le[e].Ta&&(le[e]=void 0,ce.push(e))}var pe=e=>(e||se("Cannot use deleted val. handle = "+e),le[e].value),de=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=ce.length?ce.pop():le.length;return le[t]={Ta:1,value:e},t}};function he(e){return this.fromWireType(S[e>>2>>>0])}function ge(e,t){switch(t){case 2:return function(e){return this.fromWireType(E[e>>>2])};case 3:return function(e){return this.fromWireType(P[e>>>3])};default:throw new TypeError("Unknown float type: "+e)}}function me(e,t,n){switch(t){case 0:return n?function(e){return w[e>>>0]}:function(e){return _[e>>>0]};case 1:return n?function(e){return A[e>>>1]}:function(e){return T[e>>>1]};case 2:return n?function(e){return S[e>>>2]}:function(e){return O[e>>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var ye="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function ve(e,t){for(var n=e>>1,r=n+t/2;!(n>=r)&&T[n>>>0];)++n;if(32<(n<<=1)-e&&ye)return ye.decode(_.subarray(e>>>0,n>>>0));for(n="",r=0;!(r>=t/2);++r){var a=A[e+2*r>>1>>>0];if(0==a)break;n+=String.fromCharCode(a)}return n}function be(e,t,n){if(void 0===n&&(n=2147483647),2>n)return 0;var r=t;n=(n-=2)<2*e.length?n/2:e.length;for(var a=0;a<n;++a)A[t>>1>>>0]=e.charCodeAt(a),t+=2;return A[t>>1>>>0]=0,t-r}function we(e){return 2*e.length}function _e(e,t){for(var n=0,r="";!(n>=t/4);){var a=S[e+4*n>>2>>>0];if(0==a)break;++n,65536<=a?(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a)):r+=String.fromCharCode(a)}return r}function Ae(e,t,n){if(void 0===n&&(n=2147483647),4>n)return 0;var r=t>>>=0;n=r+n-4;for(var a=0;a<e.length;++a){var o=e.charCodeAt(a);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a)),S[t>>2>>>0]=o,(t+=4)+4>n)break}return S[t>>2>>>0]=0,t-r}function Te(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&++n,t+=4}return t}function Se(e,t){var n=te[e];if(void 0===n){var r=Z(e=Je(e));Ke(e),se(t+" has unknown type "+r)}return n}var Oe={};function Ee(e){var t=Oe[e];return void 0===t?Z(e):t}var Pe=[];function Ce(){return"object"==typeof globalThis?globalThis:Function("return this")()}var $e=[],Me={};function ke(e){return 0==e%4&&(0!=e%100||0==e%400)}var Ie,Re=[0,31,60,91,121,152,182,213,244,274,305,335],xe=[0,31,59,90,120,151,181,212,243,273,304,334];function De(e){return(ke(e.getFullYear())?Re:xe)[e.getMonth()]+e.getDate()-1}function Ue(e){var t=x(e)+1,n=qe(t);return n&&I(e,w,n,t),n}Ie=p?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now();var je={};function We(){if(!Fe){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"};for(e in je)void 0===je[e]?delete t[e]:t[e]=je[e];var n=[];for(e in t)n.push(e+"="+t[e]);Fe=n}return Fe}var Fe,Be=[null,[],[]],Ge=[31,29,31,30,31,30,31,31,30,31,30,31],ze=[31,28,31,30,31,30,31,31,30,31,30,31];function He(e,t,n,r){function a(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function o(e,t){return a(e,t,"0")}function i(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){var t=e.Na;for(e=new Date(new Date(e.Oa+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(ke(e.getFullYear())?Ge:ze)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),n=s(n),0>=i(t,e)?0>=i(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var c=S[r+40>>2>>>0];for(var l in r={gb:S[r>>2>>>0],fb:S[r+4>>2>>>0],Ra:S[r+8>>2>>>0],Ua:S[r+12>>2>>>0],Sa:S[r+16>>2>>>0],Oa:S[r+20>>2>>>0],Ja:S[r+24>>2>>>0],Na:S[r+28>>2>>>0],ib:S[r+32>>2>>>0],eb:S[r+36>>2>>>0],hb:c?k(c):""},n=k(n),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),c[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in c={"%a":function(e){return f[e.Ja].substring(0,3)},"%A":function(e){return f[e.Ja]},"%b":function(e){return p[e.Sa].substring(0,3)},"%B":function(e){return p[e.Sa]},"%C":function(e){return o((e.Oa+1900)/100|0,2)},"%d":function(e){return o(e.Ua,2)},"%e":function(e){return a(e.Ua,2," ")},"%g":function(e){return u(e).toString().substring(2)},"%G":function(e){return u(e)},"%H":function(e){return o(e.Ra,2)},"%I":function(e){return 0==(e=e.Ra)?e=12:12<e&&(e-=12),o(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.Sa-1;t+=(ke(e.Oa+1900)?Ge:ze)[n++]);return o(e.Ua+t,3)},"%m":function(e){return o(e.Sa+1,2)},"%M":function(e){return o(e.fb,2)},"%n":function(){return"\n"},"%p":function(e){return 0<=e.Ra&&12>e.Ra?"AM":"PM"},"%S":function(e){return o(e.gb,2)},"%t":function(){return"\t"},"%u":function(e){return e.Ja||7},"%U":function(e){return o(Math.floor((e.Na+7-e.Ja)/7),2)},"%V":function(e){var t=Math.floor((e.Na+7-(e.Ja+6)%7)/7);if(2>=(e.Ja+371-e.Na-2)%7&&t++,t)53==t&&(4==(n=(e.Ja+371-e.Na)%7)||3==n&&ke(e.Oa)||(t=1));else{t=52;var n=(e.Ja+7-e.Na-1)%7;(4==n||5==n&&ke(e.Oa%400-1))&&t++}return o(t,2)},"%w":function(e){return e.Ja},"%W":function(e){return o(Math.floor((e.Na+7-(e.Ja+6)%7)/7),2)},"%y":function(e){return(e.Oa+1900).toString().substring(2)},"%Y":function(e){return e.Oa+1900},"%z":function(e){var t=0<=(e=e.eb);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.hb},"%%":function(){return"%"}},n=n.replace(/%%/g,"\0\0"),c)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),c[l](r)));return l=function(e){var t=Array(x(e)+1);return I(e,t,0,t.length),t}(n=n.replace(/\0\0/g,"%")),l.length>t?0:(w.set(l,e>>>0),l.length-1)}for(var Le=Array(256),Ne=0;256>Ne;++Ne)Le[Ne]=String.fromCharCode(Ne);Q=Le,ie=t.BindingError=oe("BindingError"),t.InternalError=oe("InternalError"),t.count_emval_handles=function(){for(var e=0,t=5;t<le.length;++t)void 0!==le[t]&&++e;return e},t.get_first_emval=function(){for(var e=5;e<le.length;++e)if(void 0!==le[e])return le[e];return null};var Ye={a:function(e,t,n){throw new J(e).Va(t,n),e},ca:function(){L("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},r:function(){return 0},Y:function(){},M:function(){},O:function(){},H:function(){return 0},W:function(){},R:function(){},V:function(){},z:function(){},N:function(){},K:function(){},X:function(){},L:function(){},G:function(){},fa:function(e,t,n,r,a){var o=X(n);ue(e,{name:t=Z(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:a},argPackAdvance:8,readValueFromPointer:function(e){if(1===n)var r=w;else if(2===n)r=A;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+t);r=S}return this.fromWireType(r[e>>>o])},Qa:null})},ea:function(e,t){ue(e,{name:t=Z(t),fromWireType:function(e){var t=pe(e);return fe(e),t},toWireType:function(e,t){return de(t)},argPackAdvance:8,readValueFromPointer:he,Qa:null})},B:function(e,t,n){n=X(n),ue(e,{name:t=Z(t),fromWireType:function(e){return e},toWireType:function(e,t){return t},argPackAdvance:8,readValueFromPointer:ge(t,n),Qa:null})},o:function(e,t,n,r,a){t=Z(t),-1===a&&(a=4294967295),a=X(n);var o=e=>e;if(0===r){var i=32-8*n;o=e=>e<<i>>>i}n=t.includes("unsigned")?function(e,t){return t>>>0}:function(e,t){return t},ue(e,{name:t,fromWireType:o,toWireType:n,argPackAdvance:8,readValueFromPointer:me(t,a,0!==r),Qa:null})},l:function(e,t,n){function r(e){e>>=2;var t=O;return new a(t.buffer,t[e+1>>>0],t[e>>>0])}var a=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];ue(e,{name:n=Z(n),fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{bb:!0})},C:function(e,t){var n="std::string"===(t=Z(t));ue(e,{name:t,fromWireType:function(e){var t=O[e>>2>>>0],r=e+4;if(n)for(var a=r,o=0;o<=t;++o){var i=r+o;if(o==t||0==_[i>>>0]){if(a=k(a,i-a),void 0===s)var s=a;else s+=String.fromCharCode(0),s+=a;a=i+1}}else{for(s=Array(t),o=0;o<t;++o)s[o]=String.fromCharCode(_[r+o>>>0]);s=s.join("")}return Ke(e),s},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var r,a="string"==typeof t;a||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||se("Cannot pass non-string to std::string"),r=n&&a?x(t):t.length;var o=qe(4+r+1),i=o+4>>>0;if(O[o>>2>>>0]=r,n&&a)R(t,i,r+1);else if(a)for(a=0;a<r;++a){var s=t.charCodeAt(a);255<s&&(Ke(i),se("String has UTF-16 code units that do not fit in 8 bits")),_[i+a>>>0]=s}else for(a=0;a<r;++a)_[i+a>>>0]=t[a];return null!==e&&e.push(Ke,o),o},argPackAdvance:8,readValueFromPointer:he,Qa:function(e){Ke(e)}})},t:function(e,t,n){if(n=Z(n),2===t)var r=ve,a=be,o=we,i=()=>T,s=1;else 4===t&&(r=_e,a=Ae,o=Te,i=()=>O,s=2);ue(e,{name:n,fromWireType:function(e){for(var n,a=O[e>>>2],o=i(),u=e+4,c=0;c<=a;++c){var l=e+4+c*t;c!=a&&0!=o[l>>>s]||(u=r(u,l-u),void 0===n?n=u:(n+=String.fromCharCode(0),n+=u),u=l+t)}return Ke(e),n},toWireType:function(e,r){"string"!=typeof r&&se("Cannot pass non-string to C++ string type "+n);var i=o(r),u=qe(4+i+t);return O[(u>>>=0)>>>2]=i>>s,a(r,u+4,i+t),null!==e&&e.push(Ke,u),u},argPackAdvance:8,readValueFromPointer:he,Qa:function(e){Ke(e)}})},ga:function(e,t){ue(e,{cb:!0,name:t=Z(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},Z:function(){return!0},p:function(e,t,n){e=pe(e),t=Se(t,"emval::as");var r=[],a=de(r);return O[n>>2>>>0]=a,t.toWireType(r,e)},i:function(e,t,n,r,a){e=Pe[e],t=pe(t),n=Ee(n);var o=[];return O[r>>2>>>0]=de(o),e(t,n,o,a)},u:function(e,t,n,r){(e=Pe[e])(t=pe(t),n=Ee(n),null,r)},b:fe,E:function(e,t){return(e=pe(e))==pe(t)},w:function(e){return 0===e?de(Ce()):(e=Ee(e),de(Ce()[e]))},h:function(e,t){var n=function(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=Se(O[t+4*r>>2>>>0],"parameter "+r);return n}(e,t),r=n[0];t=r.name+"_$"+n.slice(1).map((function(e){return e.name})).join("_")+"$";var a=$e[t];if(void 0!==a)return a;a=["retType"];for(var o=[r],i="",s=0;s<e-1;++s)i+=(0!==s?", ":"")+"arg"+s,a.push("argType"+s),o.push(n[1+s]);var u="return function "+re("methodCaller_"+t)+"(handle, name, destructors, args) {\n",c=0;for(s=0;s<e-1;++s)u+="    var arg"+s+" = argType"+s+".readValueFromPointer(args"+(c?"+"+c:"")+");\n",c+=n[s+1].argPackAdvance;for(u+="    var rv = handle[name]("+i+");\n",s=0;s<e-1;++s)n[s+1].deleteObject&&(u+="    argType"+s+".deleteObject(arg"+s+");\n");return r.cb||(u+="    return retType.toWireType(destructors, rv);\n"),a.push(u+"};\n"),e=function(e){var t=Function;if(!(t instanceof Function))throw new TypeError("new_ called with constructor type "+typeof t+" which is not a function");var n=ae(t.name||"unknownFunctionName",(function(){}));return n.prototype=t.prototype,n=new n,(e=t.apply(n,e))instanceof Object?e:n}(a).apply(null,o),a=function(e){var t=Pe.length;return Pe.push(e),t}(e),$e[t]=a},v:function(e,t){return e=pe(e),t=pe(t),de(e[t])},c:function(e){4<e&&(le[e].Ta+=1)},ia:function(e,n,r,a){e=pe(e);var o=Me[n];return o||(o=function(e){for(var n="",r=0;r<e;++r)n+=(0!==r?", ":"")+"arg"+r;var a="return function emval_allocator_"+e+"(constructor, argTypes, args) {\n  var HEAPU32 = getMemory();\n";for(r=0;r<e;++r)a+="var argType"+r+" = requireRegisteredType(HEAPU32[((argTypes)>>2)], 'parameter "+r+"');\nvar arg"+r+" = argType"+r+".readValueFromPointer(args);\nargs += argType"+r+"['argPackAdvance'];\nargTypes += 4;\n";return new Function("requireRegisteredType","Module","valueToHandle","getMemory",a+"var obj = new constructor("+n+");\nreturn valueToHandle(obj);\n}\n")(Se,t,de,(()=>O))}(n),Me[n]=o),o(e,r,a)},D:function(){return de([])},k:function(e){e=pe(e);for(var t=Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return de(t)},d:function(e){return de(Ee(e))},j:function(){return de({})},g:function(e){for(var t=pe(e);t.length;){var n=t.pop();t.pop()(n)}fe(e)},e:function(e,t,n){e=pe(e),t=pe(t),n=pe(n),e[t]=n},f:function(e,t){return e=(e=Se(e,"_emval_take_value")).readValueFromPointer(t),de(e)},_:function(e,t){e=new Date(1e3*(O[e>>>2]+4294967296*S[e+4>>>2])),S[t>>2>>>0]=e.getUTCSeconds(),S[t+4>>2>>>0]=e.getUTCMinutes(),S[t+8>>2>>>0]=e.getUTCHours(),S[t+12>>2>>>0]=e.getUTCDate(),S[t+16>>2>>>0]=e.getUTCMonth(),S[t+20>>2>>>0]=e.getUTCFullYear()-1900,S[t+24>>2>>>0]=e.getUTCDay(),S[t+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},$:function(e,t){e=new Date(1e3*(O[e>>>2]+4294967296*S[e+4>>>2])),S[t>>2>>>0]=e.getSeconds(),S[t+4>>2>>>0]=e.getMinutes(),S[t+8>>2>>>0]=e.getHours(),S[t+12>>2>>>0]=e.getDate(),S[t+16>>2>>>0]=e.getMonth(),S[t+20>>2>>>0]=e.getFullYear()-1900,S[t+24>>2>>>0]=e.getDay(),S[t+28>>2>>>0]=0|De(e),S[t+36>>2>>>0]=-60*e.getTimezoneOffset();var n=new Date(e.getFullYear(),6,1).getTimezoneOffset(),r=new Date(e.getFullYear(),0,1).getTimezoneOffset();S[t+32>>2>>>0]=0|(n!=r&&e.getTimezoneOffset()==Math.min(r,n))},aa:function(e){var t=new Date(S[e+20>>2>>>0]+1900,S[e+16>>2>>>0],S[e+12>>2>>>0],S[e+8>>2>>>0],S[e+4>>2>>>0],S[e>>2>>>0],0),n=S[e+32>>2>>>0],r=t.getTimezoneOffset(),a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),o=new Date(t.getFullYear(),0,1).getTimezoneOffset(),i=Math.min(o,a);return 0>n?S[e+32>>2>>>0]=Number(a!=o&&i==r):0<n!=(i==r)&&(a=Math.max(o,a),t.setTime(t.getTime()+6e4*((0<n?i:a)-r))),S[e+24>>2>>>0]=t.getDay(),S[e+28>>2>>>0]=0|De(t),S[e>>2>>>0]=t.getSeconds(),S[e+4>>2>>>0]=t.getMinutes(),S[e+8>>2>>>0]=t.getHours(),S[e+12>>2>>>0]=t.getDate(),S[e+16>>2>>>0]=t.getMonth(),S[e+20>>2>>>0]=t.getYear(),t.getTime()/1e3|0},P:function(){return-52},Q:function(){},ba:function(e,t,n){function r(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}var a=(new Date).getFullYear(),o=new Date(a,0,1),i=new Date(a,6,1);a=o.getTimezoneOffset();var s=i.getTimezoneOffset();O[e>>2>>>0]=60*Math.max(a,s),S[t>>2>>>0]=Number(a!=s),e=r(o),t=r(i),e=Ue(e),t=Ue(t),s<a?(O[n>>2>>>0]=e,O[n+4>>2>>>0]=t):(O[n>>2>>>0]=t,O[n+4>>2>>>0]=e)},q:function(){L("")},ha:function(){L("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},A:function(){return Date.now()},J:function(){return 4294901760},n:Ie,U:function(e,t,n){_.copyWithin(e>>>0,t>>>0,t+n>>>0)},I:function(e){var t=_.length;if(4294901760<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var a=Math,o=a.min;r=Math.max(e,r),r+=(65536-r%65536)%65536;e:{var i=b.buffer;try{b.grow(o.call(a,4294901760,r)-i.byteLength+65535>>>16),D();var s=1;break e}catch(e){}s=void 0}if(s)return!0}return!1},S:function(e,t){var n=0;return We().forEach((function(r,a){var o=t+n;for(a=O[e+4*a>>2>>>0]=o,o=0;o<r.length;++o)w[a++>>0>>>0]=r.charCodeAt(o);w[a>>0>>>0]=0,n+=r.length+1})),0},T:function(e,t){var n=We();O[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),O[t>>2>>>0]=r,0},s:function(){return 52},y:function(){return 52},F:function(){return 70},x:function(e,t,n,r){for(var a=0,o=0;o<n;o++){var i=O[t>>2>>>0],s=O[t+4>>2>>>0];t+=8;for(var u=0;u<s;u++){var c=_[i+u>>>0],l=Be[e];0===c||10===c?((1===e?y:v)(M(l,0)),l.length=0):l.push(c)}a+=s}return O[r>>2>>>0]=a,0},da:He,m:function(e,t,n,r){return He(e,t,n,r)}};!function(){function e(e){if(e=e.exports,t.asm=e,b=t.asm.ja,D(),j.unshift(t.asm.ka),G--,t.monitorRunDependencies&&t.monitorRunDependencies(G),0==G&&(null!==z&&(clearInterval(z),z=null),H)){var n=H;H=null,n()}return e}var n={a:Ye};if(G++,t.monitorRunDependencies&&t.monitorRunDependencies(G),t.instantiateWasm)try{return t.instantiateWasm(n,e)}catch(e){v("Module.instantiateWasm callback failed with error: "+e),a(e)}(function(e,t){var n=B;return m||"function"!=typeof WebAssembly.instantiateStreaming||N(n)||n.startsWith("file://")||p||"function"!=typeof fetch?q(n,e,t):fetch(n,{credentials:"same-origin"}).then((function(r){return WebAssembly.instantiateStreaming(r,e).then(t,(function(r){return v("wasm streaming compile failed: "+r),v("falling back to ArrayBuffer instantiation"),q(n,e,t)}))}))})(n,(function(t){e(t.instance)})).catch(a)}(),t._OrtInit=function(){return(t._OrtInit=t.asm.la).apply(null,arguments)},t._OrtCreateSessionOptions=function(){return(t._OrtCreateSessionOptions=t.asm.ma).apply(null,arguments)},t._OrtAppendExecutionProvider=function(){return(t._OrtAppendExecutionProvider=t.asm.na).apply(null,arguments)},t._OrtAddSessionConfigEntry=function(){return(t._OrtAddSessionConfigEntry=t.asm.oa).apply(null,arguments)},t._OrtReleaseSessionOptions=function(){return(t._OrtReleaseSessionOptions=t.asm.pa).apply(null,arguments)},t._OrtCreateSession=function(){return(t._OrtCreateSession=t.asm.qa).apply(null,arguments)},t._OrtReleaseSession=function(){return(t._OrtReleaseSession=t.asm.ra).apply(null,arguments)},t._OrtGetInputCount=function(){return(t._OrtGetInputCount=t.asm.sa).apply(null,arguments)},t._OrtGetOutputCount=function(){return(t._OrtGetOutputCount=t.asm.ta).apply(null,arguments)},t._OrtGetInputName=function(){return(t._OrtGetInputName=t.asm.ua).apply(null,arguments)},t._OrtGetOutputName=function(){return(t._OrtGetOutputName=t.asm.va).apply(null,arguments)},t._OrtFree=function(){return(t._OrtFree=t.asm.wa).apply(null,arguments)},t._OrtCreateTensor=function(){return(t._OrtCreateTensor=t.asm.xa).apply(null,arguments)},t._OrtGetTensorData=function(){return(t._OrtGetTensorData=t.asm.ya).apply(null,arguments)},t._OrtReleaseTensor=function(){return(t._OrtReleaseTensor=t.asm.za).apply(null,arguments)},t._OrtCreateRunOptions=function(){return(t._OrtCreateRunOptions=t.asm.Aa).apply(null,arguments)},t._OrtAddRunConfigEntry=function(){return(t._OrtAddRunConfigEntry=t.asm.Ba).apply(null,arguments)},t._OrtReleaseRunOptions=function(){return(t._OrtReleaseRunOptions=t.asm.Ca).apply(null,arguments)},t._OrtRun=function(){return(t._OrtRun=t.asm.Da).apply(null,arguments)},t._OrtEndProfiling=function(){return(t._OrtEndProfiling=t.asm.Ea).apply(null,arguments)};var Ve,qe=t._malloc=function(){return(qe=t._malloc=t.asm.Fa).apply(null,arguments)},Ke=t._free=function(){return(Ke=t._free=t.asm.Ga).apply(null,arguments)},Je=t.___getTypeName=function(){return(Je=t.___getTypeName=t.asm.Ha).apply(null,arguments)};function Xe(){return(Xe=t.asm.Ka).apply(null,arguments)}function Qe(){return(Qe=t.asm.La).apply(null,arguments)}function Ze(){return(Ze=t.asm.Ma).apply(null,arguments)}function et(){function e(){if(!Ve&&(Ve=!0,t.calledRun=!0,!C)){if(K(j),r(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();W.unshift(e)}K(W)}}if(!(0<G)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)F();K(U),0<G||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e())}}if(t.__embind_initialize_bindings=function(){return(t.__embind_initialize_bindings=t.asm.Ia).apply(null,arguments)},t.UTF8ToString=k,t.stringToUTF8=R,t.lengthBytesUTF8=x,t.stackAlloc=Ze,t.stackSave=Xe,t.stackRestore=Qe,H=function e(){Ve||et(),Ve||(H=e)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return et(),e.ready});e.exports=r},154:e=>{"use strict";e.exports='"use strict";var e={},a="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(a){var r=require("worker_threads"),t=r.parentPort;t.on("message",(e=>onmessage({data:e})));var s=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(s.readFileSync(e,"utf8")+"//# sourceURL="+e)},postMessage:function(e){t.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var o=!1,n=[],d=function(){var e=Array.prototype.slice.call(arguments).join(" ");a?s.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var a=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:a,threadId:e._pthread_self()})},e.instantiateWasm=(a,r)=>{var t=e.wasmModule;return e.wasmModule=null,r(new WebAssembly.Instance(t,a))},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=function a(r){try{if("load"===r.data.cmd){let s=[];self.onmessage=e=>s.push(e),self.startWorker=r=>{e=r,postMessage({cmd:"loaded"});for(let e of s)a(e);self.onmessage=a},e.wasmModule=r.data.wasmModule;for(const a of r.data.handlers)e[a]=function(){postMessage({cmd:"callHandler",handler:a,args:[...arguments]})};if(e.wasmMemory=r.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof r.data.urlOrBlob)importScripts(r.data.urlOrBlob);else{var t=URL.createObjectURL(r.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(e)}else if("run"===r.data.cmd){e.__emscripten_thread_init(r.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(r.data),e.PThread.threadInitTLS(),o||(e.__embind_initialize_bindings(),n.forEach((a=>{e.executeNotifiedProxyingQueue(a)})),n=[],o=!0);try{e.invokeEntryPoint(r.data.start_routine,r.data.arg)}catch(e){if("unwind"!=e)throw e}}else"cancel"===r.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===r.data.target||("processProxyingQueue"===r.data.cmd?o?e.executeNotifiedProxyingQueue(r.data.queue):n.push(r.data.queue):r.data.cmd&&(d("worker.js received unknown command "+r.data.cmd),d(r.data)))}catch(a){throw e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),a}};\n'},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},806:()=>{},449:()=>{},850:()=>{},381:()=>{}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}return n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(57)})()));
//# sourceMappingURL=ort.wasm.min.js.map